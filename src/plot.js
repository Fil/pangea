/* esm.sh - esbuild bundle(gh/observablehq/plot@7d18179ef5) es2022 production */
var W5=Object.create;var Dy=Object.defineProperty;var G5=Object.getOwnPropertyDescriptor;var H5=Object.getOwnPropertyNames;var j5=Object.getPrototypeOf,V5=Object.prototype.hasOwnProperty;var Py=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Z5=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of H5(e))!V5.call(t,o)&&o!==n&&Dy(t,o,{get:()=>e[o],enumerable:!(r=G5(e,o))||r.enumerable});return t};var K5=(t,e,n)=>(n=t!=null?W5(j5(t)):{},Z5(e||!t||!t.__esModule?Dy(n,"default",{value:t,enumerable:!0}):n,t));var b5=Py((mlt,x5)=>{"use strict";function oE(t,e,n,r,o){for(var i=o+1;r<=o;){var a=r+o>>>1,f=t[a],s=n!==void 0?n(f,e):f-e;s>=0?(i=a,o=a-1):r=a+1}return i}function iE(t,e,n,r,o){for(var i=o+1;r<=o;){var a=r+o>>>1,f=t[a],s=n!==void 0?n(f,e):f-e;s>0?(i=a,o=a-1):r=a+1}return i}function aE(t,e,n,r,o){for(var i=r-1;r<=o;){var a=r+o>>>1,f=t[a],s=n!==void 0?n(f,e):f-e;s<0?(i=a,r=a+1):o=a-1}return i}function fE(t,e,n,r,o){for(var i=r-1;r<=o;){var a=r+o>>>1,f=t[a],s=n!==void 0?n(f,e):f-e;s<=0?(i=a,r=a+1):o=a-1}return i}function sE(t,e,n,r,o){for(;r<=o;){var i=r+o>>>1,a=t[i],f=n!==void 0?n(a,e):a-e;if(f===0)return i;f<=0?r=i+1:o=i-1}return-1}function Du(t,e,n,r,o,i){return typeof n=="function"?i(t,e,n,r===void 0?0:r|0,o===void 0?t.length-1:o|0):i(t,e,void 0,n===void 0?0:n|0,r===void 0?t.length-1:r|0)}x5.exports={ge:function(t,e,n,r,o){return Du(t,e,n,r,o,oE)},gt:function(t,e,n,r,o){return Du(t,e,n,r,o,iE)},lt:function(t,e,n,r,o){return Du(t,e,n,r,o,aE)},le:function(t,e,n,r,o){return Du(t,e,n,r,o,fE)},eq:function(t,e,n,r,o){return Du(t,e,n,r,o,sE)}}});var A5=Py((glt,k5)=>{"use strict";var bp=b5(),xf=0,Ni=1,xp=2;k5.exports=cE;function Ty(t,e,n,r,o){this.mid=t,this.left=e,this.right=n,this.leftPoints=r,this.rightPoints=o,this.count=(e?e.count:0)+(n?n.count:0)+r.length}var Pu=Ty.prototype;function My(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function _5(t,e){var n=bf(e);t.mid=n.mid,t.left=n.left,t.right=n.right,t.leftPoints=n.leftPoints,t.rightPoints=n.rightPoints,t.count=n.count}function w5(t,e){var n=t.intervals([]);n.push(e),_5(t,n)}function v5(t,e){var n=t.intervals([]),r=n.indexOf(e);return r<0?xf:(n.splice(r,1),_5(t,n),Ni)}Pu.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t};Pu.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?w5(this,t):this.left.insert(t):this.left=bf([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?w5(this,t):this.right.insert(t):this.right=bf([t]);else{var n=bp.ge(this.leftPoints,t,ky),r=bp.ge(this.rightPoints,t,Ay);this.leftPoints.splice(n,0,t),this.rightPoints.splice(r,0,t)}};Pu.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid){if(!this.left)return xf;var n=this.right?this.right.count:0;if(4*n>3*(e-1))return v5(this,t);var r=this.left.remove(t);return r===xp?(this.left=null,this.count-=1,Ni):(r===Ni&&(this.count-=1),r)}else if(t[0]>this.mid){if(!this.right)return xf;var o=this.left?this.left.count:0;if(4*o>3*(e-1))return v5(this,t);var r=this.right.remove(t);return r===xp?(this.right=null,this.count-=1,Ni):(r===Ni&&(this.count-=1),r)}else{if(this.count===1)return this.leftPoints[0]===t?xp:xf;if(this.leftPoints.length===1&&this.leftPoints[0]===t){if(this.left&&this.right){for(var i=this,a=this.left;a.right;)i=a,a=a.right;if(i===this)a.right=this.right;else{var f=this.left,r=this.right;i.count-=a.count,i.right=a.left,a.left=f,a.right=r}My(this,a),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?My(this,this.left):My(this,this.right);return Ni}for(var f=bp.ge(this.leftPoints,t,ky);f<this.leftPoints.length&&this.leftPoints[f][0]===t[0];++f)if(this.leftPoints[f]===t){this.count-=1,this.leftPoints.splice(f,1);for(var r=bp.ge(this.rightPoints,t,Ay);r<this.rightPoints.length&&this.rightPoints[r][1]===t[1];++r)if(this.rightPoints[r]===t)return this.rightPoints.splice(r,1),Ni}return xf}};function M5(t,e,n){for(var r=0;r<t.length&&t[r][0]<=e;++r){var o=n(t[r]);if(o)return o}}function S5(t,e,n){for(var r=t.length-1;r>=0&&t[r][1]>=e;--r){var o=n(t[r]);if(o)return o}}function T5(t,e){for(var n=0;n<t.length;++n){var r=e(t[n]);if(r)return r}}Pu.queryPoint=function(t,e){if(t<this.mid){if(this.left){var n=this.left.queryPoint(t,e);if(n)return n}return M5(this.leftPoints,t,e)}else if(t>this.mid){if(this.right){var n=this.right.queryPoint(t,e);if(n)return n}return S5(this.rightPoints,t,e)}else return T5(this.leftPoints,e)};Pu.queryInterval=function(t,e,n){if(t<this.mid&&this.left){var r=this.left.queryInterval(t,e,n);if(r)return r}if(e>this.mid&&this.right){var r=this.right.queryInterval(t,e,n);if(r)return r}return e<this.mid?M5(this.leftPoints,e,n):t>this.mid?S5(this.rightPoints,t,n):T5(this.leftPoints,n)};function uE(t,e){return t-e}function ky(t,e){var n=t[0]-e[0];return n||t[1]-e[1]}function Ay(t,e){var n=t[1]-e[1];return n||t[0]-e[0]}function bf(t){if(t.length===0)return null;for(var e=[],n=0;n<t.length;++n)e.push(t[n][0],t[n][1]);e.sort(uE);for(var r=e[e.length>>1],o=[],i=[],a=[],n=0;n<t.length;++n){var f=t[n];f[1]<r?o.push(f):r<f[0]?i.push(f):a.push(f)}var s=a,u=a.slice();return s.sort(ky),u.sort(Ay),new Ty(r,bf(o),bf(i),s,u)}function Sy(t){this.root=t}var wf=Sy.prototype;wf.insert=function(t){this.root?this.root.insert(t):this.root=new Ty(t[0],null,null,[t],[t])};wf.remove=function(t){if(this.root){var e=this.root.remove(t);return e===xp&&(this.root=null),e!==xf}return!1};wf.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)};wf.queryInterval=function(t,e,n){if(t<=e&&this.root)return this.root.queryInterval(t,e,n)};Object.defineProperty(wf,"count",{get:function(){return this.root?this.root.count:0}});Object.defineProperty(wf,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function cE(t){return!t||t.length===0?new Sy(null):new Sy(bf(t))}});function yt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ne(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ur(t){let e,n,r;t.length!==2?(e=yt,n=(f,s)=>yt(t(f),s),r=(f,s)=>t(f)-s):(e=t===yt||t===Ne?t:Q5,n=t,r=t);function o(f,s,u=0,c=f.length){if(u<c){if(e(s,s)!==0)return c;do{let h=u+c>>>1;n(f[h],s)<0?u=h+1:c=h}while(u<c)}return u}function i(f,s,u=0,c=f.length){if(u<c){if(e(s,s)!==0)return c;do{let h=u+c>>>1;n(f[h],s)<=0?u=h+1:c=h}while(u<c)}return u}function a(f,s,u=0,c=f.length){let h=o(f,s,u,c-1);return h>u&&r(f[h-1],s)>-r(f[h],s)?h-1:h}return{left:o,center:a,right:i}}function Q5(){return 0}function _f(t){return t===null?NaN:+t}function*Ly(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}var Oy=ur(yt),zy=Oy.right,J5=Oy.left,t4=ur(_f).center,cr=zy;var Mf=Fy(Yy),vp=Fy(e4);function Fy(t){return function(e,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:o,width:i,height:a}=e;if(!((i=Math.floor(i))>=0))throw new RangeError("invalid width");if(!((a=Math.floor(a!==void 0?a:o.length/i))>=0))throw new RangeError("invalid height");if(!i||!a||!n&&!r)return e;let f=n&&t(n),s=r&&t(r),u=o.slice();return f&&s?(Di(f,u,o,i,a),Di(f,o,u,i,a),Di(f,u,o,i,a),Pi(s,o,u,i,a),Pi(s,u,o,i,a),Pi(s,o,u,i,a)):f?(Di(f,o,u,i,a),Di(f,u,o,i,a),Di(f,o,u,i,a)):s&&(Pi(s,o,u,i,a),Pi(s,u,o,i,a),Pi(s,o,u,i,a)),e}}function Di(t,e,n,r,o){for(let i=0,a=r*o;i<a;)t(e,n,i,i+=r,1)}function Pi(t,e,n,r,o){for(let i=0,a=r*o;i<r;++i)t(e,n,i,i+a,r)}function e4(t){let e=Yy(t);return(n,r,o,i,a)=>{o<<=2,i<<=2,a<<=2,e(n,r,o+0,i+0,a),e(n,r,o+1,i+1,a),e(n,r,o+2,i+2,a),e(n,r,o+3,i+3,a)}}function Yy(t){let e=Math.floor(t);if(e===t)return n4(t);let n=t-e,r=2*t+1;return(o,i,a,f,s)=>{if(!((f-=s)>=a))return;let u=e*i[a],c=s*e,h=c+s;for(let l=a,d=a+c;l<d;l+=s)u+=i[Math.min(f,l)];for(let l=a,d=f;l<=d;l+=s)u+=i[Math.min(f,l+c)],o[l]=(u+n*(i[Math.max(a,l-h)]+i[Math.min(f,l+h)]))/r,u-=i[Math.max(a,l-c)]}}function n4(t){let e=2*t+1;return(n,r,o,i,a)=>{if(!((i-=a)>=o))return;let f=t*r[o],s=a*t;for(let u=o,c=o+s;u<c;u+=a)f+=r[Math.min(i,u)];for(let u=o,c=i;u<=c;u+=a)f+=r[Math.min(i,u+s)],n[u]=f/e,f-=r[Math.max(o,u-s)]}}function Rn(t,e){let n=0;if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let o of t)(o=e(o,++r,t))!=null&&(o=+o)>=o&&++n}return n}function r4(t){return t.length|0}function o4(t){return!(t>0)}function i4(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function a4(t){return e=>t(...e)}function Ou(...t){let e=typeof t[t.length-1]=="function"&&a4(t.pop());t=t.map(i4);let n=t.map(r4),r=t.length-1,o=new Array(r+1).fill(0),i=[];if(r<0||n.some(o4))return i;for(;;){i.push(o.map((f,s)=>t[s][f]));let a=r;for(;++o[a]===n[a];){if(a===0)return e?i.map(e):i;o[a--]=0}}}function zu(t,e){var n=0,r=0;return Float64Array.from(t,e===void 0?o=>n+=+o||0:o=>n+=+e(o,r++,t)||0)}function Vr(t,e){let n=0,r,o=0,i=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-o,o+=r/++n,i+=r*(a-o));else{let a=-1;for(let f of t)(f=e(f,++a,t))!=null&&(f=+f)>=f&&(r=f-o,o+=r/++n,i+=r*(f-o))}if(n>1)return i/(n-1)}function rn(t,e){let n=Vr(t,e);return n&&Math.sqrt(n)}function _t(t,e){let n,r;if(e===void 0)for(let o of t)o!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)));else{let o=-1;for(let i of t)(i=e(i,++o,t))!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}var me=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){let n=this._partials,r=0;for(let o=0;o<this._n&&o<32;o++){let i=n[o],a=e+i,f=Math.abs(e)<Math.abs(i)?e-(a-i):i-(a-e);f&&(n[r++]=f),e=a}return n[r]=e,this._n=r+1,this}valueOf(){let e=this._partials,n=this._n,r,o,i,a=0;if(n>0){for(a=e[--n];n>0&&(r=a,o=e[--n],a=r+o,i=o-(a-r),!i););n>0&&(i<0&&e[n-1]<0||i>0&&e[n-1]>0)&&(o=i*2,r=a+o,o==r-a&&(a=r))}return a}};var Ie=class extends Map{constructor(e,n=Xy){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(let[r,o]of e)this.set(r,o)}get(e){return super.get(_p(this,e))}has(e){return super.has(_p(this,e))}set(e,n){return super.set(qy(this,e),n)}delete(e){return super.delete(By(this,e))}},Ve=class extends Set{constructor(e,n=Xy){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(let r of e)this.add(r)}has(e){return super.has(_p(this,e))}add(e){return super.add(qy(this,e))}delete(e){return super.delete(By(this,e))}};function _p({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):n}function qy({_intern:t,_key:e},n){let r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function By({_intern:t,_key:e},n){let r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Xy(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Sf(t){return t}function ge(t,...e){return Sp(t,Sf,Sf,e)}function wn(t,e,...n){return Sp(t,Sf,e,n)}function Mp(t,e,...n){return Sp(t,Array.from,e,n)}function Sp(t,e,n,r){return function o(i,a){if(a>=r.length)return n(i);let f=new Ie,s=r[a++],u=-1;for(let c of i){let h=s(c,++u,i),l=f.get(h);l?l.push(c):f.set(h,[c])}for(let[c,h]of f)f.set(c,o(h,a));return e(f)}(t,0)}function Tp(t,e){return Array.from(e,n=>t[n])}function lr(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){let r=Uint32Array.from(t,(o,i)=>i);return e.length>1?(e=e.map(o=>t.map(o)),r.sort((o,i)=>{for(let a of e){let f=zo(a[o],a[i]);if(f)return f}})):(n=t.map(n),r.sort((o,i)=>zo(n[o],n[i]))),Tp(t,r)}return t.sort(Tf(n))}function Tf(t=yt){if(t===yt)return zo;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{let r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function zo(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function Li(t,e,n){return(e.length!==2?lr(wn(t,e,n),([r,o],[i,a])=>yt(o,a)||yt(r,i)):lr(ge(t,n),([r,o],[i,a])=>e(o,a)||yt(r,i))).map(([r])=>r)}var f4=Math.sqrt(50),s4=Math.sqrt(10),u4=Math.sqrt(2);function Fu(t,e,n){let r=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(r)),i=r/Math.pow(10,o),a=i>=f4?10:i>=s4?5:i>=u4?2:1,f,s,u;return o<0?(u=Math.pow(10,-o)/a,f=Math.round(t*u),s=Math.round(e*u),f/u<t&&++f,s/u>e&&--s,u=-u):(u=Math.pow(10,o)*a,f=Math.round(t/u),s=Math.round(e/u),f*u<t&&++f,s*u>e&&--s),s<f&&.5<=n&&n<2?Fu(t,e,n*2):[f,s,u]}function ye(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];let r=e<t,[o,i,a]=r?Fu(e,t,n):Fu(t,e,n);if(!(i>=o))return[];let f=i-o+1,s=new Array(f);if(r)if(a<0)for(let u=0;u<f;++u)s[u]=(i-u)/-a;else for(let u=0;u<f;++u)s[u]=(i-u)*a;else if(a<0)for(let u=0;u<f;++u)s[u]=(o+u)/-a;else for(let u=0;u<f;++u)s[u]=(o+u)*a;return s}function hr(t,e,n){return e=+e,t=+t,n=+n,Fu(t,e,n)[2]}function Oi(t,e,n){e=+e,t=+t,n=+n;let r=e<t,o=r?hr(e,t,n):hr(t,e,n);return(r?-1:1)*(o<0?1/-o:o)}function zi(t,e,n){let r;for(;;){let o=hr(t,e,n);if(o===r||o===0||!isFinite(o))return[t,e];o>0?(t=Math.floor(t/o)*o,e=Math.ceil(e/o)*o):o<0&&(t=Math.ceil(t*o)/o,e=Math.floor(e*o)/o),r=o}}function Zr(t){return Math.max(1,Math.ceil(Math.log(Rn(t))/Math.LN2)+1)}function At(t,e){let n;if(e===void 0)for(let r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of t)(o=e(o,++r,t))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function Yu(t,e){let n,r=-1,o=-1;if(e===void 0)for(let i of t)++o,i!=null&&(n<i||n===void 0&&i>=i)&&(n=i,r=o);else for(let i of t)(i=e(i,++o,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i,r=o);return r}function zt(t,e){let n;if(e===void 0)for(let r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of t)(o=e(o,++r,t))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function qu(t,e){let n,r=-1,o=-1;if(e===void 0)for(let i of t)++o,i!=null&&(n>i||n===void 0&&i>=i)&&(n=i,r=o);else for(let i of t)(i=e(i,++o,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i,r=o);return r}function Bu(t,e,n=0,r=1/0,o){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(o=o===void 0?zo:Tf(o);r>n;){if(r-n>600){let s=r-n+1,u=e-n+1,c=Math.log(s),h=.5*Math.exp(2*c/3),l=.5*Math.sqrt(c*h*(s-h)/s)*(u-s/2<0?-1:1),d=Math.max(n,Math.floor(e-u*h/s+l)),p=Math.min(r,Math.floor(e+(s-u)*h/s+l));Bu(t,e,d,p,o)}let i=t[e],a=n,f=r;for(kf(t,n,e),o(t[r],i)>0&&kf(t,n,r);a<f;){for(kf(t,a,f),++a,--f;o(t[a],i)<0;)++a;for(;o(t[f],i)>0;)--f}o(t[n],i)===0?kf(t,n,f):(++f,kf(t,f,r)),f<=e&&(n=f+1),e<=f&&(r=f-1)}return t}function kf(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}function Fo(t,e=yt){let n,r=!1;if(e.length===1){let o;for(let i of t){let a=e(i);(r?yt(a,o)>0:yt(a,a)===0)&&(n=i,o=a,r=!0)}}else for(let o of t)(r?e(o,n)>0:e(o,o)===0)&&(n=o,r=!0);return n}function Re(t,e,n){if(t=Float64Array.from(Ly(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return zt(t);if(e>=1)return At(t);var r,o=(r-1)*e,i=Math.floor(o),a=At(Bu(t,i).subarray(0,i+1)),f=zt(t.subarray(i+1));return a+(f-a)*(o-i)}}function kp(t,e,n=_f){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,o=(r-1)*e,i=Math.floor(o),a=+n(t[i],i,t),f=+n(t[i+1],i+1,t);return a+(f-a)*(o-i)}}function Xu(t,e,n){let r=Rn(t),o=Re(t,.75)-Re(t,.25);return r&&o?Math.ceil((n-e)/(2*o*Math.pow(r,-1/3))):1}function Af(t,e,n){let r=Rn(t),o=rn(t);return r&&o?Math.ceil((n-e)*Math.cbrt(r)/(3.49*o)):1}function dr(t,e){let n=0,r=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(++n,r+=o);else{let o=-1;for(let i of t)(i=e(i,++o,t))!=null&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}function vn(t,e){return Re(t,.5,e)}function*l4(t){for(let e of t)yield*e}function Fi(t){return Array.from(l4(t))}function Yi(t,e){let n=new Ie;if(e===void 0)for(let i of t)i!=null&&i>=i&&n.set(i,(n.get(i)||0)+1);else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,o=0;for(let[i,a]of n)a>o&&(o=a,r=i);return r}function Uu(t,e=h4){let n=[],r,o=!1;for(let i of t)o&&n.push(e(r,i)),r=i,o=!0;return n}function h4(t,e){return[t,e]}function oe(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var r=-1,o=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(o);++r<o;)i[r]=t+r*n;return i}function Cf(t,e=yt){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(t),r=new Float64Array(n.length);e.length!==2&&(n=n.map(e),e=yt);let o=(f,s)=>e(n[f],n[s]),i,a;return t=Uint32Array.from(n,(f,s)=>s),t.sort(e===yt?(f,s)=>zo(n[f],n[s]):Tf(o)),t.forEach((f,s)=>{let u=o(f,i===void 0?f:i);u>=0?((i===void 0||u>0)&&(i=f,a=s),r[f]=a):r[f]=NaN}),r}function Wu(t,e=yt){let n,r=!1;if(e.length===1){let o;for(let i of t){let a=e(i);(r?yt(a,o)<0:yt(a,a)===0)&&(n=i,o=a,r=!0)}}else for(let o of t)(r?e(o,n)<0:e(o,o)===0)&&(n=o,r=!0);return n}function xe(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let o of t)(o=+e(o,++r,t))&&(n+=o)}return n}function Kr(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Uy(t){return t}var Ap=1,Cp=2,$p=3,Gu=4,Wy=1e-6;function d4(t){return"translate("+t+",0)"}function p4(t){return"translate(0,"+t+")"}function m4(t){return e=>+t(e)}function g4(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function y4(){return!this.__axis}function x4(t,e){var n=[],r=null,o=null,i=6,a=6,f=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===Ap||t===Gu?-1:1,c=t===Gu||t===Cp?"x":"y",h=t===Ap||t===$p?d4:p4;function l(d){var p=r??(e.ticks?e.ticks.apply(e,n):e.domain()),m=o??(e.tickFormat?e.tickFormat.apply(e,n):Uy),x=Math.max(i,0)+f,y=e.range(),g=+y[0]+s,w=+y[y.length-1]+s,b=(e.bandwidth?g4:m4)(e.copy(),s),_=d.selection?d.selection():d,v=_.selectAll(".domain").data([null]),M=_.selectAll(".tick").data(p,e).order(),k=M.exit(),S=M.enter().append("g").attr("class","tick"),A=M.select("line"),T=M.select("text");v=v.merge(v.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(S),A=A.merge(S.append("line").attr("stroke","currentColor").attr(c+"2",u*i)),T=T.merge(S.append("text").attr("fill","currentColor").attr(c,u*x).attr("dy",t===Ap?"0em":t===$p?"0.71em":"0.32em")),d!==_&&(v=v.transition(d),M=M.transition(d),A=A.transition(d),T=T.transition(d),k=k.transition(d).attr("opacity",Wy).attr("transform",function($){return isFinite($=b($))?h($+s):this.getAttribute("transform")}),S.attr("opacity",Wy).attr("transform",function($){var I=this.parentNode.__axis;return h((I&&isFinite(I=I($))?I:b($))+s)})),k.remove(),v.attr("d",t===Gu||t===Cp?a?"M"+u*a+","+g+"H"+s+"V"+w+"H"+u*a:"M"+s+","+g+"V"+w:a?"M"+g+","+u*a+"V"+s+"H"+w+"V"+u*a:"M"+g+","+s+"H"+w),M.attr("opacity",1).attr("transform",function($){return h(b($)+s)}),A.attr(c+"2",u*i),T.attr(c,u*x).text(m),_.filter(y4).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Cp?"start":t===Gu?"end":"middle"),_.each(function(){this.__axis=b})}return l.scale=function(d){return arguments.length?(e=d,l):e},l.ticks=function(){return n=Array.from(arguments),l},l.tickArguments=function(d){return arguments.length?(n=d==null?[]:Array.from(d),l):n.slice()},l.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),l):r&&r.slice()},l.tickFormat=function(d){return arguments.length?(o=d,l):o},l.tickSize=function(d){return arguments.length?(i=a=+d,l):i},l.tickSizeInner=function(d){return arguments.length?(i=+d,l):i},l.tickSizeOuter=function(d){return arguments.length?(a=+d,l):a},l.tickPadding=function(d){return arguments.length?(f=+d,l):f},l.offset=function(d){return arguments.length?(s=+d,l):s},l}function Ep(t){return x4($p,t)}var b4={value:()=>{}};function Hy(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Hu(n)}function Hu(t){this._=t}function w4(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Hu.prototype=Hy.prototype={constructor:Hu,on:function(t,e){var n=this._,r=w4(t+"",n),o,i=-1,a=r.length;if(arguments.length<2){for(;++i<a;)if((o=(t=r[i]).type)&&(o=v4(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<a;)if(o=(t=r[i]).type)n[o]=Gy(n[o],t.name,e);else if(e==null)for(o in n)n[o]=Gy(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Hu(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};function v4(t,e){for(var n=0,r=t.length,o;n<r;++n)if((o=t[n]).name===e)return o.value}function Gy(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=b4,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Np=Hy;var ju="http://www.w3.org/1999/xhtml",De={svg:"http://www.w3.org/2000/svg",xhtml:ju,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pr(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),De.hasOwnProperty(e)?{space:De[e],local:t}:t}function _4(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ju&&e.documentElement.namespaceURI===ju?e.createElement(t):e.createElementNS(n,t)}}function M4(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function mr(t){var e=pr(t);return(e.local?M4:_4)(e)}function S4(){}function Yo(t){return t==null?S4:function(){return this.querySelector(t)}}function jy(t){typeof t!="function"&&(t=Yo(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i=e[o],a=i.length,f=r[o]=new Array(a),s,u,c=0;c<a;++c)(s=i[c])&&(u=t.call(s,s.__data__,c,i))&&("__data__"in s&&(u.__data__=s.__data__),f[c]=u);return new Ht(r,this._parents)}function Ip(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function T4(){return[]}function $f(t){return t==null?T4:function(){return this.querySelectorAll(t)}}function k4(t){return function(){return Ip(t.apply(this,arguments))}}function Vy(t){typeof t=="function"?t=k4(t):t=$f(t);for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var a=e[i],f=a.length,s,u=0;u<f;++u)(s=a[u])&&(r.push(t.call(s,s.__data__,u,a)),o.push(s));return new Ht(r,o)}function Ef(t){return function(){return this.matches(t)}}function Vu(t){return function(e){return e.matches(t)}}var A4=Array.prototype.find;function C4(t){return function(){return A4.call(this.children,t)}}function $4(){return this.firstElementChild}function Zy(t){return this.select(t==null?$4:C4(typeof t=="function"?t:Vu(t)))}var E4=Array.prototype.filter;function N4(){return Array.from(this.children)}function I4(t){return function(){return E4.call(this.children,t)}}function Ky(t){return this.selectAll(t==null?N4:I4(typeof t=="function"?t:Vu(t)))}function Qy(t){typeof t!="function"&&(t=Ef(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i=e[o],a=i.length,f=r[o]=[],s,u=0;u<a;++u)(s=i[u])&&t.call(s,s.__data__,u,i)&&f.push(s);return new Ht(r,this._parents)}function Zu(t){return new Array(t.length)}function Jy(){return new Ht(this._enter||this._groups.map(Zu),this._parents)}function Nf(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Nf.prototype={constructor:Nf,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function tx(t){return function(){return t}}function R4(t,e,n,r,o,i){for(var a=0,f,s=e.length,u=i.length;a<u;++a)(f=e[a])?(f.__data__=i[a],r[a]=f):n[a]=new Nf(t,i[a]);for(;a<s;++a)(f=e[a])&&(o[a]=f)}function D4(t,e,n,r,o,i,a){var f,s,u=new Map,c=e.length,h=i.length,l=new Array(c),d;for(f=0;f<c;++f)(s=e[f])&&(l[f]=d=a.call(s,s.__data__,f,e)+"",u.has(d)?o[f]=s:u.set(d,s));for(f=0;f<h;++f)d=a.call(t,i[f],f,i)+"",(s=u.get(d))?(r[f]=s,s.__data__=i[f],u.delete(d)):n[f]=new Nf(t,i[f]);for(f=0;f<c;++f)(s=e[f])&&u.get(l[f])===s&&(o[f]=s)}function P4(t){return t.__data__}function ex(t,e){if(!arguments.length)return Array.from(this,P4);var n=e?D4:R4,r=this._parents,o=this._groups;typeof t!="function"&&(t=tx(t));for(var i=o.length,a=new Array(i),f=new Array(i),s=new Array(i),u=0;u<i;++u){var c=r[u],h=o[u],l=h.length,d=L4(t.call(c,c&&c.__data__,u,r)),p=d.length,m=f[u]=new Array(p),x=a[u]=new Array(p),y=s[u]=new Array(l);n(c,h,m,x,y,d,e);for(var g=0,w=0,b,_;g<p;++g)if(b=m[g]){for(g>=w&&(w=g+1);!(_=x[w])&&++w<p;);b._next=_||null}}return a=new Ht(a,r),a._enter=f,a._exit=s,a}function L4(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function nx(){return new Ht(this._exit||this._groups.map(Zu),this._parents)}function rx(t,e,n){var r=this.enter(),o=this,i=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function ox(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,o=n.length,i=r.length,a=Math.min(o,i),f=new Array(o),s=0;s<a;++s)for(var u=n[s],c=r[s],h=u.length,l=f[s]=new Array(h),d,p=0;p<h;++p)(d=u[p]||c[p])&&(l[p]=d);for(;s<o;++s)f[s]=n[s];return new Ht(f,this._parents)}function ix(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],o=r.length-1,i=r[o],a;--o>=0;)(a=r[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function ax(t){t||(t=O4);function e(h,l){return h&&l?t(h.__data__,l.__data__):!h-!l}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a=n[i],f=a.length,s=o[i]=new Array(f),u,c=0;c<f;++c)(u=a[c])&&(s[c]=u);s.sort(e)}return new Ht(o,this._parents).order()}function O4(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function fx(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function sx(){return Array.from(this)}function ux(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null}function cx(){let t=0;for(let e of this)++t;return t}function lx(){return!this.node()}function hx(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o=e[n],i=0,a=o.length,f;i<a;++i)(f=o[i])&&t.call(f,f.__data__,i,o);return this}function z4(t){return function(){this.removeAttribute(t)}}function F4(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Y4(t,e){return function(){this.setAttribute(t,e)}}function q4(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function B4(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function X4(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function dx(t,e){var n=pr(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?F4:z4:typeof e=="function"?n.local?X4:B4:n.local?q4:Y4)(n,e))}function Ku(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function U4(t){return function(){this.style.removeProperty(t)}}function W4(t,e,n){return function(){this.style.setProperty(t,e,n)}}function G4(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function px(t,e,n){return arguments.length>1?this.each((e==null?U4:typeof e=="function"?G4:W4)(t,e,n??"")):Qr(this.node(),t)}function Qr(t,e){return t.style.getPropertyValue(e)||Ku(t).getComputedStyle(t,null).getPropertyValue(e)}function H4(t){return function(){delete this[t]}}function j4(t,e){return function(){this[t]=e}}function V4(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function mx(t,e){return arguments.length>1?this.each((e==null?H4:typeof e=="function"?V4:j4)(t,e)):this.node()[t]}function gx(t){return t.trim().split(/^|\s+/)}function Rp(t){return t.classList||new yx(t)}function yx(t){this._node=t,this._names=gx(t.getAttribute("class")||"")}yx.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function xx(t,e){for(var n=Rp(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function bx(t,e){for(var n=Rp(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function Z4(t){return function(){xx(this,t)}}function K4(t){return function(){bx(this,t)}}function Q4(t,e){return function(){(e.apply(this,arguments)?xx:bx)(this,t)}}function wx(t,e){var n=gx(t+"");if(arguments.length<2){for(var r=Rp(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?Q4:e?Z4:K4)(n,e))}function J4(){this.textContent=""}function t8(t){return function(){this.textContent=t}}function e8(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function vx(t){return arguments.length?this.each(t==null?J4:(typeof t=="function"?e8:t8)(t)):this.node().textContent}function n8(){this.innerHTML=""}function r8(t){return function(){this.innerHTML=t}}function o8(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function _x(t){return arguments.length?this.each(t==null?n8:(typeof t=="function"?o8:r8)(t)):this.node().innerHTML}function i8(){this.nextSibling&&this.parentNode.appendChild(this)}function Mx(){return this.each(i8)}function a8(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Sx(){return this.each(a8)}function Tx(t){var e=typeof t=="function"?t:mr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function f8(){return null}function kx(t,e){var n=typeof t=="function"?t:mr(t),r=e==null?f8:typeof e=="function"?e:Yo(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function s8(){var t=this.parentNode;t&&t.removeChild(this)}function Ax(){return this.each(s8)}function u8(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function c8(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Cx(t){return this.select(t?c8:u8)}function $x(t){return arguments.length?this.property("__data__",t):this.node().__data__}function l8(t){return function(e){t.call(this,e,this.__data__)}}function h8(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function d8(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,o=e.length,i;n<o;++n)i=e[n],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++r]=i;++r?e.length=r:delete this.__on}}}function p8(t,e,n){return function(){var r=this.__on,o,i=l8(e);if(r){for(var a=0,f=r.length;a<f;++a)if((o=r[a]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=e;return}}this.addEventListener(t.type,i,n),o={type:t.type,name:t.name,value:e,listener:i,options:n},r?r.push(o):this.__on=[o]}}function Ex(t,e,n){var r=h8(t+""),o,i=r.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var s=0,u=f.length,c;s<u;++s)for(o=0,c=f[s];o<i;++o)if((a=r[o]).type===c.type&&a.name===c.name)return c.value}return}for(f=e?p8:d8,o=0;o<i;++o)this.each(f(r[o],e,n));return this}function Nx(t,e,n){var r=Ku(t),o=r.CustomEvent;typeof o=="function"?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function m8(t,e){return function(){return Nx(this,t,e)}}function g8(t,e){return function(){return Nx(this,t,e.apply(this,arguments))}}function Ix(t,e){return this.each((typeof e=="function"?g8:m8)(t,e))}function*Rx(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length,a;o<i;++o)(a=r[o])&&(yield a)}var Dp=[null];function Ht(t,e){this._groups=t,this._parents=e}function Dx(){return new Ht([[document.documentElement]],Dp)}function y8(){return this}Ht.prototype=Dx.prototype={constructor:Ht,select:jy,selectAll:Vy,selectChild:Zy,selectChildren:Ky,filter:Qy,data:ex,enter:Jy,exit:nx,join:rx,merge:ox,selection:y8,order:ix,sort:ax,call:fx,nodes:sx,node:ux,size:cx,empty:lx,each:hx,attr:dx,style:px,property:mx,classed:wx,text:vx,html:_x,raise:Mx,lower:Sx,append:Tx,insert:kx,remove:Ax,clone:Cx,datum:$x,on:Ex,dispatch:Ix,[Symbol.iterator]:Rx};var gr=Dx;function Pe(t){return typeof t=="string"?new Ht([[document.querySelector(t)]],[document.documentElement]):new Ht([[t]],Dp)}function Px(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Pp(t,e){if(t=Px(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}function yr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Jr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pn(){}var to=.7,Xo=1/to,qi="\\s*([+-]?\\d+)\\s*",If="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",x8=/^#([0-9a-f]{3,8})$/,b8=new RegExp(`^rgb\\(${qi},${qi},${qi}\\)$`),w8=new RegExp(`^rgb\\(${Dn},${Dn},${Dn}\\)$`),v8=new RegExp(`^rgba\\(${qi},${qi},${qi},${If}\\)$`),_8=new RegExp(`^rgba\\(${Dn},${Dn},${Dn},${If}\\)$`),M8=new RegExp(`^hsl\\(${If},${Dn},${Dn}\\)$`),S8=new RegExp(`^hsla\\(${If},${Dn},${Dn},${If}\\)$`),Lx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yr(Pn,Mn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ox,formatHex:Ox,formatHex8:T8,formatHsl:k8,formatRgb:zx,toString:zx});function Ox(){return this.rgb().formatHex()}function T8(){return this.rgb().formatHex8()}function k8(){return Ux(this).formatHsl()}function zx(){return this.rgb().formatRgb()}function Mn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=x8.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Fx(e):n===3?new Zt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Qu(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Qu(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=b8.exec(t))?new Zt(e[1],e[2],e[3],1):(e=w8.exec(t))?new Zt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=v8.exec(t))?Qu(e[1],e[2],e[3],e[4]):(e=_8.exec(t))?Qu(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=M8.exec(t))?Bx(e[1],e[2]/100,e[3]/100,1):(e=S8.exec(t))?Bx(e[1],e[2]/100,e[3]/100,e[4]):Lx.hasOwnProperty(t)?Fx(Lx[t]):t==="transparent"?new Zt(NaN,NaN,NaN,0):null}function Fx(t){return new Zt(t>>16&255,t>>8&255,t&255,1)}function Qu(t,e,n,r){return r<=0&&(t=e=n=NaN),new Zt(t,e,n,r)}function Rf(t){return t instanceof Pn||(t=Mn(t)),t?(t=t.rgb(),new Zt(t.r,t.g,t.b,t.opacity)):new Zt}function Le(t,e,n,r){return arguments.length===1?Rf(t):new Zt(t,e,n,r??1)}function Zt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}yr(Zt,Le,Jr(Pn,{brighter(t){return t=t==null?Xo:Math.pow(Xo,t),new Zt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?to:Math.pow(to,t),new Zt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Zt(Bo(this.r),Bo(this.g),Bo(this.b),tc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yx,formatHex:Yx,formatHex8:A8,formatRgb:qx,toString:qx}));function Yx(){return`#${qo(this.r)}${qo(this.g)}${qo(this.b)}`}function A8(){return`#${qo(this.r)}${qo(this.g)}${qo(this.b)}${qo((isNaN(this.opacity)?1:this.opacity)*255)}`}function qx(){let t=tc(this.opacity);return`${t===1?"rgb(":"rgba("}${Bo(this.r)}, ${Bo(this.g)}, ${Bo(this.b)}${t===1?")":`, ${t})`}`}function tc(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function qo(t){return t=Bo(t),(t<16?"0":"")+t.toString(16)}function Bx(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new _n(t,e,n,r)}function Ux(t){if(t instanceof _n)return new _n(t.h,t.s,t.l,t.opacity);if(t instanceof Pn||(t=Mn(t)),!t)return new _n;if(t instanceof _n)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,f=i-o,s=(i+o)/2;return f?(e===i?a=(n-r)/f+(n<r)*6:n===i?a=(r-e)/f+2:a=(e-n)/f+4,f/=s<.5?i+o:2-i-o,a*=60):f=s>0&&s<1?0:a,new _n(a,f,s,t.opacity)}function Df(t,e,n,r){return arguments.length===1?Ux(t):new _n(t,e,n,r??1)}function _n(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}yr(_n,Df,Jr(Pn,{brighter(t){return t=t==null?Xo:Math.pow(Xo,t),new _n(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?to:Math.pow(to,t),new _n(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new Zt(Lp(t>=240?t-240:t+120,o,r),Lp(t,o,r),Lp(t<120?t+240:t-120,o,r),this.opacity)},clamp(){return new _n(Xx(this.h),Ju(this.s),Ju(this.l),tc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=tc(this.opacity);return`${t===1?"hsl(":"hsla("}${Xx(this.h)}, ${Ju(this.s)*100}%, ${Ju(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Xx(t){return t=(t||0)%360,t<0?t+360:t}function Ju(t){return Math.max(0,Math.min(1,t||0))}function Lp(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var ec=Math.PI/180,nc=180/Math.PI;var rc=18,Wx=.96422,Gx=1,Hx=.82521,jx=4/29,Bi=6/29,Vx=3*Bi*Bi,C8=Bi*Bi*Bi;function Zx(t){if(t instanceof Ln)return new Ln(t.l,t.a,t.b,t.opacity);if(t instanceof xr)return Kx(t);t instanceof Zt||(t=Rf(t));var e=Yp(t.r),n=Yp(t.g),r=Yp(t.b),o=Op((.2225045*e+.7168786*n+.0606169*r)/Gx),i,a;return e===n&&n===r?i=a=o:(i=Op((.4360747*e+.3850649*n+.1430804*r)/Wx),a=Op((.0139322*e+.0971045*n+.7141733*r)/Hx)),new Ln(116*o-16,500*(i-o),200*(o-a),t.opacity)}function Xi(t,e,n,r){return arguments.length===1?Zx(t):new Ln(t,e,n,r??1)}function Ln(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}yr(Ln,Xi,Jr(Pn,{brighter(t){return new Ln(this.l+rc*(t??1),this.a,this.b,this.opacity)},darker(t){return new Ln(this.l-rc*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Wx*zp(e),t=Gx*zp(t),n=Hx*zp(n),new Zt(Fp(3.1338561*e-1.6168667*t-.4906146*n),Fp(-.9787684*e+1.9161415*t+.033454*n),Fp(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Op(t){return t>C8?Math.pow(t,1/3):t/Vx+jx}function zp(t){return t>Bi?t*t*t:Vx*(t-jx)}function Fp(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Yp(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function $8(t){if(t instanceof xr)return new xr(t.h,t.c,t.l,t.opacity);if(t instanceof Ln||(t=Zx(t)),t.a===0&&t.b===0)return new xr(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*nc;return new xr(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Pf(t,e,n,r){return arguments.length===1?$8(t):new xr(t,e,n,r??1)}function xr(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Kx(t){if(isNaN(t.h))return new Ln(t.l,0,0,t.opacity);var e=t.h*ec;return new Ln(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}yr(xr,Pf,Jr(Pn,{brighter(t){return new xr(this.h,this.c,this.l+rc*(t??1),this.opacity)},darker(t){return new xr(this.h,this.c,this.l-rc*(t??1),this.opacity)},rgb(){return Kx(this).rgb()}}));var eb=-.14861,qp=1.78277,Bp=-.29227,oc=-.90649,Lf=1.97294,Qx=Lf*oc,Jx=Lf*qp,tb=qp*Bp-oc*eb;function E8(t){if(t instanceof Uo)return new Uo(t.h,t.s,t.l,t.opacity);t instanceof Zt||(t=Rf(t));var e=t.r/255,n=t.g/255,r=t.b/255,o=(tb*r+Qx*e-Jx*n)/(tb+Qx-Jx),i=r-o,a=(Lf*(n-o)-Bp*i)/oc,f=Math.sqrt(a*a+i*i)/(Lf*o*(1-o)),s=f?Math.atan2(a,i)*nc-120:NaN;return new Uo(s<0?s+360:s,f,o,t.opacity)}function Oe(t,e,n,r){return arguments.length===1?E8(t):new Uo(t,e,n,r??1)}function Uo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}yr(Uo,Oe,Jr(Pn,{brighter(t){return t=t==null?Xo:Math.pow(Xo,t),new Uo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?to:Math.pow(to,t),new Uo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*ec,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),o=Math.sin(t);return new Zt(255*(e+n*(eb*r+qp*o)),255*(e+n*(Bp*r+oc*o)),255*(e+n*(Lf*r)),this.opacity)}}));function Xp(t,e,n,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*n+(1+3*t+3*i-3*a)*r+a*o)/6}function nb(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],i=t[r+1],a=r>0?t[r-1]:2*o-i,f=r<e-1?t[r+2]:2*i-o;return Xp((n-r/e)*e,a,o,i,f)}}function rb(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],i=t[r%e],a=t[(r+1)%e],f=t[(r+2)%e];return Xp((n-r/e)*e,o,i,a,f)}}var Ui=t=>()=>t;function ob(t,e){return function(n){return t+n*e}}function N8(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Wi(t,e){var n=e-t;return n?ob(t,n>180||n<-180?n-360*Math.round(n/360):n):Ui(isNaN(t)?e:t)}function ib(t){return(t=+t)==1?Ft:function(e,n){return n-e?N8(e,n,t):Ui(isNaN(e)?n:e)}}function Ft(t,e){var n=e-t;return n?ob(t,n):Ui(isNaN(t)?e:t)}var on=function t(e){var n=ib(e);function r(o,i){var a=n((o=Le(o)).r,(i=Le(i)).r),f=n(o.g,i.g),s=n(o.b,i.b),u=Ft(o.opacity,i.opacity);return function(c){return o.r=a(c),o.g=f(c),o.b=s(c),o.opacity=u(c),o+""}}return r.gamma=t,r}(1);function ab(t){return function(e){var n=e.length,r=new Array(n),o=new Array(n),i=new Array(n),a,f;for(a=0;a<n;++a)f=Le(e[a]),r[a]=f.r||0,o[a]=f.g||0,i[a]=f.b||0;return r=t(r),o=t(o),i=t(i),f.opacity=1,function(s){return f.r=r(s),f.g=o(s),f.b=i(s),f+""}}}var Up=ab(nb),I8=ab(rb);function fb(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=t[o]*(1-i)+e[o]*i;return r}}function sb(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ub(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,o=new Array(r),i=new Array(n),a;for(a=0;a<r;++a)o[a]=Sn(t[a],e[a]);for(;a<n;++a)i[a]=e[a];return function(f){for(a=0;a<r;++a)i[a]=o[a](f);return i}}function cb(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Pt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function lb(t,e){var n={},r={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?n[o]=Sn(t[o],e[o]):r[o]=e[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var Gp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wp=new RegExp(Gp.source,"g");function R8(t){return function(){return t}}function D8(t){return function(e){return t(e)+""}}function Of(t,e){var n=Gp.lastIndex=Wp.lastIndex=0,r,o,i,a=-1,f=[],s=[];for(t=t+"",e=e+"";(r=Gp.exec(t))&&(o=Wp.exec(e));)(i=o.index)>n&&(i=e.slice(n,i),f[a]?f[a]+=i:f[++a]=i),(r=r[0])===(o=o[0])?f[a]?f[a]+=o:f[++a]=o:(f[++a]=null,s.push({i:a,x:Pt(r,o)})),n=Wp.lastIndex;return n<e.length&&(i=e.slice(n),f[a]?f[a]+=i:f[++a]=i),f.length<2?s[0]?D8(s[0].x):R8(e):(e=s.length,function(u){for(var c=0,h;c<e;++c)f[(h=s[c]).i]=h.x(u);return f.join("")})}function Sn(t,e){var n=typeof e,r;return e==null||n==="boolean"?Ui(e):(n==="number"?Pt:n==="string"?(r=Mn(e))?(e=r,on):Of:e instanceof Mn?on:e instanceof Date?cb:sb(e)?fb:Array.isArray(e)?ub:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?lb:Pt)(t,e)}function Wo(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var hb=180/Math.PI,ic={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Hp(t,e,n,r,o,i){var a,f,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,s/=f),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*hb,skewX:Math.atan(s)*hb,scaleX:a,scaleY:f}}var ac;function db(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ic:Hp(e.a,e.b,e.c,e.d,e.e,e.f)}function pb(t){return t==null?ic:(ac||(ac=document.createElementNS("http://www.w3.org/2000/svg","g")),ac.setAttribute("transform",t),(t=ac.transform.baseVal.consolidate())?(t=t.matrix,Hp(t.a,t.b,t.c,t.d,t.e,t.f)):ic)}function mb(t,e,n,r){function o(u){return u.length?u.pop()+" ":""}function i(u,c,h,l,d,p){if(u!==h||c!==l){var m=d.push("translate(",null,e,null,n);p.push({i:m-4,x:Pt(u,h)},{i:m-2,x:Pt(c,l)})}else(h||l)&&d.push("translate("+h+e+l+n)}function a(u,c,h,l){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),l.push({i:h.push(o(h)+"rotate(",null,r)-2,x:Pt(u,c)})):c&&h.push(o(h)+"rotate("+c+r)}function f(u,c,h,l){u!==c?l.push({i:h.push(o(h)+"skewX(",null,r)-2,x:Pt(u,c)}):c&&h.push(o(h)+"skewX("+c+r)}function s(u,c,h,l,d,p){if(u!==h||c!==l){var m=d.push(o(d)+"scale(",null,",",null,")");p.push({i:m-4,x:Pt(u,h)},{i:m-2,x:Pt(c,l)})}else(h!==1||l!==1)&&d.push(o(d)+"scale("+h+","+l+")")}return function(u,c){var h=[],l=[];return u=t(u),c=t(c),i(u.translateX,u.translateY,c.translateX,c.translateY,h,l),a(u.rotate,c.rotate,h,l),f(u.skewX,c.skewX,h,l),s(u.scaleX,u.scaleY,c.scaleX,c.scaleY,h,l),u=c=null,function(d){for(var p=-1,m=l.length,x;++p<m;)h[(x=l[p]).i]=x.x(d);return h.join("")}}}var jp=mb(db,"px, ","px)","deg)"),Vp=mb(pb,", ",")",")");function gb(t){return function(e,n){var r=t((e=Df(e)).h,(n=Df(n)).h),o=Ft(e.s,n.s),i=Ft(e.l,n.l),a=Ft(e.opacity,n.opacity);return function(f){return e.h=r(f),e.s=o(f),e.l=i(f),e.opacity=a(f),e+""}}}var Zp=gb(Wi),P8=gb(Ft);function fc(t,e){var n=Ft((t=Xi(t)).l,(e=Xi(e)).l),r=Ft(t.a,e.a),o=Ft(t.b,e.b),i=Ft(t.opacity,e.opacity);return function(a){return t.l=n(a),t.a=r(a),t.b=o(a),t.opacity=i(a),t+""}}function yb(t){return function(e,n){var r=t((e=Pf(e)).h,(n=Pf(n)).h),o=Ft(e.c,n.c),i=Ft(e.l,n.l),a=Ft(e.opacity,n.opacity);return function(f){return e.h=r(f),e.c=o(f),e.l=i(f),e.opacity=a(f),e+""}}}var Kp=yb(Wi),L8=yb(Ft);function xb(t){return function e(n){n=+n;function r(o,i){var a=t((o=Oe(o)).h,(i=Oe(i)).h),f=Ft(o.s,i.s),s=Ft(o.l,i.l),u=Ft(o.opacity,i.opacity);return function(c){return o.h=a(c),o.s=f(c),o.l=s(Math.pow(c,n)),o.opacity=u(c),o+""}}return r.gamma=e,r}(1)}var O8=xb(Wi),Gi=xb(Ft);function On(t,e){e===void 0&&(e=t,t=Sn);for(var n=0,r=e.length-1,o=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(o,o=e[++n]);return function(a){var f=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return i[f](a-f)}}function Se(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var Hi=0,Ff=0,zf=0,wb=1e3,sc,Yf,uc=0,Go=0,cc=0,qf=typeof performance=="object"&&performance.now?performance:Date,vb=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Xf(){return Go||(vb(z8),Go=qf.now()+cc)}function z8(){Go=0}function Bf(){this._call=this._time=this._next=null}Bf.prototype=lc.prototype={constructor:Bf,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Xf():+n)+(e==null?0:+e),!this._next&&Yf!==this&&(Yf?Yf._next=this:sc=this,Yf=this),this._call=t,this._time=n,Qp()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qp())}};function lc(t,e,n){var r=new Bf;return r.restart(t,e,n),r}function _b(){Xf(),++Hi;for(var t=sc,e;t;)(e=Go-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Hi}function bb(){Go=(uc=qf.now())+cc,Hi=Ff=0;try{_b()}finally{Hi=0,Y8(),Go=0}}function F8(){var t=qf.now(),e=t-uc;e>wb&&(cc-=e,uc=t)}function Y8(){for(var t,e=sc,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:sc=n);Yf=t,Qp(r)}function Qp(t){if(!Hi){Ff&&(Ff=clearTimeout(Ff));var e=t-Go;e>24?(t<1/0&&(Ff=setTimeout(bb,t-qf.now()-cc)),zf&&(zf=clearInterval(zf))):(zf||(uc=qf.now(),zf=setInterval(F8,wb)),Hi=1,vb(bb))}}function hc(t,e,n){var r=new Bf;return e=e==null?0:+e,r.restart(o=>{r.stop(),t(o+e)},e,n),r}var q8=Np("start","end","cancel","interrupt"),B8=[],Tb=0,Mb=1,pc=2,dc=3,Sb=4,mc=5,Uf=6;function eo(t,e,n,r,o,i){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;X8(t,n,{name:e,index:r,group:o,on:q8,tween:B8,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Tb})}function Wf(t,e){var n=ie(t,e);if(n.state>Tb)throw new Error("too late; already scheduled");return n}function be(t,e){var n=ie(t,e);if(n.state>dc)throw new Error("too late; already running");return n}function ie(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function X8(t,e,n){var r=t.__transition,o;r[e]=n,n.timer=lc(i,0,n.time);function i(u){n.state=Mb,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,h,l,d;if(n.state!==Mb)return s();for(c in r)if(d=r[c],d.name===n.name){if(d.state===dc)return hc(a);d.state===Sb?(d.state=Uf,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[c]):+c<e&&(d.state=Uf,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[c])}if(hc(function(){n.state===dc&&(n.state=Sb,n.timer.restart(f,n.delay,n.time),f(u))}),n.state=pc,n.on.call("start",t,t.__data__,n.index,n.group),n.state===pc){for(n.state=dc,o=new Array(l=n.tween.length),c=0,h=-1;c<l;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(o[++h]=d);o.length=h+1}}function f(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=mc,1),h=-1,l=o.length;++h<l;)o[h].call(t,c);n.state===mc&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=Uf,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function gc(t,e){var n=t.__transition,r,o,i=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){i=!1;continue}o=r.state>pc&&r.state<mc,r.state=Uf,r.timer.stop(),r.on.call(o?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}i&&delete t.__transition}}function kb(t){return this.each(function(){gc(this,t)})}function U8(t,e){var n,r;return function(){var o=be(this,t),i=o.tween;if(i!==n){r=n=i;for(var a=0,f=r.length;a<f;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}o.tween=r}}function W8(t,e,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=be(this,t),a=i.tween;if(a!==r){o=(r=a).slice();for(var f={name:e,value:n},s=0,u=o.length;s<u;++s)if(o[s].name===e){o[s]=f;break}s===u&&o.push(f)}i.tween=o}}function Ab(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=ie(this.node(),n).tween,o=0,i=r.length,a;o<i;++o)if((a=r[o]).name===t)return a.value;return null}return this.each((e==null?U8:W8)(n,t,e))}function ji(t,e,n){var r=t._id;return t.each(function(){var o=be(this,r);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return ie(o,r).value[e]}}function yc(t,e){var n;return(typeof e=="number"?Pt:e instanceof Mn?on:(n=Mn(e))?(e=n,on):Of)(t,e)}function G8(t){return function(){this.removeAttribute(t)}}function H8(t){return function(){this.removeAttributeNS(t.space,t.local)}}function j8(t,e,n){var r,o=n+"",i;return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function V8(t,e,n){var r,o=n+"",i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function Z8(t,e,n){var r,o,i;return function(){var a,f=n(this),s;return f==null?void this.removeAttribute(t):(a=this.getAttribute(t),s=f+"",a===s?null:a===r&&s===o?i:(o=s,i=e(r=a,f)))}}function K8(t,e,n){var r,o,i;return function(){var a,f=n(this),s;return f==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),s=f+"",a===s?null:a===r&&s===o?i:(o=s,i=e(r=a,f)))}}function Cb(t,e){var n=pr(t),r=n==="transform"?Vp:yc;return this.attrTween(t,typeof e=="function"?(n.local?K8:Z8)(n,r,ji(this,"attr."+t,e)):e==null?(n.local?H8:G8)(n):(n.local?V8:j8)(n,r,e))}function Q8(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function J8(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function tM(t,e){var n,r;function o(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&J8(t,i)),n}return o._value=e,o}function eM(t,e){var n,r;function o(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Q8(t,i)),n}return o._value=e,o}function $b(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=pr(t);return this.tween(n,(r.local?tM:eM)(r,e))}function nM(t,e){return function(){Wf(this,t).delay=+e.apply(this,arguments)}}function rM(t,e){return e=+e,function(){Wf(this,t).delay=e}}function Eb(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?nM:rM)(e,t)):ie(this.node(),e).delay}function oM(t,e){return function(){be(this,t).duration=+e.apply(this,arguments)}}function iM(t,e){return e=+e,function(){be(this,t).duration=e}}function Nb(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?oM:iM)(e,t)):ie(this.node(),e).duration}function aM(t,e){if(typeof e!="function")throw new Error;return function(){be(this,t).ease=e}}function Ib(t){var e=this._id;return arguments.length?this.each(aM(e,t)):ie(this.node(),e).ease}function fM(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;be(this,t).ease=n}}function Rb(t){if(typeof t!="function")throw new Error;return this.each(fM(this._id,t))}function Db(t){typeof t!="function"&&(t=Ef(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i=e[o],a=i.length,f=r[o]=[],s,u=0;u<a;++u)(s=i[u])&&t.call(s,s.__data__,u,i)&&f.push(s);return new ze(r,this._parents,this._name,this._id)}function Pb(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),f=0;f<i;++f)for(var s=e[f],u=n[f],c=s.length,h=a[f]=new Array(c),l,d=0;d<c;++d)(l=s[d]||u[d])&&(h[d]=l);for(;f<r;++f)a[f]=e[f];return new ze(a,this._parents,this._name,this._id)}function sM(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function uM(t,e,n){var r,o,i=sM(e)?Wf:be;return function(){var a=i(this,t),f=a.on;f!==r&&(o=(r=f).copy()).on(e,n),a.on=o}}function Lb(t,e){var n=this._id;return arguments.length<2?ie(this.node(),n).on.on(t):this.each(uM(n,t,e))}function cM(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Ob(){return this.on("end.remove",cM(this._id))}function zb(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Yo(t));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var f=r[a],s=f.length,u=i[a]=new Array(s),c,h,l=0;l<s;++l)(c=f[l])&&(h=t.call(c,c.__data__,l,f))&&("__data__"in c&&(h.__data__=c.__data__),u[l]=h,eo(u[l],e,n,l,u,ie(c,n)));return new ze(i,this._parents,e,n)}function Fb(t){var e=this._name,n=this._id;typeof t!="function"&&(t=$f(t));for(var r=this._groups,o=r.length,i=[],a=[],f=0;f<o;++f)for(var s=r[f],u=s.length,c,h=0;h<u;++h)if(c=s[h]){for(var l=t.call(c,c.__data__,h,s),d,p=ie(c,n),m=0,x=l.length;m<x;++m)(d=l[m])&&eo(d,e,n,m,l,p);i.push(l),a.push(c)}return new ze(i,a,e,n)}var lM=gr.prototype.constructor;function Yb(){return new lM(this._groups,this._parents)}function hM(t,e){var n,r,o;return function(){var i=Qr(this,t),a=(this.style.removeProperty(t),Qr(this,t));return i===a?null:i===n&&a===r?o:o=e(n=i,r=a)}}function qb(t){return function(){this.style.removeProperty(t)}}function dM(t,e,n){var r,o=n+"",i;return function(){var a=Qr(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}function pM(t,e,n){var r,o,i;return function(){var a=Qr(this,t),f=n(this),s=f+"";return f==null&&(s=f=(this.style.removeProperty(t),Qr(this,t))),a===s?null:a===r&&s===o?i:(o=s,i=e(r=a,f))}}function mM(t,e){var n,r,o,i="style."+e,a="end."+i,f;return function(){var s=be(this,t),u=s.on,c=s.value[i]==null?f||(f=qb(e)):void 0;(u!==n||o!==c)&&(r=(n=u).copy()).on(a,o=c),s.on=r}}function Bb(t,e,n){var r=(t+="")=="transform"?jp:yc;return e==null?this.styleTween(t,hM(t,r)).on("end.style."+t,qb(t)):typeof e=="function"?this.styleTween(t,pM(t,r,ji(this,"style."+t,e))).each(mM(this._id,t)):this.styleTween(t,dM(t,r,e),n).on("end.style."+t,null)}function gM(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function yM(t,e,n){var r,o;function i(){var a=e.apply(this,arguments);return a!==o&&(r=(o=a)&&gM(t,a,n)),r}return i._value=e,i}function Xb(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,yM(t,e,n??""))}function xM(t){return function(){this.textContent=t}}function bM(t){return function(){var e=t(this);this.textContent=e??""}}function Ub(t){return this.tween("text",typeof t=="function"?bM(ji(this,"text",t)):xM(t==null?"":t+""))}function wM(t){return function(e){this.textContent=t.call(this,e)}}function vM(t){var e,n;function r(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&wM(o)),e}return r._value=t,r}function Wb(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,vM(t))}function Gb(){for(var t=this._name,e=this._id,n=xc(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],f=a.length,s,u=0;u<f;++u)if(s=a[u]){var c=ie(s,e);eo(s,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ze(r,this._parents,t,n)}function Hb(){var t,e,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var f={value:a},s={value:function(){--o===0&&i()}};n.each(function(){var u=be(this,r),c=u.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(s)),u.on=e}),o===0&&i()})}var _M=0;function ze(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function jb(t){return gr().transition(t)}function xc(){return++_M}var br=gr.prototype;ze.prototype=jb.prototype={constructor:ze,select:zb,selectAll:Fb,selectChild:br.selectChild,selectChildren:br.selectChildren,filter:Db,merge:Pb,selection:Yb,transition:Gb,call:br.call,nodes:br.nodes,node:br.node,size:br.size,empty:br.empty,each:br.each,on:Lb,attr:Cb,attrTween:$b,style:Bb,styleTween:Xb,text:Ub,textTween:Wb,remove:Ob,tween:Ab,delay:Eb,duration:Nb,ease:Ib,easeVarying:Rb,end:Hb,[Symbol.iterator]:br[Symbol.iterator]};function bc(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var MM={time:null,delay:0,duration:250,ease:bc};function SM(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Vb(t){var e,n;t instanceof ze?(e=t._id,t=t._name):(e=xc(),(n=MM).time=Xf(),t=t==null?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],f=a.length,s,u=0;u<f;++u)(s=a[u])&&eo(s,t,e,u,a,n||SM(s,e));return new ze(r,this._parents,t,e)}gr.prototype.interrupt=kb;gr.prototype.transition=Vb;var{abs:oF,max:iF,min:aF}=Math;function Zb(t){return[+t[0],+t[1]]}function TM(t){return[Zb(t[0]),Zb(t[1])]}var fF={name:"x",handles:["w","e"].map(Jp),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},sF={name:"y",handles:["n","s"].map(Jp),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},uF={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Jp),input:function(t){return t==null?null:TM(t)},output:function(t){return t}};function Jp(t){return{type:t}}var tm=Math.PI,em=2*tm,Ho=1e-6,kM=em-Ho;function Kb(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function AM(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Kb;let n=10**e;return function(r){this._+=r[0];for(let o=1,i=r.length;o<i;++o)this._+=Math.round(arguments[o]*n)/n+r[o]}}var no=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Kb:AM(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,o){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+o}`}bezierCurveTo(e,n,r,o,i,a){this._append`C${+e},${+n},${+r},${+o},${this._x1=+i},${this._y1=+a}`}arcTo(e,n,r,o,i){if(e=+e,n=+n,r=+r,o=+o,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,f=this._y1,s=r-e,u=o-n,c=a-e,h=f-n,l=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(l>Ho)if(!(Math.abs(h*s-u*c)>Ho)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let d=r-a,p=o-f,m=s*s+u*u,x=d*d+p*p,y=Math.sqrt(m),g=Math.sqrt(l),w=i*Math.tan((tm-Math.acos((m+l-x)/(2*y*g)))/2),b=w/g,_=w/y;Math.abs(b-1)>Ho&&this._append`L${e+b*c},${n+b*h}`,this._append`A${i},${i},0,0,${+(h*d>c*p)},${this._x1=e+_*s},${this._y1=n+_*u}`}}arc(e,n,r,o,i,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(o),s=r*Math.sin(o),u=e+f,c=n+s,h=1^a,l=a?o-i:i-o;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ho||Math.abs(this._y1-c)>Ho)&&this._append`L${u},${c}`,r&&(l<0&&(l=l%em+em),l>kM?this._append`A${r},${r},0,1,${h},${e-f},${n-s}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:l>Ho&&this._append`A${r},${r},0,${+(l>=tm)},${h},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+o}h${-r}Z`}toString(){return this._}};function Qb(){return new no}Qb.prototype=no.prototype;function Fe(t=3){return new no(+t)}var CM=Array.prototype,wc=CM.slice;function Jb(t,e){return t-e}function t2(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}var zn=t=>()=>t;function e2(t,e){for(var n=-1,r=e.length,o;++n<r;)if(o=$M(t,e[n]))return o;return 0}function $M(t,e){for(var n=e[0],r=e[1],o=-1,i=0,a=t.length,f=a-1;i<a;f=i++){var s=t[i],u=s[0],c=s[1],h=t[f],l=h[0],d=h[1];if(EM(s,h,e))return 0;c>r!=d>r&&n<(l-u)*(r-c)/(d-c)+u&&(o=-o)}return o}function EM(t,e,n){var r;return NM(t,e,n)&&IM(t[r=+(t[0]===e[0])],n[r],e[r])}function NM(t,e,n){return(e[0]-t[0])*(n[1]-t[1])===(n[0]-t[0])*(e[1]-t[1])}function IM(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}function n2(){}var wr=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Vi(){var t=1,e=1,n=Zr,r=s;function o(u){var c=n(u);if(Array.isArray(c))c=c.slice().sort(Jb);else{let h=_t(u,RM);for(c=ye(...zi(h[0],h[1],c),c);c[c.length-1]>=h[1];)c.pop();for(;c[1]<h[0];)c.shift()}return c.map(h=>i(u,h))}function i(u,c){let h=c==null?NaN:+c;if(isNaN(h))throw new Error(`invalid value: ${c}`);var l=[],d=[];return a(u,h,function(p){r(p,u,h),t2(p)>0?l.push([p]):d.push(p)}),d.forEach(function(p){for(var m=0,x=l.length,y;m<x;++m)if(e2((y=l[m])[0],p)!==-1){y.push(p);return}}),{type:"MultiPolygon",value:c,coordinates:l}}function a(u,c,h){var l=new Array,d=new Array,p,m,x,y,g,w;for(p=m=-1,y=jo(u[0],c),wr[y<<1].forEach(b);++p<t-1;)x=y,y=jo(u[p+1],c),wr[x|y<<1].forEach(b);for(wr[y<<0].forEach(b);++m<e-1;){for(p=-1,y=jo(u[m*t+t],c),g=jo(u[m*t],c),wr[y<<1|g<<2].forEach(b);++p<t-1;)x=y,y=jo(u[m*t+t+p+1],c),w=g,g=jo(u[m*t+p+1],c),wr[x|y<<1|g<<2|w<<3].forEach(b);wr[y|g<<3].forEach(b)}for(p=-1,g=u[m*t]>=c,wr[g<<2].forEach(b);++p<t-1;)w=g,g=jo(u[m*t+p+1],c),wr[g<<2|w<<3].forEach(b);wr[g<<3].forEach(b);function b(_){var v=[_[0][0]+p,_[0][1]+m],M=[_[1][0]+p,_[1][1]+m],k=f(v),S=f(M),A,T;(A=d[k])?(T=l[S])?(delete d[A.end],delete l[T.start],A===T?(A.ring.push(M),h(A.ring)):l[A.start]=d[T.end]={start:A.start,end:T.end,ring:A.ring.concat(T.ring)}):(delete d[A.end],A.ring.push(M),d[A.end=S]=A):(A=l[S])?(T=d[k])?(delete l[A.start],delete d[T.end],A===T?(A.ring.push(M),h(A.ring)):l[T.start]=d[A.end]={start:T.start,end:A.end,ring:T.ring.concat(A.ring)}):(delete l[A.start],A.ring.unshift(v),l[A.start=k]=A):l[k]=d[S]={start:k,end:S,ring:[v,M]}}}function f(u){return u[0]*2+u[1]*(t+1)*4}function s(u,c,h){u.forEach(function(l){var d=l[0],p=l[1],m=d|0,x=p|0,y=nm(c[x*t+m]);d>0&&d<t&&m===d&&(l[0]=r2(d,nm(c[x*t+m-1]),y,h)),p>0&&p<e&&x===p&&(l[1]=r2(p,nm(c[(x-1)*t+m]),y,h))})}return o.contour=i,o.size=function(u){if(!arguments.length)return[t,e];var c=Math.floor(u[0]),h=Math.floor(u[1]);if(!(c>=0&&h>=0))throw new Error("invalid size");return t=c,e=h,o},o.thresholds=function(u){return arguments.length?(n=typeof u=="function"?u:Array.isArray(u)?zn(wc.call(u)):zn(u),o):n},o.smooth=function(u){return arguments.length?(r=u?s:n2,o):r===s},o}function RM(t){return isFinite(t)?t:NaN}function jo(t,e){return t==null?!1:+t>=e}function nm(t){return t==null||isNaN(t=+t)?-1/0:t}function r2(t,e,n,r){let o=r-e,i=n-e,a=isFinite(o)||isFinite(i)?o/i:Math.sign(o)/Math.sign(i);return isNaN(a)?t:t+a-.5}function DM(t){return t[0]}function PM(t){return t[1]}function LM(){return 1}function rm(){var t=DM,e=PM,n=LM,r=960,o=500,i=20,a=2,f=i*3,s=r+f*2>>a,u=o+f*2>>a,c=zn(20);function h(g){var w=new Float32Array(s*u),b=Math.pow(2,-a),_=-1;for(let I of g){var v=(t(I,++_,g)+f)*b,M=(e(I,_,g)+f)*b,k=+n(I,_,g);if(k&&v>=0&&v<s&&M>=0&&M<u){var S=Math.floor(v),A=Math.floor(M),T=v-S-.5,$=M-A-.5;w[S+A*s]+=(1-T)*(1-$)*k,w[S+1+A*s]+=T*(1-$)*k,w[S+1+(A+1)*s]+=T*$*k,w[S+(A+1)*s]+=(1-T)*$*k}}return Mf({data:w,width:s,height:u},i*b),w}function l(g){var w=h(g),b=c(w),_=Math.pow(2,2*a);return Array.isArray(b)||(b=ye(Number.MIN_VALUE,At(w)/_,b)),Vi().size([s,u]).thresholds(b.map(v=>v*_))(w).map((v,M)=>(v.value=+b[M],d(v)))}l.contours=function(g){var w=h(g),b=Vi().size([s,u]),_=Math.pow(2,2*a),v=M=>{M=+M;var k=d(b.contour(w,M*_));return k.value=M,k};return Object.defineProperty(v,"max",{get:()=>At(w)/_}),v};function d(g){return g.coordinates.forEach(p),g}function p(g){g.forEach(m)}function m(g){g.forEach(x)}function x(g){g[0]=g[0]*Math.pow(2,a)-f,g[1]=g[1]*Math.pow(2,a)-f}function y(){return f=i*3,s=r+f*2>>a,u=o+f*2>>a,l}return l.x=function(g){return arguments.length?(t=typeof g=="function"?g:zn(+g),l):t},l.y=function(g){return arguments.length?(e=typeof g=="function"?g:zn(+g),l):e},l.weight=function(g){return arguments.length?(n=typeof g=="function"?g:zn(+g),l):n},l.size=function(g){if(!arguments.length)return[r,o];var w=+g[0],b=+g[1];if(!(w>=0&&b>=0))throw new Error("invalid size");return r=w,o=b,y()},l.cellSize=function(g){if(!arguments.length)return 1<<a;if(!((g=+g)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(g)/Math.LN2),y()},l.thresholds=function(g){return arguments.length?(c=typeof g=="function"?g:Array.isArray(g)?zn(wc.call(g)):zn(g),l):c},l.bandwidth=function(g){if(!arguments.length)return Math.sqrt(i*(i+1));if(!((g=+g)>=0))throw new Error("invalid bandwidth");return i=(Math.sqrt(4*g*g+1)-1)/2,y()},l}var bt=11102230246251565e-32,Kt=134217729,Gf=(3+8*bt)*bt;function Vo(t,e,n,r,o){let i,a,f,s,u=e[0],c=r[0],h=0,l=0;c>u==c>-u?(i=u,u=e[++h]):(i=c,c=r[++l]);let d=0;if(h<t&&l<n)for(c>u==c>-u?(a=u+i,f=i-(a-u),u=e[++h]):(a=c+i,f=i-(a-c),c=r[++l]),i=a,f!==0&&(o[d++]=f);h<t&&l<n;)c>u==c>-u?(a=i+u,s=a-i,f=i-(a-s)+(u-s),u=e[++h]):(a=i+c,s=a-i,f=i-(a-s)+(c-s),c=r[++l]),i=a,f!==0&&(o[d++]=f);for(;h<t;)a=i+u,s=a-i,f=i-(a-s)+(u-s),u=e[++h],i=a,f!==0&&(o[d++]=f);for(;l<n;)a=i+c,s=a-i,f=i-(a-s)+(c-s),c=r[++l],i=a,f!==0&&(o[d++]=f);return(i!==0||d===0)&&(o[d++]=i),d}function Hf(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}function O(t){return new Float64Array(t)}var OM=(3+16*bt)*bt,zM=(2+12*bt)*bt,FM=(9+64*bt)*bt*bt,Zi=O(4),o2=O(8),i2=O(12),a2=O(16),Ye=O(4);function YM(t,e,n,r,o,i,a){let f,s,u,c,h,l,d,p,m,x,y,g,w,b,_,v,M,k,S=t-o,A=n-o,T=e-i,$=r-i;b=S*$,l=Kt*S,d=l-(l-S),p=S-d,l=Kt*$,m=l-(l-$),x=$-m,_=p*x-(b-d*m-p*m-d*x),v=T*A,l=Kt*T,d=l-(l-T),p=T-d,l=Kt*A,m=l-(l-A),x=A-m,M=p*x-(v-d*m-p*m-d*x),y=_-M,h=_-y,Zi[0]=_-(y+h)+(h-M),g=b+y,h=g-b,w=b-(g-h)+(y-h),y=w-v,h=w-y,Zi[1]=w-(y+h)+(h-v),k=g+y,h=k-g,Zi[2]=g-(k-h)+(y-h),Zi[3]=k;let I=Hf(4,Zi),E=zM*a;if(I>=E||-I>=E||(h=t-S,f=t-(S+h)+(h-o),h=n-A,u=n-(A+h)+(h-o),h=e-T,s=e-(T+h)+(h-i),h=r-$,c=r-($+h)+(h-i),f===0&&s===0&&u===0&&c===0)||(E=FM*a+Gf*Math.abs(I),I+=S*c+$*f-(T*u+A*s),I>=E||-I>=E))return I;b=f*$,l=Kt*f,d=l-(l-f),p=f-d,l=Kt*$,m=l-(l-$),x=$-m,_=p*x-(b-d*m-p*m-d*x),v=s*A,l=Kt*s,d=l-(l-s),p=s-d,l=Kt*A,m=l-(l-A),x=A-m,M=p*x-(v-d*m-p*m-d*x),y=_-M,h=_-y,Ye[0]=_-(y+h)+(h-M),g=b+y,h=g-b,w=b-(g-h)+(y-h),y=w-v,h=w-y,Ye[1]=w-(y+h)+(h-v),k=g+y,h=k-g,Ye[2]=g-(k-h)+(y-h),Ye[3]=k;let C=Vo(4,Zi,4,Ye,o2);b=S*c,l=Kt*S,d=l-(l-S),p=S-d,l=Kt*c,m=l-(l-c),x=c-m,_=p*x-(b-d*m-p*m-d*x),v=T*u,l=Kt*T,d=l-(l-T),p=T-d,l=Kt*u,m=l-(l-u),x=u-m,M=p*x-(v-d*m-p*m-d*x),y=_-M,h=_-y,Ye[0]=_-(y+h)+(h-M),g=b+y,h=g-b,w=b-(g-h)+(y-h),y=w-v,h=w-y,Ye[1]=w-(y+h)+(h-v),k=g+y,h=k-g,Ye[2]=g-(k-h)+(y-h),Ye[3]=k;let N=Vo(C,o2,4,Ye,i2);b=f*c,l=Kt*f,d=l-(l-f),p=f-d,l=Kt*c,m=l-(l-c),x=c-m,_=p*x-(b-d*m-p*m-d*x),v=s*u,l=Kt*s,d=l-(l-s),p=s-d,l=Kt*u,m=l-(l-u),x=u-m,M=p*x-(v-d*m-p*m-d*x),y=_-M,h=_-y,Ye[0]=_-(y+h)+(h-M),g=b+y,h=g-b,w=b-(g-h)+(y-h),y=w-v,h=w-y,Ye[1]=w-(y+h)+(h-v),k=g+y,h=k-g,Ye[2]=g-(k-h)+(y-h),Ye[3]=k;let R=Vo(N,i2,4,Ye,a2);return a2[R-1]}function Ki(t,e,n,r,o,i){let a=(e-i)*(n-o),f=(t-o)*(r-i),s=a-f,u=Math.abs(a+f);return Math.abs(s)>=OM*u?s:-YM(t,e,n,r,o,i,u)}var GF=(7+56*bt)*bt,HF=(3+28*bt)*bt,jF=(26+288*bt)*bt*bt,VF=O(4),ZF=O(4),KF=O(4),QF=O(4),JF=O(4),tY=O(4),eY=O(4),nY=O(4),rY=O(4),oY=O(8),iY=O(8),aY=O(8),fY=O(4),sY=O(8),uY=O(8),cY=O(8),lY=O(12),hY=O(192),dY=O(192);var gY=(10+96*bt)*bt,yY=(4+48*bt)*bt,xY=(44+576*bt)*bt*bt,bY=O(4),wY=O(4),vY=O(4),_Y=O(4),MY=O(4),SY=O(4),TY=O(4),kY=O(4),AY=O(8),CY=O(8),$Y=O(8),EY=O(8),NY=O(8),IY=O(8),RY=O(8),DY=O(8),PY=O(8),LY=O(4),OY=O(4),zY=O(4),FY=O(8),YY=O(16),qY=O(16),BY=O(16),XY=O(32),UY=O(32),WY=O(48),GY=O(64),HY=O(1152),jY=O(1152);var QY=(16+224*bt)*bt,JY=(5+72*bt)*bt,tq=(71+1408*bt)*bt*bt,eq=O(4),nq=O(4),rq=O(4),oq=O(4),iq=O(4),aq=O(4),fq=O(4),sq=O(4),uq=O(4),cq=O(4),lq=O(24),hq=O(24),dq=O(24),pq=O(24),mq=O(24),gq=O(24),yq=O(24),xq=O(24),bq=O(24),wq=O(24),vq=O(1152),_q=O(1152),Mq=O(1152),Sq=O(1152),Tq=O(1152),kq=O(2304),Aq=O(2304),Cq=O(3456),$q=O(5760),Eq=O(8),Nq=O(8),Iq=O(8),Rq=O(16),Dq=O(24),Pq=O(48),Lq=O(48),Oq=O(96),zq=O(192),Fq=O(384),Yq=O(384),qq=O(384),Bq=O(768);var Xq=O(96),Uq=O(96),Wq=O(96),Gq=O(1152);var s2=Math.pow(2,-52),vc=new Uint32Array(512),Ji=class t{static from(e,n=GM,r=HM){let o=e.length,i=new Float64Array(o*2);for(let a=0;a<o;a++){let f=e[a];i[2*a]=n(f),i[2*a+1]=r(f)}return new t(i)}constructor(e){let n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;let r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){let{coords:e,_hullPrev:n,_hullNext:r,_hullTri:o,_hullHash:i}=this,a=e.length>>1,f=1/0,s=1/0,u=-1/0,c=-1/0;for(let S=0;S<a;S++){let A=e[2*S],T=e[2*S+1];A<f&&(f=A),T<s&&(s=T),A>u&&(u=A),T>c&&(c=T),this._ids[S]=S}let h=(f+u)/2,l=(s+c)/2,d,p,m;for(let S=0,A=1/0;S<a;S++){let T=om(h,l,e[2*S],e[2*S+1]);T<A&&(d=S,A=T)}let x=e[2*d],y=e[2*d+1];for(let S=0,A=1/0;S<a;S++){if(S===d)continue;let T=om(x,y,e[2*S],e[2*S+1]);T<A&&T>0&&(p=S,A=T)}let g=e[2*p],w=e[2*p+1],b=1/0;for(let S=0;S<a;S++){if(S===d||S===p)continue;let A=UM(x,y,g,w,e[2*S],e[2*S+1]);A<b&&(m=S,b=A)}let _=e[2*m],v=e[2*m+1];if(b===1/0){for(let T=0;T<a;T++)this._dists[T]=e[2*T]-e[0]||e[2*T+1]-e[1];Qi(this._ids,this._dists,0,a-1);let S=new Uint32Array(a),A=0;for(let T=0,$=-1/0;T<a;T++){let I=this._ids[T],E=this._dists[I];E>$&&(S[A++]=I,$=E)}this.hull=S.subarray(0,A),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Ki(x,y,g,w,_,v)<0){let S=p,A=g,T=w;p=m,g=_,w=v,m=S,_=A,v=T}let M=WM(x,y,g,w,_,v);this._cx=M.x,this._cy=M.y;for(let S=0;S<a;S++)this._dists[S]=om(e[2*S],e[2*S+1],M.x,M.y);Qi(this._ids,this._dists,0,a-1),this._hullStart=d;let k=3;r[d]=n[m]=p,r[p]=n[d]=m,r[m]=n[p]=d,o[d]=0,o[p]=1,o[m]=2,i.fill(-1),i[this._hashKey(x,y)]=d,i[this._hashKey(g,w)]=p,i[this._hashKey(_,v)]=m,this.trianglesLen=0,this._addTriangle(d,p,m,-1,-1,-1);for(let S=0,A,T;S<this._ids.length;S++){let $=this._ids[S],I=e[2*$],E=e[2*$+1];if(S>0&&Math.abs(I-A)<=s2&&Math.abs(E-T)<=s2||(A=I,T=E,$===d||$===p||$===m))continue;let C=0;for(let Y=0,q=this._hashKey(I,E);Y<this._hashSize&&(C=i[(q+Y)%this._hashSize],!(C!==-1&&C!==r[C]));Y++);C=n[C];let N=C,R;for(;R=r[N],Ki(I,E,e[2*N],e[2*N+1],e[2*R],e[2*R+1])>=0;)if(N=R,N===C){N=-1;break}if(N===-1)continue;let z=this._addTriangle(N,$,r[N],-1,-1,o[N]);o[$]=this._legalize(z+2),o[N]=z,k++;let D=r[N];for(;R=r[D],Ki(I,E,e[2*D],e[2*D+1],e[2*R],e[2*R+1])<0;)z=this._addTriangle(D,$,R,o[$],-1,o[D]),o[$]=this._legalize(z+2),r[D]=D,k--,D=R;if(N===C)for(;R=n[N],Ki(I,E,e[2*R],e[2*R+1],e[2*N],e[2*N+1])<0;)z=this._addTriangle(R,$,N,-1,o[N],o[R]),this._legalize(z+2),o[R]=z,r[N]=N,k--,N=R;this._hullStart=n[$]=N,r[N]=n[D]=$,r[$]=D,i[this._hashKey(I,E)]=$,i[this._hashKey(e[2*N],e[2*N+1])]=N}this.hull=new Uint32Array(k);for(let S=0,A=this._hullStart;S<k;S++)this.hull[S]=A,A=r[A];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(BM(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){let{_triangles:n,_halfedges:r,coords:o}=this,i=0,a=0;for(;;){let f=r[e],s=e-e%3;if(a=s+(e+2)%3,f===-1){if(i===0)break;e=vc[--i];continue}let u=f-f%3,c=s+(e+1)%3,h=u+(f+2)%3,l=n[a],d=n[e],p=n[c],m=n[h];if(XM(o[2*l],o[2*l+1],o[2*d],o[2*d+1],o[2*p],o[2*p+1],o[2*m],o[2*m+1])){n[e]=m,n[f]=l;let y=r[h];if(y===-1){let w=this._hullStart;do{if(this._hullTri[w]===h){this._hullTri[w]=e;break}w=this._hullPrev[w]}while(w!==this._hullStart)}this._link(e,y),this._link(f,r[a]),this._link(a,h);let g=u+(f+1)%3;i<vc.length&&(vc[i++]=g)}else{if(i===0)break;e=vc[--i]}}return a}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,r,o,i,a){let f=this.trianglesLen;return this._triangles[f]=e,this._triangles[f+1]=n,this._triangles[f+2]=r,this._link(f,o),this._link(f+1,i),this._link(f+2,a),this.trianglesLen+=3,f}};function BM(t,e){let n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function om(t,e,n,r){let o=t-n,i=e-r;return o*o+i*i}function XM(t,e,n,r,o,i,a,f){let s=t-a,u=e-f,c=n-a,h=r-f,l=o-a,d=i-f,p=s*s+u*u,m=c*c+h*h,x=l*l+d*d;return s*(h*x-m*d)-u*(c*x-m*l)+p*(c*d-h*l)<0}function UM(t,e,n,r,o,i){let a=n-t,f=r-e,s=o-t,u=i-e,c=a*a+f*f,h=s*s+u*u,l=.5/(a*u-f*s),d=(u*c-f*h)*l,p=(a*h-s*c)*l;return d*d+p*p}function WM(t,e,n,r,o,i){let a=n-t,f=r-e,s=o-t,u=i-e,c=a*a+f*f,h=s*s+u*u,l=.5/(a*u-f*s),d=t+(u*c-f*h)*l,p=e+(a*h-s*c)*l;return{x:d,y:p}}function Qi(t,e,n,r){if(r-n<=20)for(let o=n+1;o<=r;o++){let i=t[o],a=e[i],f=o-1;for(;f>=n&&e[t[f]]>a;)t[f+1]=t[f--];t[f+1]=i}else{let o=n+r>>1,i=n+1,a=r;jf(t,o,i),e[t[n]]>e[t[r]]&&jf(t,n,r),e[t[i]]>e[t[r]]&&jf(t,i,r),e[t[n]]>e[t[i]]&&jf(t,n,i);let f=t[i],s=e[f];for(;;){do i++;while(e[t[i]]<s);do a--;while(e[t[a]]>s);if(a<i)break;jf(t,i,a)}t[n+1]=t[a],t[a]=f,r-i+1>=a-n?(Qi(t,e,i,r),Qi(t,e,n,a-1)):(Qi(t,e,n,a-1),Qi(t,e,i,r))}}function jf(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}function GM(t){return t[0]}function HM(t){return t[1]}var an=class{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,r){e=+e,n=+n,r=+r;let o=e+r,i=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${o},${i}`:(Math.abs(this._x1-o)>1e-6||Math.abs(this._y1-i)>1e-6)&&(this._+="L"+o+","+i),r&&(this._+=`A${r},${r},0,1,1,${e-r},${n}A${r},${r},0,1,1,${this._x1=o},${this._y1=i}`)}rect(e,n,r,o){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+r}v${+o}h${-r}Z`}value(){return this._||null}};var ro=class{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}};var Vf=class{constructor(e,[n,r,o,i]=[0,0,960,500]){if(!((o=+o)>=(n=+n))||!((i=+i)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=o,this.xmin=n,this.ymax=i,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:e,hull:n,triangles:r},vectors:o}=this,i,a,f=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let m=0,x=0,y=r.length,g,w;m<y;m+=3,x+=2){let b=r[m]*2,_=r[m+1]*2,v=r[m+2]*2,M=e[b],k=e[b+1],S=e[_],A=e[_+1],T=e[v],$=e[v+1],I=S-M,E=A-k,C=T-M,N=$-k,R=(I*N-E*C)*2;if(Math.abs(R)<1e-9){if(i===void 0){i=a=0;for(let D of n)i+=e[D*2],a+=e[D*2+1];i/=n.length,a/=n.length}let z=1e9*Math.sign((i-M)*N-(a-k)*C);g=(M+T)/2-z*N,w=(k+$)/2+z*C}else{let z=1/R,D=I*I+E*E,Y=C*C+N*N;g=M+(N*D-E*Y)*z,w=k+(I*Y-C*D)*z}f[x]=g,f[x+1]=w}let s=n[n.length-1],u,c=s*4,h,l=e[2*s],d,p=e[2*s+1];o.fill(0);for(let m=0;m<n.length;++m)s=n[m],u=c,h=l,d=p,c=s*4,l=e[2*s],p=e[2*s+1],o[u+2]=o[c]=d-p,o[u+3]=o[c+1]=l-h}render(e){let n=e==null?e=new an:void 0,{delaunay:{halfedges:r,inedges:o,hull:i},circumcenters:a,vectors:f}=this;if(i.length<=1)return null;for(let c=0,h=r.length;c<h;++c){let l=r[c];if(l<c)continue;let d=Math.floor(c/3)*2,p=Math.floor(l/3)*2,m=a[d],x=a[d+1],y=a[p],g=a[p+1];this._renderSegment(m,x,y,g,e)}let s,u=i[i.length-1];for(let c=0;c<i.length;++c){s=u,u=i[c];let h=Math.floor(o[u]/3)*2,l=a[h],d=a[h+1],p=s*4,m=this._project(l,d,f[p+2],f[p+3]);m&&this._renderSegment(l,d,m[0],m[1],e)}return n&&n.value()}renderBounds(e){let n=e==null?e=new an:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){let r=n==null?n=new an:void 0,o=this._clip(e);if(o===null||!o.length)return;n.moveTo(o[0],o[1]);let i=o.length;for(;o[0]===o[i-2]&&o[1]===o[i-1]&&i>1;)i-=2;for(let a=2;a<i;a+=2)(o[a]!==o[a-2]||o[a+1]!==o[a-1])&&n.lineTo(o[a],o[a+1]);return n.closePath(),r&&r.value()}*cellPolygons(){let{delaunay:{points:e}}=this;for(let n=0,r=e.length/2;n<r;++n){let o=this.cellPolygon(n);o&&(o.index=n,yield o)}}cellPolygon(e){let n=new ro;return this.renderCell(e,n),n.value()}_renderSegment(e,n,r,o,i){let a,f=this._regioncode(e,n),s=this._regioncode(r,o);f===0&&s===0?(i.moveTo(e,n),i.lineTo(r,o)):(a=this._clipSegment(e,n,r,o,f,s))&&(i.moveTo(a[0],a[1]),i.lineTo(a[2],a[3]))}contains(e,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(e,n,r)===e}*neighbors(e){let n=this._clip(e);if(n)for(let r of this.delaunay.neighbors(e)){let o=this._clip(r);if(o){t:for(let i=0,a=n.length;i<a;i+=2)for(let f=0,s=o.length;f<s;f+=2)if(n[i]===o[f]&&n[i+1]===o[f+1]&&n[(i+2)%a]===o[(f+s-2)%s]&&n[(i+3)%a]===o[(f+s-1)%s]){yield r;break t}}}}_cell(e){let{circumcenters:n,delaunay:{inedges:r,halfedges:o,triangles:i}}=this,a=r[e];if(a===-1)return null;let f=[],s=a;do{let u=Math.floor(s/3);if(f.push(n[u*2],n[u*2+1]),s=s%3===2?s-2:s+1,i[s]!==e)break;s=o[s]}while(s!==a&&s!==-1);return f}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let n=this._cell(e);if(n===null)return null;let{vectors:r}=this,o=e*4;return this._simplify(r[o]||r[o+1]?this._clipInfinite(e,n,r[o],r[o+1],r[o+2],r[o+3]):this._clipFinite(e,n))}_clipFinite(e,n){let r=n.length,o=null,i,a,f=n[r-2],s=n[r-1],u,c=this._regioncode(f,s),h,l=0;for(let d=0;d<r;d+=2)if(i=f,a=s,f=n[d],s=n[d+1],u=c,c=this._regioncode(f,s),u===0&&c===0)h=l,l=0,o?o.push(f,s):o=[f,s];else{let p,m,x,y,g;if(u===0){if((p=this._clipSegment(i,a,f,s,u,c))===null)continue;[m,x,y,g]=p}else{if((p=this._clipSegment(f,s,i,a,c,u))===null)continue;[y,g,m,x]=p,h=l,l=this._edgecode(m,x),h&&l&&this._edge(e,h,l,o,o.length),o?o.push(m,x):o=[m,x]}h=l,l=this._edgecode(y,g),h&&l&&this._edge(e,h,l,o,o.length),o?o.push(y,g):o=[y,g]}if(o)h=l,l=this._edgecode(o[0],o[1]),h&&l&&this._edge(e,h,l,o,o.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return o}_clipSegment(e,n,r,o,i,a){let f=i<a;for(f&&([e,n,r,o,i,a]=[r,o,e,n,a,i]);;){if(i===0&&a===0)return f?[r,o,e,n]:[e,n,r,o];if(i&a)return null;let s,u,c=i||a;c&8?(s=e+(r-e)*(this.ymax-n)/(o-n),u=this.ymax):c&4?(s=e+(r-e)*(this.ymin-n)/(o-n),u=this.ymin):c&2?(u=n+(o-n)*(this.xmax-e)/(r-e),s=this.xmax):(u=n+(o-n)*(this.xmin-e)/(r-e),s=this.xmin),i?(e=s,n=u,i=this._regioncode(e,n)):(r=s,o=u,a=this._regioncode(r,o))}}_clipInfinite(e,n,r,o,i,a){let f=Array.from(n),s;if((s=this._project(f[0],f[1],r,o))&&f.unshift(s[0],s[1]),(s=this._project(f[f.length-2],f[f.length-1],i,a))&&f.push(s[0],s[1]),f=this._clipFinite(e,f))for(let u=0,c=f.length,h,l=this._edgecode(f[c-2],f[c-1]);u<c;u+=2)h=l,l=this._edgecode(f[u],f[u+1]),h&&l&&(u=this._edge(e,h,l,f,u),c=f.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(f=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return f}_edge(e,n,r,o,i){for(;n!==r;){let a,f;switch(n){case 5:n=4;continue;case 4:n=6,a=this.xmax,f=this.ymin;break;case 6:n=2;continue;case 2:n=10,a=this.xmax,f=this.ymax;break;case 10:n=8;continue;case 8:n=9,a=this.xmin,f=this.ymax;break;case 9:n=1;continue;case 1:n=5,a=this.xmin,f=this.ymin;break}(o[i]!==a||o[i+1]!==f)&&this.contains(e,a,f)&&(o.splice(i,0,a,f),i+=2)}return i}_project(e,n,r,o){let i=1/0,a,f,s;if(o<0){if(n<=this.ymin)return null;(a=(this.ymin-n)/o)<i&&(s=this.ymin,f=e+(i=a)*r)}else if(o>0){if(n>=this.ymax)return null;(a=(this.ymax-n)/o)<i&&(s=this.ymax,f=e+(i=a)*r)}if(r>0){if(e>=this.xmax)return null;(a=(this.xmax-e)/r)<i&&(f=this.xmax,s=n+(i=a)*o)}else if(r<0){if(e<=this.xmin)return null;(a=(this.xmin-e)/r)<i&&(f=this.xmin,s=n+(i=a)*o)}return[f,s]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let n=0;n<e.length;n+=2){let r=(n+2)%e.length,o=(n+4)%e.length;(e[n]===e[r]&&e[r]===e[o]||e[n+1]===e[r+1]&&e[r+1]===e[o+1])&&(e.splice(r,2),n-=2)}e.length||(e=null)}return e}};var jM=2*Math.PI,ta=Math.pow;function VM(t){return t[0]}function ZM(t){return t[1]}function KM(t){let{triangles:e,coords:n}=t;for(let r=0;r<e.length;r+=3){let o=2*e[r],i=2*e[r+1],a=2*e[r+2];if((n[a]-n[o])*(n[i+1]-n[o+1])-(n[i]-n[o])*(n[a+1]-n[o+1])>1e-10)return!1}return!0}function QM(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}var fn=class t{static from(e,n=VM,r=ZM,o){return new t("length"in e?JM(e,n,r,o):Float64Array.from(t7(e,n,r,o)))}constructor(e){this._delaunator=new Ji(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&KM(e)){this.collinear=Int32Array.from({length:n.length/2},(l,d)=>d).sort((l,d)=>n[2*l]-n[2*d]||n[2*l+1]-n[2*d+1]);let s=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*s],n[2*s+1],n[2*u],n[2*u+1]],h=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let l=0,d=n.length/2;l<d;++l){let p=QM(n[2*l],n[2*l+1],h);n[2*l]=p[0],n[2*l+1]=p[1]}this._delaunator=new Ji(n)}else delete this.collinear;let r=this.halfedges=this._delaunator.halfedges,o=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),f=this._hullIndex.fill(-1);for(let s=0,u=r.length;s<u;++s){let c=i[s%3===2?s-2:s+1];(r[s]===-1||a[c]===-1)&&(a[c]=s)}for(let s=0,u=o.length;s<u;++s)f[o[s]]=s;o.length<=2&&o.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=o[0],a[o[0]]=1,o.length===2&&(a[o[1]]=0,this.triangles[1]=o[1],this.triangles[2]=o[1]))}voronoi(e){return new Vf(this,e)}*neighbors(e){let{inedges:n,hull:r,_hullIndex:o,halfedges:i,triangles:a,collinear:f}=this;if(f){let h=f.indexOf(e);h>0&&(yield f[h-1]),h<f.length-1&&(yield f[h+1]);return}let s=n[e];if(s===-1)return;let u=s,c=-1;do{if(yield c=a[u],u=u%3===2?u-2:u+1,a[u]!==e)return;if(u=i[u],u===-1){let h=r[(o[e]+1)%r.length];h!==c&&(yield h);return}}while(u!==s)}find(e,n,r=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;let o=r,i;for(;(i=this._step(r,e,n))>=0&&i!==r&&i!==o;)r=i;return i}_step(e,n,r){let{inedges:o,hull:i,_hullIndex:a,halfedges:f,triangles:s,points:u}=this;if(o[e]===-1||!u.length)return(e+1)%(u.length>>1);let c=e,h=ta(n-u[e*2],2)+ta(r-u[e*2+1],2),l=o[e],d=l;do{let p=s[d],m=ta(n-u[p*2],2)+ta(r-u[p*2+1],2);if(m<h&&(h=m,c=p),d=d%3===2?d-2:d+1,s[d]!==e)break;if(d=f[d],d===-1){if(d=i[(a[e]+1)%i.length],d!==p&&ta(n-u[d*2],2)+ta(r-u[d*2+1],2)<h)return d;break}}while(d!==l);return c}render(e){let n=e==null?e=new an:void 0,{points:r,halfedges:o,triangles:i}=this;for(let a=0,f=o.length;a<f;++a){let s=o[a];if(s<a)continue;let u=i[a]*2,c=i[s]*2;e.moveTo(r[u],r[u+1]),e.lineTo(r[c],r[c+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;let r=e==null?e=new an:void 0,{points:o}=this;for(let i=0,a=o.length;i<a;i+=2){let f=o[i],s=o[i+1];e.moveTo(f+n,s),e.arc(f,s,n,0,jM)}return r&&r.value()}renderHull(e){let n=e==null?e=new an:void 0,{hull:r,points:o}=this,i=r[0]*2,a=r.length;e.moveTo(o[i],o[i+1]);for(let f=1;f<a;++f){let s=2*r[f];e.lineTo(o[s],o[s+1])}return e.closePath(),n&&n.value()}hullPolygon(){let e=new ro;return this.renderHull(e),e.value()}renderTriangle(e,n){let r=n==null?n=new an:void 0,{points:o,triangles:i}=this,a=i[e*=3]*2,f=i[e+1]*2,s=i[e+2]*2;return n.moveTo(o[a],o[a+1]),n.lineTo(o[f],o[f+1]),n.lineTo(o[s],o[s+1]),n.closePath(),r&&r.value()}*trianglePolygons(){let{triangles:e}=this;for(let n=0,r=e.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(e){let n=new ro;return this.renderTriangle(e,n),n.value()}};function JM(t,e,n,r){let o=t.length,i=new Float64Array(o*2);for(let a=0;a<o;++a){let f=t[a];i[a*2]=e.call(r,f,a,t),i[a*2+1]=n.call(r,f,a,t)}return i}function*t7(t,e,n,r){let o=0;for(let i of t)yield e.call(r,i,o,t),yield n.call(r,i,o,t),++o}function u2(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Zo(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Fn(t){return t=Zo(Math.abs(t)),t?t[1]:NaN}function c2(t,e){return function(n,r){for(var o=n.length,i=[],a=0,f=t[0],s=0;o>0&&f>0&&(s+f+1>r&&(f=Math.max(1,r-s)),i.push(n.substring(o-=f,o+f)),!((s+=f+1)>r));)f=t[a=(a+1)%t.length];return i.reverse().join(e)}}function l2(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var e7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yn(t){if(!(e=e7.exec(t)))throw new Error("invalid format: "+t);var e;return new _c({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Yn.prototype=_c.prototype;function _c(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}_c.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function h2(t){t:for(var e=t.length,n=1,r=-1,o;n<e;++n)switch(t[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(o+1):t}var im;function d2(t,e){var n=Zo(t,e);if(!n)return t+"";var r=n[0],o=n[1],i=o-(im=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Zo(t,Math.max(0,e+i-1))[0]}function am(t,e){var n=Zo(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}var fm={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:u2,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>am(t*100,e),r:am,s:d2,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function sm(t){return t}var p2=Array.prototype.map,m2=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function g2(t){var e=t.grouping===void 0||t.thousands===void 0?sm:c2(p2.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?sm:l2(p2.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"\u2212":t.minus+"",s=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Yn(h);var l=h.fill,d=h.align,p=h.sign,m=h.symbol,x=h.zero,y=h.width,g=h.comma,w=h.precision,b=h.trim,_=h.type;_==="n"?(g=!0,_="g"):fm[_]||(w===void 0&&(w=12),b=!0,_="g"),(x||l==="0"&&d==="=")&&(x=!0,l="0",d="=");var v=m==="$"?n:m==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",M=m==="$"?r:/[%p]/.test(_)?a:"",k=fm[_],S=/[defgprs%]/.test(_);w=w===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function A(T){var $=v,I=M,E,C,N;if(_==="c")I=k(T)+I,T="";else{T=+T;var R=T<0||1/T<0;if(T=isNaN(T)?s:k(Math.abs(T),w),b&&(T=h2(T)),R&&+T==0&&p!=="+"&&(R=!1),$=(R?p==="("?p:f:p==="-"||p==="("?"":p)+$,I=(_==="s"?m2[8+im/3]:"")+I+(R&&p==="("?")":""),S){for(E=-1,C=T.length;++E<C;)if(N=T.charCodeAt(E),48>N||N>57){I=(N===46?o+T.slice(E+1):T.slice(E))+I,T=T.slice(0,E);break}}}g&&!x&&(T=e(T,1/0));var z=$.length+T.length+I.length,D=z<y?new Array(y-z+1).join(l):"";switch(g&&x&&(T=e(D+T,D.length?y-I.length:1/0),D=""),d){case"<":T=$+T+I+D;break;case"=":T=$+D+T+I;break;case"^":T=D.slice(0,z=D.length>>1)+$+T+I+D.slice(z);break;default:T=D+$+T+I;break}return i(T)}return A.toString=function(){return h+""},A}function c(h,l){var d=u((h=Yn(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(Fn(l)/3)))*3,m=Math.pow(10,-p),x=m2[8+p/3];return function(y){return d(m*y)+x}}return{format:u,formatPrefix:c}}var Mc,sn,Sc;um({thousands:",",grouping:[3],currency:["$",""]});function um(t){return Mc=g2(t),sn=Mc.format,Sc=Mc.formatPrefix,Mc}function cm(t){return Math.max(0,-Fn(Math.abs(t)))}function lm(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fn(e)/3)))*3-Fn(Math.abs(t)))}function hm(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fn(e)-Fn(t))+1}var V=1e-6,Ko=1e-12,ut=Math.PI,Et=ut/2,dm=ut/4,ue=ut*2,jt=180/ut,pt=ut/180,ht=Math.abs,un=Math.atan,Qt=Math.atan2,H=Math.cos,Zf=Math.ceil,Tc=Math.exp;var kc=Math.hypot,Qo=Math.log,Ac=Math.pow,U=Math.sin,Te=Math.sign||function(t){return t>0?1:t<0?-1:0},Nt=Math.sqrt,ea=Math.tan;function Cc(t){return t>1?0:t<-1?ut:Math.acos(t)}function Lt(t){return t>1?Et:t<-1?-Et:Math.asin(t)}function Jt(){}function $c(t,e){t&&x2.hasOwnProperty(t.type)&&x2[t.type](t,e)}var y2={Feature:function(t,e){$c(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)$c(n[r].geometry,e)}},x2={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){pm(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)pm(n[r],e,0)},Polygon:function(t,e){b2(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)b2(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)$c(n[r],e)}};function pm(t,e,n){var r=-1,o=t.length-n,i;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function b2(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)pm(t[n],e,1);e.polygonEnd()}function Ze(t,e){t&&y2.hasOwnProperty(t.type)?y2[t.type](t,e):$c(t,e)}function Kf(t){return[Qt(t[1],t[0]),Lt(t[2])]}function qn(t){var e=t[0],n=t[1],r=H(n);return[r*H(e),r*U(e),U(n)]}function Qf(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function na(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ec(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Jf(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function ts(t){var e=Nt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var es,Nc,Ic,Rc,Dc,Pc,Lc,Oc,mm,gm,ym,_2,M2,qe,Be,Xe,Tn={sphere:Jt,point:xm,lineStart:w2,lineEnd:v2,polygonStart:function(){Tn.lineStart=o7,Tn.lineEnd=i7},polygonEnd:function(){Tn.lineStart=w2,Tn.lineEnd=v2}};function xm(t,e){t*=pt,e*=pt;var n=H(e);ns(n*H(t),n*U(t),U(e))}function ns(t,e,n){++es,Ic+=(t-Ic)/es,Rc+=(e-Rc)/es,Dc+=(n-Dc)/es}function w2(){Tn.point=n7}function n7(t,e){t*=pt,e*=pt;var n=H(e);qe=n*H(t),Be=n*U(t),Xe=U(e),Tn.point=r7,ns(qe,Be,Xe)}function r7(t,e){t*=pt,e*=pt;var n=H(e),r=n*H(t),o=n*U(t),i=U(e),a=Qt(Nt((a=Be*i-Xe*o)*a+(a=Xe*r-qe*i)*a+(a=qe*o-Be*r)*a),qe*r+Be*o+Xe*i);Nc+=a,Pc+=a*(qe+(qe=r)),Lc+=a*(Be+(Be=o)),Oc+=a*(Xe+(Xe=i)),ns(qe,Be,Xe)}function v2(){Tn.point=xm}function o7(){Tn.point=a7}function i7(){S2(_2,M2),Tn.point=xm}function a7(t,e){_2=t,M2=e,t*=pt,e*=pt,Tn.point=S2;var n=H(e);qe=n*H(t),Be=n*U(t),Xe=U(e),ns(qe,Be,Xe)}function S2(t,e){t*=pt,e*=pt;var n=H(e),r=n*H(t),o=n*U(t),i=U(e),a=Be*i-Xe*o,f=Xe*r-qe*i,s=qe*o-Be*r,u=kc(a,f,s),c=Lt(u),h=u&&-c/u;mm.add(h*a),gm.add(h*f),ym.add(h*s),Nc+=c,Pc+=c*(qe+(qe=r)),Lc+=c*(Be+(Be=o)),Oc+=c*(Xe+(Xe=i)),ns(qe,Be,Xe)}function bm(t){es=Nc=Ic=Rc=Dc=Pc=Lc=Oc=0,mm=new me,gm=new me,ym=new me,Ze(t,Tn);var e=+mm,n=+gm,r=+ym,o=kc(e,n,r);return o<Ko&&(e=Pc,n=Lc,r=Oc,Nc<V&&(e=Ic,n=Rc,r=Dc),o=kc(e,n,r),o<Ko)?[NaN,NaN]:[Qt(n,e)*jt,Lt(r/o)*jt]}function rs(t,e){function n(r,o){return r=t(r,o),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,o){return r=e.invert(r,o),r&&t.invert(r[0],r[1])}),n}function wm(t,e){return ht(t)>ut&&(t-=Math.round(t/ue)*ue),[t,e]}wm.invert=wm;function vm(t,e,n){return(t%=ue)?e||n?rs(k2(t),A2(e,n)):k2(t):e||n?A2(e,n):wm}function T2(t){return function(e,n){return e+=t,ht(e)>ut&&(e-=Math.round(e/ue)*ue),[e,n]}}function k2(t){var e=T2(t);return e.invert=T2(-t),e}function A2(t,e){var n=H(t),r=U(t),o=H(e),i=U(e);function a(f,s){var u=H(s),c=H(f)*u,h=U(f)*u,l=U(s),d=l*n+c*r;return[Qt(h*o-d*i,c*n-l*r),Lt(d*o+h*i)]}return a.invert=function(f,s){var u=H(s),c=H(f)*u,h=U(f)*u,l=U(s),d=l*o-h*i;return[Qt(h*o+l*i,c*n+d*r),Lt(d*n-c*r)]},a}function C2(t){t=vm(t[0]*pt,t[1]*pt,t.length>2?t[2]*pt:0);function e(n){return n=t(n[0]*pt,n[1]*pt),n[0]*=jt,n[1]*=jt,n}return e.invert=function(n){return n=t.invert(n[0]*pt,n[1]*pt),n[0]*=jt,n[1]*=jt,n},e}function E2(t,e,n,r,o,i){if(n){var a=H(e),f=U(e),s=r*n;o==null?(o=e+r*ue,i=e-s/2):(o=$2(a,o),i=$2(a,i),(r>0?o<i:o>i)&&(o+=r*ue));for(var u,c=o;r>0?c>i:c<i;c-=s)u=Kf([a,-f*H(c),-f*U(c)]),t.point(u[0],u[1])}}function $2(t,e){e=qn(e),e[0]-=t,ts(e);var n=Cc(-e[1]);return((-e[2]<0?-n:n)+ue-V)%ue}function zc(){var t=[],e;return{point:function(n,r,o){e.push([n,r,o])},lineStart:function(){t.push(e=[])},lineEnd:Jt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function ra(t,e){return ht(t[0]-e[0])<V&&ht(t[1]-e[1])<V}function Fc(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Yc(t,e,n,r,o){var i=[],a=[],f,s;if(t.forEach(function(p){if(!((m=p.length-1)<=0)){var m,x=p[0],y=p[m],g;if(ra(x,y)){if(!x[2]&&!y[2]){for(o.lineStart(),f=0;f<m;++f)o.point((x=p[f])[0],x[1]);o.lineEnd();return}y[0]+=2*V}i.push(g=new Fc(x,p,null,!0)),a.push(g.o=new Fc(x,null,g,!1)),i.push(g=new Fc(y,p,null,!1)),a.push(g.o=new Fc(y,null,g,!0))}}),!!i.length){for(a.sort(e),N2(i),N2(a),f=0,s=a.length;f<s;++f)a[f].e=n=!n;for(var u=i[0],c,h;;){for(var l=u,d=!0;l.v;)if((l=l.n)===u)return;c=l.z,o.lineStart();do{if(l.v=l.o.v=!0,l.e){if(d)for(f=0,s=c.length;f<s;++f)o.point((h=c[f])[0],h[1]);else r(l.x,l.n.x,1,o);l=l.n}else{if(d)for(c=l.p.z,f=c.length-1;f>=0;--f)o.point((h=c[f])[0],h[1]);else r(l.x,l.p.x,-1,o);l=l.p}l=l.o,c=l.z,d=!d}while(!l.v);o.lineEnd()}}}function N2(t){if(e=t.length){for(var e,n=0,r=t[0],o;++n<e;)r.n=o=t[n],o.p=r,r=o;r.n=o=t[0],o.p=r}}function _m(t){return ht(t[0])<=ut?t[0]:Te(t[0])*((ht(t[0])+ut)%ue-ut)}function I2(t,e){var n=_m(e),r=e[1],o=U(r),i=[U(n),-H(n),0],a=0,f=0,s=new me;o===1?r=Et+V:o===-1&&(r=-Et-V);for(var u=0,c=t.length;u<c;++u)if(l=(h=t[u]).length)for(var h,l,d=h[l-1],p=_m(d),m=d[1]/2+dm,x=U(m),y=H(m),g=0;g<l;++g,p=b,x=v,y=M,d=w){var w=h[g],b=_m(w),_=w[1]/2+dm,v=U(_),M=H(_),k=b-p,S=k>=0?1:-1,A=S*k,T=A>ut,$=x*v;if(s.add(Qt($*S*U(A),y*M+$*H(A))),a+=T?k+S*ue:k,T^p>=n^b>=n){var I=na(qn(d),qn(w));ts(I);var E=na(i,I);ts(E);var C=(T^k>=0?-1:1)*Lt(E[2]);(r>C||r===C&&(I[0]||I[1]))&&(f+=T^k>=0?1:-1)}}return(a<-V||a<V&&s<-Ko)^f&1}function qc(t,e,n,r){return function(o){var i=e(o),a=zc(),f=e(a),s=!1,u,c,h,l={point:d,lineStart:m,lineEnd:x,polygonStart:function(){l.point=y,l.lineStart=g,l.lineEnd=w,c=[],u=[]},polygonEnd:function(){l.point=d,l.lineStart=m,l.lineEnd=x,c=Fi(c);var b=I2(u,r);c.length?(s||(o.polygonStart(),s=!0),Yc(c,s7,b,n,o)):b&&(s||(o.polygonStart(),s=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),s&&(o.polygonEnd(),s=!1),c=u=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function d(b,_){t(b,_)&&o.point(b,_)}function p(b,_){i.point(b,_)}function m(){l.point=p,i.lineStart()}function x(){l.point=d,i.lineEnd()}function y(b,_){h.push([b,_]),f.point(b,_)}function g(){f.lineStart(),h=[]}function w(){y(h[0][0],h[0][1]),f.lineEnd();var b=f.clean(),_=a.result(),v,M=_.length,k,S,A;if(h.pop(),u.push(h),h=null,!!M){if(b&1){if(S=_[0],(k=S.length-1)>0){for(s||(o.polygonStart(),s=!0),o.lineStart(),v=0;v<k;++v)o.point((A=S[v])[0],A[1]);o.lineEnd()}return}M>1&&b&2&&_.push(_.pop().concat(_.shift())),c.push(_.filter(f7))}}return l}}function f7(t){return t.length>1}function s7(t,e){return((t=t.x)[0]<0?t[1]-Et-V:Et-t[1])-((e=e.x)[0]<0?e[1]-Et-V:Et-e[1])}var Mm=qc(function(){return!0},u7,l7,[-ut,-Et]);function u7(t){var e=NaN,n=NaN,r=NaN,o;return{lineStart:function(){t.lineStart(),o=1},point:function(i,a){var f=i>0?ut:-ut,s=ht(i-e);ht(s-ut)<V?(t.point(e,n=(n+a)/2>0?Et:-Et),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),t.point(i,n),o=0):r!==f&&s>=ut&&(ht(e-r)<V&&(e-=r*V),ht(i-f)<V&&(i-=f*V),n=c7(e,n,i,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),o=0),t.point(e=i,n=a),r=f},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-o}}}function c7(t,e,n,r){var o,i,a=U(t-n);return ht(a)>V?un((U(e)*(i=H(r))*U(n)-U(r)*(o=H(e))*U(t))/(o*i*a)):(e+r)/2}function l7(t,e,n,r){var o;if(t==null)o=n*Et,r.point(-ut,o),r.point(0,o),r.point(ut,o),r.point(ut,0),r.point(ut,-o),r.point(0,-o),r.point(-ut,-o),r.point(-ut,0),r.point(-ut,o);else if(ht(t[0]-e[0])>V){var i=t[0]<e[0]?ut:-ut;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(e[0],e[1])}function R2(t){var e=H(t),n=2*pt,r=e>0,o=ht(e)>V;function i(c,h,l,d){E2(d,t,n,l,c,h)}function a(c,h){return H(c)*H(h)>e}function f(c){var h,l,d,p,m;return{lineStart:function(){p=d=!1,m=1},point:function(x,y){var g=[x,y],w,b=a(x,y),_=r?b?0:u(x,y):b?u(x+(x<0?ut:-ut),y):0;if(!h&&(p=d=b)&&c.lineStart(),b!==d&&(w=s(h,g),(!w||ra(h,w)||ra(g,w))&&(g[2]=1)),b!==d)m=0,b?(c.lineStart(),w=s(g,h),c.point(w[0],w[1])):(w=s(h,g),c.point(w[0],w[1],2),c.lineEnd()),h=w;else if(o&&h&&r^b){var v;!(_&l)&&(v=s(g,h,!0))&&(m=0,r?(c.lineStart(),c.point(v[0][0],v[0][1]),c.point(v[1][0],v[1][1]),c.lineEnd()):(c.point(v[1][0],v[1][1]),c.lineEnd(),c.lineStart(),c.point(v[0][0],v[0][1],3)))}b&&(!h||!ra(h,g))&&c.point(g[0],g[1]),h=g,d=b,l=_},lineEnd:function(){d&&c.lineEnd(),h=null},clean:function(){return m|(p&&d)<<1}}}function s(c,h,l){var d=qn(c),p=qn(h),m=[1,0,0],x=na(d,p),y=Qf(x,x),g=x[0],w=y-g*g;if(!w)return!l&&c;var b=e*y/w,_=-e*g/w,v=na(m,x),M=Jf(m,b),k=Jf(x,_);Ec(M,k);var S=v,A=Qf(M,S),T=Qf(S,S),$=A*A-T*(Qf(M,M)-1);if(!($<0)){var I=Nt($),E=Jf(S,(-A-I)/T);if(Ec(E,M),E=Kf(E),!l)return E;var C=c[0],N=h[0],R=c[1],z=h[1],D;N<C&&(D=C,C=N,N=D);var Y=N-C,q=ht(Y-ut)<V,W=q||Y<V;if(!q&&z<R&&(D=R,R=z,z=D),W?q?R+z>0^E[1]<(ht(E[0]-C)<V?R:z):R<=E[1]&&E[1]<=z:Y>ut^(C<=E[0]&&E[0]<=N)){var X=Jf(S,(-A+I)/T);return Ec(X,M),[E,Kf(X)]}}}function u(c,h){var l=r?t:ut-t,d=0;return c<-l?d|=1:c>l&&(d|=2),h<-l?d|=4:h>l&&(d|=8),d}return qc(a,f,i,r?[0,-t]:[-ut,t-ut])}function D2(t,e,n,r,o,i){var a=t[0],f=t[1],s=e[0],u=e[1],c=0,h=1,l=s-a,d=u-f,p;if(p=n-a,!(!l&&p>0)){if(p/=l,l<0){if(p<c)return;p<h&&(h=p)}else if(l>0){if(p>h)return;p>c&&(c=p)}if(p=o-a,!(!l&&p<0)){if(p/=l,l<0){if(p>h)return;p>c&&(c=p)}else if(l>0){if(p<c)return;p<h&&(h=p)}if(p=r-f,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<h&&(h=p)}else if(d>0){if(p>h)return;p>c&&(c=p)}if(p=i-f,!(!d&&p<0)){if(p/=d,d<0){if(p>h)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<h&&(h=p)}return c>0&&(t[0]=a+c*l,t[1]=f+c*d),h<1&&(e[0]=a+h*l,e[1]=f+h*d),!0}}}}}var os=1e9,Bc=-os;function oa(t,e,n,r){function o(u,c){return t<=u&&u<=n&&e<=c&&c<=r}function i(u,c,h,l){var d=0,p=0;if(u==null||(d=a(u,h))!==(p=a(c,h))||s(u,c)<0^h>0)do l.point(d===0||d===3?t:n,d>1?r:e);while((d=(d+h+4)%4)!==p);else l.point(c[0],c[1])}function a(u,c){return ht(u[0]-t)<V?c>0?0:3:ht(u[0]-n)<V?c>0?2:1:ht(u[1]-e)<V?c>0?1:0:c>0?3:2}function f(u,c){return s(u.x,c.x)}function s(u,c){var h=a(u,1),l=a(c,1);return h!==l?h-l:h===0?c[1]-u[1]:h===1?u[0]-c[0]:h===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,h=zc(),l,d,p,m,x,y,g,w,b,_,v,M={point:k,lineStart:$,lineEnd:I,polygonStart:A,polygonEnd:T};function k(C,N){o(C,N)&&c.point(C,N)}function S(){for(var C=0,N=0,R=d.length;N<R;++N)for(var z=d[N],D=1,Y=z.length,q=z[0],W,X,at=q[0],st=q[1];D<Y;++D)W=at,X=st,q=z[D],at=q[0],st=q[1],X<=r?st>r&&(at-W)*(r-X)>(st-X)*(t-W)&&++C:st<=r&&(at-W)*(r-X)<(st-X)*(t-W)&&--C;return C}function A(){c=h,l=[],d=[],v=!0}function T(){var C=S(),N=v&&C,R=(l=Fi(l)).length;(N||R)&&(u.polygonStart(),N&&(u.lineStart(),i(null,null,1,u),u.lineEnd()),R&&Yc(l,f,C,i,u),u.polygonEnd()),c=u,l=d=p=null}function $(){M.point=E,d&&d.push(p=[]),_=!0,b=!1,g=w=NaN}function I(){l&&(E(m,x),y&&b&&h.rejoin(),l.push(h.result())),M.point=k,b&&c.lineEnd()}function E(C,N){var R=o(C,N);if(d&&p.push([C,N]),_)m=C,x=N,y=R,_=!1,R&&(c.lineStart(),c.point(C,N));else if(R&&b)c.point(C,N);else{var z=[g=Math.max(Bc,Math.min(os,g)),w=Math.max(Bc,Math.min(os,w))],D=[C=Math.max(Bc,Math.min(os,C)),N=Math.max(Bc,Math.min(os,N))];D2(z,D,t,e,n,r)?(b||(c.lineStart(),c.point(z[0],z[1])),c.point(D[0],D[1]),R||c.lineEnd(),v=!1):R&&(c.lineStart(),c.point(C,N),v=!1)}g=C,w=N,b=R}return M}}function P2(t,e,n){var r=oe(t,e-V,n).concat(e);return function(o){return r.map(function(i){return[o,i]})}}function L2(t,e,n){var r=oe(t,e-V,n).concat(e);return function(o){return r.map(function(i){return[i,o]})}}function Sm(){var t,e,n,r,o,i,a,f,s=10,u=s,c=90,h=360,l,d,p,m,x=2.5;function y(){return{type:"MultiLineString",coordinates:g()}}function g(){return oe(Zf(r/c)*c,n,c).map(p).concat(oe(Zf(f/h)*h,a,h).map(m)).concat(oe(Zf(e/s)*s,t,s).filter(function(w){return ht(w%c)>V}).map(l)).concat(oe(Zf(i/u)*u,o,u).filter(function(w){return ht(w%h)>V}).map(d))}return y.lines=function(){return g().map(function(w){return{type:"LineString",coordinates:w}})},y.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(m(a).slice(1),p(n).reverse().slice(1),m(f).reverse().slice(1))]}},y.extent=function(w){return arguments.length?y.extentMajor(w).extentMinor(w):y.extentMinor()},y.extentMajor=function(w){return arguments.length?(r=+w[0][0],n=+w[1][0],f=+w[0][1],a=+w[1][1],r>n&&(w=r,r=n,n=w),f>a&&(w=f,f=a,a=w),y.precision(x)):[[r,f],[n,a]]},y.extentMinor=function(w){return arguments.length?(e=+w[0][0],t=+w[1][0],i=+w[0][1],o=+w[1][1],e>t&&(w=e,e=t,t=w),i>o&&(w=i,i=o,o=w),y.precision(x)):[[e,i],[t,o]]},y.step=function(w){return arguments.length?y.stepMajor(w).stepMinor(w):y.stepMinor()},y.stepMajor=function(w){return arguments.length?(c=+w[0],h=+w[1],y):[c,h]},y.stepMinor=function(w){return arguments.length?(s=+w[0],u=+w[1],y):[s,u]},y.precision=function(w){return arguments.length?(x=+w,l=P2(i,o,90),d=L2(e,t,x),p=P2(f,a,90),m=L2(r,n,x),y):x},y.extentMajor([[-180,-90+V],[180,90-V]]).extentMinor([[-180,-80-V],[180,80+V]])}function Tm(){return Sm()()}var is=t=>t;var km=new me,Am=new me,O2,z2,Cm,$m,oo={point:Jt,lineStart:Jt,lineEnd:Jt,polygonStart:function(){oo.lineStart=h7,oo.lineEnd=p7},polygonEnd:function(){oo.lineStart=oo.lineEnd=oo.point=Jt,km.add(ht(Am)),Am=new me},result:function(){var t=km/2;return km=new me,t}};function h7(){oo.point=d7}function d7(t,e){oo.point=F2,O2=Cm=t,z2=$m=e}function F2(t,e){Am.add($m*t-Cm*e),Cm=t,$m=e}function p7(){F2(O2,z2)}var Em=oo;var ia=1/0,Xc=ia,as=-ia,Uc=as,m7={point:g7,lineStart:Jt,lineEnd:Jt,polygonStart:Jt,polygonEnd:Jt,result:function(){var t=[[ia,Xc],[as,Uc]];return as=Uc=-(Xc=ia=1/0),t}};function g7(t,e){t<ia&&(ia=t),t>as&&(as=t),e<Xc&&(Xc=e),e>Uc&&(Uc=e)}var aa=m7;var Nm=0,Im=0,fs=0,Wc=0,Gc=0,fa=0,Rm=0,Dm=0,ss=0,B2,X2,Bn,Xn,kn={point:Jo,lineStart:Y2,lineEnd:q2,polygonStart:function(){kn.lineStart=b7,kn.lineEnd=w7},polygonEnd:function(){kn.point=Jo,kn.lineStart=Y2,kn.lineEnd=q2},result:function(){var t=ss?[Rm/ss,Dm/ss]:fa?[Wc/fa,Gc/fa]:fs?[Nm/fs,Im/fs]:[NaN,NaN];return Nm=Im=fs=Wc=Gc=fa=Rm=Dm=ss=0,t}};function Jo(t,e){Nm+=t,Im+=e,++fs}function Y2(){kn.point=y7}function y7(t,e){kn.point=x7,Jo(Bn=t,Xn=e)}function x7(t,e){var n=t-Bn,r=e-Xn,o=Nt(n*n+r*r);Wc+=o*(Bn+t)/2,Gc+=o*(Xn+e)/2,fa+=o,Jo(Bn=t,Xn=e)}function q2(){kn.point=Jo}function b7(){kn.point=v7}function w7(){U2(B2,X2)}function v7(t,e){kn.point=U2,Jo(B2=Bn=t,X2=Xn=e)}function U2(t,e){var n=t-Bn,r=e-Xn,o=Nt(n*n+r*r);Wc+=o*(Bn+t)/2,Gc+=o*(Xn+e)/2,fa+=o,o=Xn*t-Bn*e,Rm+=o*(Bn+t),Dm+=o*(Xn+e),ss+=o*3,Jo(Bn=t,Xn=e)}var Pm=kn;function Hc(t){this._context=t}Hc.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,ue);break}}},result:Jt};var Om=new me,Lm,W2,G2,us,cs,jc={point:Jt,lineStart:function(){jc.point=_7},lineEnd:function(){Lm&&H2(W2,G2),jc.point=Jt},polygonStart:function(){Lm=!0},polygonEnd:function(){Lm=null},result:function(){var t=+Om;return Om=new me,t}};function _7(t,e){jc.point=H2,W2=us=t,G2=cs=e}function H2(t,e){us-=t,cs-=e,Om.add(Nt(us*us+cs*cs)),us=t,cs=e}var zm=jc;var j2,Vc,V2,Z2,sa=class{constructor(e){this._append=e==null?K2:M7(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==V2||this._append!==Vc){let r=this._radius,o=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,V2=r,Vc=this._append,Z2=this._,this._=o}this._+=Z2;break}}}result(){let e=this._;return this._="",e.length?e:null}};function K2(t){let e=1;this._+=t[0];for(let n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function M7(t){let e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return K2;if(e!==j2){let n=10**e;j2=e,Vc=function(o){let i=1;this._+=o[0];for(let a=o.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+o[i]}}return Vc}function ke(t,e){let n=3,r=4.5,o,i;function a(f){return f&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),Ze(f,o(i))),i.result()}return a.area=function(f){return Ze(f,o(Em)),Em.result()},a.measure=function(f){return Ze(f,o(zm)),zm.result()},a.bounds=function(f){return Ze(f,o(aa)),aa.result()},a.centroid=function(f){return Ze(f,o(Pm)),Pm.result()},a.projection=function(f){return arguments.length?(o=f==null?(t=null,is):(t=f).stream,a):t},a.context=function(f){return arguments.length?(i=f==null?(e=null,new sa(n)):new Hc(e=f),typeof r!="function"&&i.pointRadius(r),a):e},a.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(i.pointRadius(+f),+f),a):r},a.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{let s=Math.floor(f);if(!(s>=0))throw new RangeError(`invalid digits: ${f}`);n=s}return e===null&&(i=new sa(n)),a},a.projection(t).digits(n).context(e)}function ua(t){return{stream:ca(t)}}function ca(t){return function(e){var n=new Fm;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Fm(){}Fm.prototype={constructor:Fm,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Ym(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Ze(n,t.stream(aa)),e(aa.result()),r!=null&&t.clipExtent(r),t}function ls(t,e,n){return Ym(t,function(r){var o=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=Math.min(o/(r[1][0]-r[0][0]),i/(r[1][1]-r[0][1])),f=+e[0][0]+(o-a*(r[1][0]+r[0][0]))/2,s=+e[0][1]+(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([f,s])},n)}function Zc(t,e,n){return ls(t,[[0,0],e],n)}function Kc(t,e,n){return Ym(t,function(r){var o=+e,i=o/(r[1][0]-r[0][0]),a=(o-i*(r[1][0]+r[0][0]))/2,f=-i*r[0][1];t.scale(150*i).translate([a,f])},n)}function Qc(t,e,n){return Ym(t,function(r){var o=+e,i=o/(r[1][1]-r[0][1]),a=-i*r[0][0],f=(o-i*(r[1][1]+r[0][1]))/2;t.scale(150*i).translate([a,f])},n)}var Q2=16,S7=H(30*pt);function qm(t,e){return+e?k7(t,e):T7(t)}function T7(t){return ca({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function k7(t,e){function n(r,o,i,a,f,s,u,c,h,l,d,p,m,x){var y=u-r,g=c-o,w=y*y+g*g;if(w>4*e&&m--){var b=a+l,_=f+d,v=s+p,M=Nt(b*b+_*_+v*v),k=Lt(v/=M),S=ht(ht(v)-1)<V||ht(i-h)<V?(i+h)/2:Qt(_,b),A=t(S,k),T=A[0],$=A[1],I=T-r,E=$-o,C=g*I-y*E;(C*C/w>e||ht((y*I+g*E)/w-.5)>.3||a*l+f*d+s*p<S7)&&(n(r,o,i,a,f,s,T,$,S,b/=M,_/=M,v,m,x),x.point(T,$),n(T,$,S,b,_,v,u,c,h,l,d,p,m,x))}}return function(r){var o,i,a,f,s,u,c,h,l,d,p,m,x={point:y,lineStart:g,lineEnd:b,polygonStart:function(){r.polygonStart(),x.lineStart=_},polygonEnd:function(){r.polygonEnd(),x.lineStart=g}};function y(k,S){k=t(k,S),r.point(k[0],k[1])}function g(){h=NaN,x.point=w,r.lineStart()}function w(k,S){var A=qn([k,S]),T=t(k,S);n(h,l,c,d,p,m,h=T[0],l=T[1],c=k,d=A[0],p=A[1],m=A[2],Q2,r),r.point(h,l)}function b(){x.point=y,r.lineEnd()}function _(){g(),x.point=v,x.lineEnd=M}function v(k,S){w(o=k,S),i=h,a=l,f=d,s=p,u=m,x.point=w}function M(){n(h,l,c,d,p,m,i,a,o,f,s,u,Q2,r),x.lineEnd=b,b()}return x}}var A7=ca({point:function(t,e){this.stream.point(t*pt,e*pt)}});function C7(t){return ca({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function $7(t,e,n,r,o){function i(a,f){return a*=r,f*=o,[e+t*a,n-t*f]}return i.invert=function(a,f){return[(a-e)/t*r,(n-f)/t*o]},i}function J2(t,e,n,r,o,i){if(!i)return $7(t,e,n,r,o);var a=H(i),f=U(i),s=a*t,u=f*t,c=a/t,h=f/t,l=(f*n-a*e)/t,d=(f*e+a*n)/t;function p(m,x){return m*=r,x*=o,[s*m-u*x+e,n-u*m-s*x]}return p.invert=function(m,x){return[r*(c*m-h*x+l),o*(d-h*m-c*x)]},p}function we(t){return Bm(function(){return t})()}function Bm(t){var e,n=150,r=480,o=250,i=0,a=0,f=0,s=0,u=0,c,h=0,l=1,d=1,p=null,m=Mm,x=null,y,g,w,b=is,_=.5,v,M,k,S,A;function T(C){return k(C[0]*pt,C[1]*pt)}function $(C){return C=k.invert(C[0],C[1]),C&&[C[0]*jt,C[1]*jt]}T.stream=function(C){return S&&A===C?S:S=A7(C7(c)(m(v(b(A=C)))))},T.preclip=function(C){return arguments.length?(m=C,p=void 0,E()):m},T.postclip=function(C){return arguments.length?(b=C,x=y=g=w=null,E()):b},T.clipAngle=function(C){return arguments.length?(m=+C?R2(p=C*pt):(p=null,Mm),E()):p*jt},T.clipExtent=function(C){return arguments.length?(b=C==null?(x=y=g=w=null,is):oa(x=+C[0][0],y=+C[0][1],g=+C[1][0],w=+C[1][1]),E()):x==null?null:[[x,y],[g,w]]},T.scale=function(C){return arguments.length?(n=+C,I()):n},T.translate=function(C){return arguments.length?(r=+C[0],o=+C[1],I()):[r,o]},T.center=function(C){return arguments.length?(i=C[0]%360*pt,a=C[1]%360*pt,I()):[i*jt,a*jt]},T.rotate=function(C){return arguments.length?(f=C[0]%360*pt,s=C[1]%360*pt,u=C.length>2?C[2]%360*pt:0,I()):[f*jt,s*jt,u*jt]},T.angle=function(C){return arguments.length?(h=C%360*pt,I()):h*jt},T.reflectX=function(C){return arguments.length?(l=C?-1:1,I()):l<0},T.reflectY=function(C){return arguments.length?(d=C?-1:1,I()):d<0},T.precision=function(C){return arguments.length?(v=qm(M,_=C*C),E()):Nt(_)},T.fitExtent=function(C,N){return ls(T,C,N)},T.fitSize=function(C,N){return Zc(T,C,N)},T.fitWidth=function(C,N){return Kc(T,C,N)},T.fitHeight=function(C,N){return Qc(T,C,N)};function I(){var C=J2(n,0,0,l,d,h).apply(null,e(i,a)),N=J2(n,r-C[0],o-C[1],l,d,h);return c=vm(f,s,u),M=rs(e,N),k=rs(c,M),v=qm(M,_),E()}function E(){return S=A=null,T}return function(){return e=t.apply(this,arguments),T.invert=e.invert&&$,I()}}function la(t){var e=0,n=ut/3,r=Bm(t),o=r(e,n);return o.parallels=function(i){return arguments.length?r(e=i[0]*pt,n=i[1]*pt):[e*jt,n*jt]},o}function tw(t){var e=H(t);function n(r,o){return[r*e,U(o)/e]}return n.invert=function(r,o){return[r/e,Lt(o*e)]},n}function ew(t,e){var n=U(t),r=(n+U(e))/2;if(ht(r)<V)return tw(t);var o=1+n*(2*r-n),i=Nt(o)/r;function a(f,s){var u=Nt(o-2*r*U(s))/r;return[u*U(f*=r),i-u*H(f)]}return a.invert=function(f,s){var u=i-s,c=Qt(f,ht(u))*Te(u);return u*r<0&&(c-=ut*Te(f)*Te(u)),[c/r,Lt((o-(f*f+u*u)*r*r)/(2*r))]},a}function io(){return la(ew).scale(155.424).center([0,33.6442])}function hs(){return io().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function E7(t){var e=t.length;return{point:function(n,r){for(var o=-1;++o<e;)t[o].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function Xm(){var t,e,n=hs(),r,o=io().rotate([154,0]).center([-2,58.5]).parallels([55,65]),i,a=io().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,s,u={point:function(l,d){s=[l,d]}};function c(l){var d=l[0],p=l[1];return s=null,r.point(d,p),s||(i.point(d,p),s)||(f.point(d,p),s)}c.invert=function(l){var d=n.scale(),p=n.translate(),m=(l[0]-p[0])/d,x=(l[1]-p[1])/d;return(x>=.12&&x<.234&&m>=-.425&&m<-.214?o:x>=.166&&x<.234&&m>=-.214&&m<-.115?a:n).invert(l)},c.stream=function(l){return t&&e===l?t:t=E7([n.stream(e=l),o.stream(l),a.stream(l)])},c.precision=function(l){return arguments.length?(n.precision(l),o.precision(l),a.precision(l),h()):n.precision()},c.scale=function(l){return arguments.length?(n.scale(l),o.scale(l*.35),a.scale(l),c.translate(n.translate())):n.scale()},c.translate=function(l){if(!arguments.length)return n.translate();var d=n.scale(),p=+l[0],m=+l[1];return r=n.translate(l).clipExtent([[p-.455*d,m-.238*d],[p+.455*d,m+.238*d]]).stream(u),i=o.translate([p-.307*d,m+.201*d]).clipExtent([[p-.425*d+V,m+.12*d+V],[p-.214*d-V,m+.234*d-V]]).stream(u),f=a.translate([p-.205*d,m+.212*d]).clipExtent([[p-.214*d+V,m+.166*d+V],[p-.115*d-V,m+.234*d-V]]).stream(u),h()},c.fitExtent=function(l,d){return ls(c,l,d)},c.fitSize=function(l,d){return Zc(c,l,d)},c.fitWidth=function(l,d){return Kc(c,l,d)},c.fitHeight=function(l,d){return Qc(c,l,d)};function h(){return t=e=null,c}return c.scale(1070)}function Jc(t){return function(e,n){var r=H(e),o=H(n),i=t(r*o);return i===1/0?[2,0]:[i*o*U(e),i*U(n)]}}function Un(t){return function(e,n){var r=Nt(e*e+n*n),o=t(r),i=U(o),a=H(o);return[Qt(e*i,r*a),Lt(r&&n*i/r)]}}var Um=Jc(function(t){return Nt(2/(1+t))});Um.invert=Un(function(t){return 2*Lt(t/2)});function Wm(){return we(Um).scale(124.75).clipAngle(180-.001)}var Gm=Jc(function(t){return(t=Cc(t))&&t/U(t)});Gm.invert=Un(function(t){return t});function Hm(){return we(Gm).scale(79.4188).clipAngle(180-.001)}function ha(t,e){return[t,Qo(ea((Et+e)/2))]}ha.invert=function(t,e){return[t,2*un(Tc(e))-Et]};function jm(){return Vm(ha).scale(961/ue)}function Vm(t){var e=we(t),n=e.center,r=e.scale,o=e.translate,i=e.clipExtent,a=null,f,s,u;e.scale=function(h){return arguments.length?(r(h),c()):r()},e.translate=function(h){return arguments.length?(o(h),c()):o()},e.center=function(h){return arguments.length?(n(h),c()):n()},e.clipExtent=function(h){return arguments.length?(h==null?a=f=s=u=null:(a=+h[0][0],f=+h[0][1],s=+h[1][0],u=+h[1][1]),c()):a==null?null:[[a,f],[s,u]]};function c(){var h=ut*r(),l=e(C2(e.rotate()).invert([0,0]));return i(a==null?[[l[0]-h,l[1]-h],[l[0]+h,l[1]+h]]:t===ha?[[Math.max(l[0]-h,a),f],[Math.min(l[0]+h,s),u]]:[[a,Math.max(l[1]-h,f)],[s,Math.min(l[1]+h,u)]])}return c()}function tl(t){return ea((Et+t)/2)}function nw(t,e){var n=H(t),r=t===e?U(t):Qo(n/H(e))/Qo(tl(e)/tl(t)),o=n*Ac(tl(t),r)/r;if(!r)return ha;function i(a,f){o>0?f<-Et+V&&(f=-Et+V):f>Et-V&&(f=Et-V);var s=o/Ac(tl(f),r);return[s*U(r*a),o-s*H(r*a)]}return i.invert=function(a,f){var s=o-f,u=Te(r)*Nt(a*a+s*s),c=Qt(a,ht(s))*Te(s);return s*r<0&&(c-=ut*Te(a)*Te(s)),[c/r,2*un(Ac(o/u,1/r))-Et]},i}function Zm(){return la(nw).scale(109.5).parallels([30,30])}function da(t,e){return[t,e]}da.invert=da;function Km(){return we(da).scale(152.63)}function rw(t,e){var n=H(t),r=t===e?U(t):(n-H(e))/(e-t),o=n/r+t;if(ht(r)<V)return da;function i(a,f){var s=o-f,u=r*a;return[s*U(u),o-s*H(u)]}return i.invert=function(a,f){var s=o-f,u=Qt(a,ht(s))*Te(s);return s*r<0&&(u-=ut*Te(a)*Te(s)),[u/r,o-Te(r)*Nt(a*a+s*s)]},i}function Qm(){return la(rw).scale(131.154).center([0,13.9389])}var ds=1.340264,ps=-.081106,ms=893e-6,gs=.003796,el=Nt(3)/2,N7=12;function Jm(t,e){var n=Lt(el*U(e)),r=n*n,o=r*r*r;return[t*H(n)/(el*(ds+3*ps*r+o*(7*ms+9*gs*r))),n*(ds+ps*r+o*(ms+gs*r))]}Jm.invert=function(t,e){for(var n=e,r=n*n,o=r*r*r,i=0,a,f,s;i<N7&&(f=n*(ds+ps*r+o*(ms+gs*r))-e,s=ds+3*ps*r+o*(7*ms+9*gs*r),n-=a=f/s,r=n*n,o=r*r*r,!(ht(a)<Ko));++i);return[el*t*(ds+3*ps*r+o*(7*ms+9*gs*r))/H(n),Lt(U(n)/el)]};function t0(){return we(Jm).scale(177.158)}function e0(t,e){var n=H(e),r=H(t)*n;return[n*U(t)/r,U(e)/r]}e0.invert=Un(un);function n0(){return we(e0).scale(144.049).clipAngle(60)}function r0(t,e){return[H(e)*U(t),U(e)]}r0.invert=Un(Lt);function o0(){return we(r0).scale(249.5).clipAngle(90+V)}function i0(t,e){var n=H(e),r=1+H(t)*n;return[n*U(t)/r,U(e)/r]}i0.invert=Un(function(t){return 2*un(t)});function a0(){return we(i0).scale(250).clipAngle(142)}function f0(t,e){return[Qo(ea((Et+e)/2)),-t]}f0.invert=function(t,e){return[-e,2*un(Tc(t))-Et]};function s0(){var t=Vm(f0),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function I7(t,e){return t.parent===e.parent?1:2}function R7(t){return t.reduce(D7,0)/t.length}function D7(t,e){return t+e.x}function P7(t){return 1+t.reduce(L7,0)}function L7(t,e){return Math.max(t,e.y)}function O7(t){for(var e;e=t.children;)t=e[0];return t}function z7(t){for(var e;e=t.children;)t=e[e.length-1];return t}function nl(){var t=I7,e=1,n=1,r=!1;function o(i){var a,f=0;i.eachAfter(function(l){var d=l.children;d?(l.x=R7(d),l.y=P7(d)):(l.x=a?f+=t(l,a):0,l.y=0,a=l)});var s=O7(i),u=z7(i),c=s.x-t(s,u)/2,h=u.x+t(u,s)/2;return i.eachAfter(r?function(l){l.x=(l.x-i.x)*e,l.y=(i.y-l.y)*n}:function(l){l.x=(l.x-c)/(h-c)*e,l.y=(1-(i.y?l.y/i.y:1))*n})}return o.separation=function(i){return arguments.length?(t=i,o):t},o.size=function(i){return arguments.length?(r=!1,e=+i[0],n=+i[1],o):r?null:[e,n]},o.nodeSize=function(i){return arguments.length?(r=!0,e=+i[0],n=+i[1],o):r?[e,n]:null},o}function F7(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function ow(){return this.eachAfter(F7)}function iw(t,e){let n=-1;for(let r of this)t.call(e,r,++n,this);return this}function aw(t,e){for(var n=this,r=[n],o,i,a=-1;n=r.pop();)if(t.call(e,n,++a,this),o=n.children)for(i=o.length-1;i>=0;--i)r.push(o[i]);return this}function fw(t,e){for(var n=this,r=[n],o=[],i,a,f,s=-1;n=r.pop();)if(o.push(n),i=n.children)for(a=0,f=i.length;a<f;++a)r.push(i[a]);for(;n=o.pop();)t.call(e,n,++s,this);return this}function sw(t,e){let n=-1;for(let r of this)if(t.call(e,r,++n,this))return r}function uw(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,o=r&&r.length;--o>=0;)n+=r[o].value;e.value=n})}function cw(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function lw(t){for(var e=this,n=Y7(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var o=r.length;t!==n;)r.splice(o,0,t),t=t.parent;return r}function Y7(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),o=null;for(t=n.pop(),e=r.pop();t===e;)o=t,t=n.pop(),e=r.pop();return o}function hw(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function dw(){return Array.from(this)}function pw(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function mw(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*gw(){var t=this,e,n=[t],r,o,i;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(o=0,i=r.length;o<i;++o)n.push(r[o]);while(n.length)}function u0(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=X7)):e===void 0&&(e=B7);for(var n=new ao(t),r,o=[n],i,a,f,s;r=o.pop();)if((a=e(r.data))&&(s=(a=Array.from(a)).length))for(r.children=a,f=s-1;f>=0;--f)o.push(i=a[f]=new ao(a[f])),i.parent=r,i.depth=r.depth+1;return n.eachBefore(c0)}function q7(){return u0(this).eachBefore(U7)}function B7(t){return t.children}function X7(t){return Array.isArray(t)?t[1]:null}function U7(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function c0(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function ao(t){this.data=t,this.depth=this.height=0,this.parent=null}ao.prototype=u0.prototype={constructor:ao,count:ow,each:iw,eachAfter:fw,eachBefore:aw,find:sw,sum:uw,sort:cw,path:lw,ancestors:hw,descendants:dw,leaves:pw,links:mw,copy:q7,[Symbol.iterator]:gw};function rl(t){return t==null?null:W7(t)}function W7(t){if(typeof t!="function")throw new Error;return t}var G7={depth:-1},yw={},l0={};function H7(t){return t.id}function j7(t){return t.parentId}function ol(){var t=H7,e=j7,n;function r(o){var i=Array.from(o),a=t,f=e,s,u,c,h,l,d,p,m,x=new Map;if(n!=null){let y=i.map((b,_)=>V7(n(b,_,o))),g=y.map(xw),w=new Set(y).add("");for(let b of g)w.has(b)||(w.add(b),y.push(b),g.push(xw(b)),i.push(l0));a=(b,_)=>y[_],f=(b,_)=>g[_]}for(c=0,s=i.length;c<s;++c)u=i[c],d=i[c]=new ao(u),(p=a(u,c,o))!=null&&(p+="")&&(m=d.id=p,x.set(m,x.has(m)?yw:d)),(p=f(u,c,o))!=null&&(p+="")&&(d.parent=p);for(c=0;c<s;++c)if(d=i[c],p=d.parent){if(l=x.get(p),!l)throw new Error("missing: "+p);if(l===yw)throw new Error("ambiguous: "+p);l.children?l.children.push(d):l.children=[d],d.parent=l}else{if(h)throw new Error("multiple roots");h=d}if(!h)throw new Error("no root");if(n!=null){for(;h.data===l0&&h.children.length===1;)h=h.children[0],--s;for(let y=i.length-1;y>=0&&(d=i[y],d.data===l0);--y)d.data=null}if(h.parent=G7,h.eachBefore(function(y){y.depth=y.parent.depth+1,--s}).eachBefore(c0),h.parent=null,s>0)throw new Error("cycle");return h}return r.id=function(o){return arguments.length?(t=rl(o),r):t},r.parentId=function(o){return arguments.length?(e=rl(o),r):e},r.path=function(o){return arguments.length?(n=rl(o),r):n},r}function V7(t){t=`${t}`;let e=t.length;return h0(t,e-1)&&!h0(t,e-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function xw(t){let e=t.length;if(e<2)return"";for(;--e>1&&!h0(t,e););return t.slice(0,e)}function h0(t,e){if(t[e]==="/"){let n=0;for(;e>0&&t[--e]==="\\";)++n;if(!(n&1))return!0}return!1}function Z7(t,e){return t.parent===e.parent?1:2}function d0(t){var e=t.children;return e?e[0]:t.t}function p0(t){var e=t.children;return e?e[e.length-1]:t.t}function K7(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Q7(t){for(var e=0,n=0,r=t.children,o=r.length,i;--o>=0;)i=r[o],i.z+=e,i.m+=e,e+=i.s+(n+=i.c)}function J7(t,e,n){return t.a.parent===e.parent?t.a:n}function il(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}il.prototype=Object.create(ao.prototype);function t9(t){for(var e=new il(t,0),n,r=[e],o,i,a,f;n=r.pop();)if(i=n._.children)for(n.children=new Array(f=i.length),a=f-1;a>=0;--a)r.push(o=n.children[a]=new il(i[a],a)),o.parent=n;return(e.parent=new il(null,0)).children=[e],e}function ti(){var t=Z7,e=1,n=1,r=null;function o(u){var c=t9(u);if(c.eachAfter(i),c.parent.m=-c.z,c.eachBefore(a),r)u.eachBefore(s);else{var h=u,l=u,d=u;u.eachBefore(function(g){g.x<h.x&&(h=g),g.x>l.x&&(l=g),g.depth>d.depth&&(d=g)});var p=h===l?1:t(h,l)/2,m=p-h.x,x=e/(l.x+p+m),y=n/(d.depth||1);u.eachBefore(function(g){g.x=(g.x+m)*x,g.y=g.depth*y})}return u}function i(u){var c=u.children,h=u.parent.children,l=u.i?h[u.i-1]:null;if(c){Q7(u);var d=(c[0].z+c[c.length-1].z)/2;l?(u.z=l.z+t(u._,l._),u.m=u.z-d):u.z=d}else l&&(u.z=l.z+t(u._,l._));u.parent.A=f(u,l,u.parent.A||h[0])}function a(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function f(u,c,h){if(c){for(var l=u,d=u,p=c,m=l.parent.children[0],x=l.m,y=d.m,g=p.m,w=m.m,b;p=p0(p),l=d0(l),p&&l;)m=d0(m),d=p0(d),d.a=u,b=p.z+g-l.z-x+t(p._,l._),b>0&&(K7(J7(p,u,h),u,b),x+=b,y+=b),g+=p.m,x+=l.m,w+=m.m,y+=d.m;p&&!p0(d)&&(d.t=p,d.m+=g-y),l&&!d0(m)&&(m.t=l,m.m+=x-w,h=u)}return h}function s(u){u.x*=e,u.y=u.depth*n}return o.separation=function(u){return arguments.length?(t=u,o):t},o.size=function(u){return arguments.length?(r=!1,e=+u[0],n=+u[1],o):r?null:[e,n]},o.nodeSize=function(u){return arguments.length?(r=!0,e=+u[0],n=+u[1],o):r?[e,n]:null},o}var bw=23283064365386963e-26;function ei(t=Math.random()){let e=(0<=t&&t<1?t/bw:Math.abs(t))|0;return()=>(e=1664525*e+1013904223|0,bw*(e>>>0))}function te(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ys(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}var xs=Symbol("implicit");function ni(){var t=new Ie,e=[],n=[],r=xs;function o(i){let a=t.get(i);if(a===void 0){if(r!==xs)return r;t.set(i,a=e.push(i)-1)}return n[a%n.length]}return o.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new Ie;for(let a of i)t.has(a)||t.set(a,e.push(a)-1);return o},o.range=function(i){return arguments.length?(n=Array.from(i),o):n.slice()},o.unknown=function(i){return arguments.length?(r=i,o):r},o.copy=function(){return ni(e,n).unknown(r)},te.apply(o,arguments),o}function fo(){var t=ni().unknown(void 0),e=t.domain,n=t.range,r=0,o=1,i,a,f=!1,s=0,u=0,c=.5;delete t.unknown;function h(){var l=e().length,d=o<r,p=d?o:r,m=d?r:o;i=(m-p)/Math.max(1,l-s+u*2),f&&(i=Math.floor(i)),p+=(m-p-i*(l-s))*c,a=i*(1-s),f&&(p=Math.round(p),a=Math.round(a));var x=oe(l).map(function(y){return p+i*y});return n(d?x.reverse():x)}return t.domain=function(l){return arguments.length?(e(l),h()):e()},t.range=function(l){return arguments.length?([r,o]=l,r=+r,o=+o,h()):[r,o]},t.rangeRound=function(l){return[r,o]=l,r=+r,o=+o,f=!0,h()},t.bandwidth=function(){return a},t.step=function(){return i},t.round=function(l){return arguments.length?(f=!!l,h()):f},t.padding=function(l){return arguments.length?(s=Math.min(1,u=+l),h()):s},t.paddingInner=function(l){return arguments.length?(s=Math.min(1,l),h()):s},t.paddingOuter=function(l){return arguments.length?(u=+l,h()):u},t.align=function(l){return arguments.length?(c=Math.max(0,Math.min(1,l)),h()):c},t.copy=function(){return fo(e(),[r,o]).round(f).paddingInner(s).paddingOuter(u).align(c)},te.apply(h(),arguments)}function ww(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ww(e())},t}function m0(){return ww(fo.apply(null,arguments).paddingInner(1))}function g0(t){return function(){return t}}function pa(t){return+t}var vw=[0,1];function He(t){return t}function y0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:g0(isNaN(e)?NaN:.5)}function e9(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function n9(t,e,n){var r=t[0],o=t[1],i=e[0],a=e[1];return o<r?(r=y0(o,r),i=n(a,i)):(r=y0(r,o),i=n(i,a)),function(f){return i(r(f))}}function r9(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),i=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=y0(t[a],t[a+1]),i[a]=n(e[a],e[a+1]);return function(f){var s=cr(t,f,1,r)-1;return i[s](o[s](f))}}function Wn(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ri(){var t=vw,e=vw,n=Sn,r,o,i,a=He,f,s,u;function c(){var l=Math.min(t.length,e.length);return a!==He&&(a=e9(t[0],t[l-1])),f=l>2?r9:n9,s=u=null,h}function h(l){return l==null||isNaN(l=+l)?i:(s||(s=f(t.map(r),e,n)))(r(a(l)))}return h.invert=function(l){return a(o((u||(u=f(e,t.map(r),Pt)))(l)))},h.domain=function(l){return arguments.length?(t=Array.from(l,pa),c()):t.slice()},h.range=function(l){return arguments.length?(e=Array.from(l),c()):e.slice()},h.rangeRound=function(l){return e=Array.from(l),n=Wo,c()},h.clamp=function(l){return arguments.length?(a=l?!0:He,c()):a!==He},h.interpolate=function(l){return arguments.length?(n=l,c()):n},h.unknown=function(l){return arguments.length?(i=l,h):i},function(l,d){return r=l,o=d,c()}}function bs(){return ri()(He,He)}function x0(t,e,n,r){var o=Oi(t,e,n),i;switch(r=Yn(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=lm(o,a))&&(r.precision=i),Sc(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=hm(o,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=cm(o))&&(r.precision=i-(r.type==="%")*2);break}}return sn(r)}function vr(t){var e=t.domain;return t.ticks=function(n){var r=e();return ye(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var o=e();return x0(o[0],o[o.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),o=0,i=r.length-1,a=r[o],f=r[i],s,u,c=10;for(f<a&&(u=a,a=f,f=u,u=o,o=i,i=u);c-- >0;){if(u=hr(a,f,n),u===s)return r[o]=a,r[i]=f,e(r);if(u>0)a=Math.floor(a/u)*u,f=Math.ceil(f/u)*u;else if(u<0)a=Math.ceil(a*u)/u,f=Math.floor(f*u)/u;else break;s=u}return t},t}function oi(){var t=bs();return t.copy=function(){return Wn(t,oi())},te.apply(t,arguments),vr(t)}function ws(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,pa),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return ws(t).unknown(e)},t=arguments.length?Array.from(t,pa):[0,1],vr(n)}function vs(t,e){t=t.slice();var n=0,r=t.length-1,o=t[n],i=t[r],a;return i<o&&(a=n,n=r,r=a,a=o,o=i,i=a),t[n]=e.floor(o),t[r]=e.ceil(i),t}function _w(t){return Math.log(t)}function Mw(t){return Math.exp(t)}function o9(t){return-Math.log(-t)}function i9(t){return-Math.exp(-t)}function a9(t){return isFinite(t)?+("1e"+t):t<0?0:t}function f9(t){return t===10?a9:t===Math.E?Math.exp:e=>Math.pow(t,e)}function s9(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Sw(t){return(e,n)=>-t(-e,n)}function b0(t){let e=t(_w,Mw),n=e.domain,r=10,o,i;function a(){return o=s9(r),i=f9(r),n()[0]<0?(o=Sw(o),i=Sw(i),t(o9,i9)):t(_w,Mw),e}return e.base=function(f){return arguments.length?(r=+f,a()):r},e.domain=function(f){return arguments.length?(n(f),a()):n()},e.ticks=f=>{let s=n(),u=s[0],c=s[s.length-1],h=c<u;h&&([u,c]=[c,u]);let l=o(u),d=o(c),p,m,x=f==null?10:+f,y=[];if(!(r%1)&&d-l<x){if(l=Math.floor(l),d=Math.ceil(d),u>0){for(;l<=d;++l)for(p=1;p<r;++p)if(m=l<0?p/i(-l):p*i(l),!(m<u)){if(m>c)break;y.push(m)}}else for(;l<=d;++l)for(p=r-1;p>=1;--p)if(m=l>0?p/i(-l):p*i(l),!(m<u)){if(m>c)break;y.push(m)}y.length*2<x&&(y=ye(u,c,x))}else y=ye(l,d,Math.min(d-l,x)).map(i);return h?y.reverse():y},e.tickFormat=(f,s)=>{if(f==null&&(f=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=Yn(s)).precision==null&&(s.trim=!0),s=sn(s)),f===1/0)return s;let u=Math.max(1,r*f/e.ticks().length);return c=>{let h=c/i(Math.round(o(c)));return h*r<r-.5&&(h*=r),h<=u?s(c):""}},e.nice=()=>n(vs(n(),{floor:f=>i(Math.floor(o(f))),ceil:f=>i(Math.ceil(o(f)))})),e}function _s(){let t=b0(ri()).domain([1,10]);return t.copy=()=>Wn(t,_s()).base(t.base()),te.apply(t,arguments),t}function Tw(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function kw(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function w0(t){var e=1,n=t(Tw(e),kw(e));return n.constant=function(r){return arguments.length?t(Tw(e=+r),kw(e)):e},vr(n)}function Ms(){var t=w0(ri());return t.copy=function(){return Wn(t,Ms()).constant(t.constant())},te.apply(t,arguments)}function Aw(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function u9(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function c9(t){return t<0?-t*t:t*t}function v0(t){var e=t(He,He),n=1;function r(){return n===1?t(He,He):n===.5?t(u9,c9):t(Aw(n),Aw(1/n))}return e.exponent=function(o){return arguments.length?(n=+o,r()):n},vr(e)}function Ss(){var t=v0(ri());return t.copy=function(){return Wn(t,Ss()).exponent(t.exponent())},te.apply(t,arguments),t}function Ts(){var t=[],e=[],n=[],r;function o(){var a=0,f=Math.max(1,e.length);for(n=new Array(f-1);++a<f;)n[a-1]=kp(t,a/f);return i}function i(a){return a==null||isNaN(a=+a)?r:e[cr(n,a)]}return i.invertExtent=function(a){var f=e.indexOf(a);return f<0?[NaN,NaN]:[f>0?n[f-1]:t[0],f<n.length?n[f]:t[t.length-1]]},i.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let f of a)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(yt),o()},i.range=function(a){return arguments.length?(e=Array.from(a),o()):e.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return Ts().domain(t).range(e).unknown(r)},te.apply(i,arguments)}function ks(){var t=[.5],e=[0,1],n,r=1;function o(i){return i!=null&&i<=i?e[cr(t,i,0,r)]:n}return o.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),o):t.slice()},o.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),o):e.slice()},o.invertExtent=function(i){var a=e.indexOf(i);return[t[a-1],t[a]]},o.unknown=function(i){return arguments.length?(n=i,o):n},o.copy=function(){return ks().domain(t).range(e).unknown(n)},te.apply(o,arguments)}var _0=new Date,M0=new Date;function Rt(t,e,n,r){function o(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return o.floor=i=>(t(i=new Date(+i)),i),o.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),o.round=i=>{let a=o(i),f=o.ceil(i);return i-a<f-i?a:f},o.offset=(i,a)=>(e(i=new Date(+i),a==null?1:Math.floor(a)),i),o.range=(i,a,f)=>{let s=[];if(i=o.ceil(i),f=f==null?1:Math.floor(f),!(i<a)||!(f>0))return s;let u;do s.push(u=new Date(+i)),e(i,f),t(i);while(u<i&&i<a);return s},o.filter=i=>Rt(a=>{if(a>=a)for(;t(a),!i(a);)a.setTime(a-1)},(a,f)=>{if(a>=a)if(f<0)for(;++f<=0;)for(;e(a,-1),!i(a););else for(;--f>=0;)for(;e(a,1),!i(a););}),n&&(o.count=(i,a)=>(_0.setTime(+i),M0.setTime(+a),t(_0),t(M0),Math.floor(n(_0,M0))),o.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?o.filter(r?a=>r(a)%i===0:a=>o.count(0,a)%i===0):o)),o}var As=Rt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);As.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Rt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):As);var nj=As.range;var ce=Rt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*1e3)},(t,e)=>(e-t)/1e3,t=>t.getUTCSeconds()),Cw=ce.range;var _r=Rt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getMinutes()),l9=_r.range,Mr=Rt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getUTCMinutes()),h9=Mr.range;var Sr=Rt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3-t.getMinutes()*6e4)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getHours()),d9=Sr.range,Tr=Rt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getUTCHours()),p9=Tr.range;var cn=Rt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5,t=>t.getDate()-1),m9=cn.range,fi=Rt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>t.getUTCDate()-1),g9=fi.range,si=Rt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>Math.floor(t/864e5)),y9=si.range;function ui(t){return Rt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5)}var Ke=ui(0),so=ui(1),al=ui(2),fl=ui(3),Hn=ui(4),sl=ui(5),ul=ui(6),Ew=Ke.range,x9=so.range,b9=al.range,w9=fl.range,v9=Hn.range,_9=sl.range,M9=ul.range;function ci(t){return Rt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/6048e5)}var Qe=ci(0),uo=ci(1),cl=ci(2),ll=ci(3),jn=ci(4),hl=ci(5),dl=ci(6),Nw=Qe.range,S9=uo.range,T9=cl.range,k9=ll.range,A9=jn.range,C9=hl.range,$9=dl.range;var kr=Rt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),E9=kr.range,Ar=Rt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),N9=Ar.range;var Ae=Rt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ae.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Rt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});var I9=Ae.range,Ce=Rt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ce.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Rt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});var R9=Ce.range;function Rw(t,e,n,r,o,i){let a=[[ce,1,1e3],[ce,5,5*1e3],[ce,15,15*1e3],[ce,30,30*1e3],[i,1,6e4],[i,5,5*6e4],[i,15,15*6e4],[i,30,30*6e4],[o,1,36e5],[o,3,3*36e5],[o,6,6*36e5],[o,12,12*36e5],[r,1,864e5],[r,2,2*864e5],[n,1,6048e5],[e,1,2592e6],[e,3,3*2592e6],[t,1,31536e6]];function f(u,c,h){let l=c<u;l&&([u,c]=[c,u]);let d=h&&typeof h.range=="function"?h:s(u,c,h),p=d?d.range(u,+c+1):[];return l?p.reverse():p}function s(u,c,h){let l=Math.abs(c-u)/h,d=ur(([,,x])=>x).right(a,l);if(d===a.length)return t.every(Oi(u/31536e6,c/31536e6,h));if(d===0)return As.every(Math.max(Oi(u,c,h),1));let[p,m]=a[l/a[d-1][2]<a[d][2]/l?d-1:d];return p.every(m)}return[f,s]}var[S0,$s]=Rw(Ce,Ar,Qe,si,Tr,Mr),[T0,k0]=Rw(Ae,kr,Ke,cn,Sr,_r);function A0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function C0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Es(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function $0(t){var e=t.dateTime,n=t.date,r=t.time,o=t.periods,i=t.days,a=t.shortDays,f=t.months,s=t.shortMonths,u=Ns(o),c=Is(o),h=Ns(i),l=Is(i),d=Ns(a),p=Is(a),m=Ns(f),x=Is(f),y=Ns(s),g=Is(s),w={a:R,A:z,b:D,B:Y,c:null,d:Fw,e:Fw,f:rS,g:dS,G:mS,H:tS,I:eS,j:nS,L:Uw,m:oS,M:iS,p:q,q:W,Q:Bw,s:Xw,S:aS,u:fS,U:sS,V:uS,w:cS,W:lS,x:null,X:null,y:hS,Y:pS,Z:gS,"%":qw},b={a:X,A:at,b:st,B:lt,c:null,d:Yw,e:Yw,f:wS,g:ES,G:IS,H:yS,I:xS,j:bS,L:Gw,m:vS,M:_S,p:G,q:ft,Q:Bw,s:Xw,S:MS,u:SS,U:TS,V:kS,w:AS,W:CS,x:null,X:null,y:$S,Y:NS,Z:RS,"%":qw},_={a:A,A:T,b:$,B:I,c:E,d:Ow,e:Ow,f:Z9,g:Lw,G:Pw,H:zw,I:zw,j:G9,L:V9,m:W9,M:H9,p:S,q:U9,Q:Q9,s:J9,S:j9,u:F9,U:Y9,V:q9,w:z9,W:B9,x:C,X:N,y:Lw,Y:Pw,Z:X9,"%":K9};w.x=v(n,w),w.X=v(r,w),w.c=v(e,w),b.x=v(n,b),b.X=v(r,b),b.c=v(e,b);function v(L,j){return function(Z){var P=[],gt=-1,et=0,xt=L.length,vt,Ot,Nn;for(Z instanceof Date||(Z=new Date(+Z));++gt<xt;)L.charCodeAt(gt)===37&&(P.push(L.slice(et,gt)),(Ot=Dw[vt=L.charAt(++gt)])!=null?vt=L.charAt(++gt):Ot=vt==="e"?" ":"0",(Nn=j[vt])&&(vt=Nn(Z,Ot)),P.push(vt),et=gt+1);return P.push(L.slice(et,gt)),P.join("")}}function M(L,j){return function(Z){var P=Es(1900,void 0,1),gt=k(P,L,Z+="",0),et,xt;if(gt!=Z.length)return null;if("Q"in P)return new Date(P.Q);if("s"in P)return new Date(P.s*1e3+("L"in P?P.L:0));if(j&&!("Z"in P)&&(P.Z=0),"p"in P&&(P.H=P.H%12+P.p*12),P.m===void 0&&(P.m="q"in P?P.q:0),"V"in P){if(P.V<1||P.V>53)return null;"w"in P||(P.w=1),"Z"in P?(et=C0(Es(P.y,0,1)),xt=et.getUTCDay(),et=xt>4||xt===0?uo.ceil(et):uo(et),et=fi.offset(et,(P.V-1)*7),P.y=et.getUTCFullYear(),P.m=et.getUTCMonth(),P.d=et.getUTCDate()+(P.w+6)%7):(et=A0(Es(P.y,0,1)),xt=et.getDay(),et=xt>4||xt===0?so.ceil(et):so(et),et=cn.offset(et,(P.V-1)*7),P.y=et.getFullYear(),P.m=et.getMonth(),P.d=et.getDate()+(P.w+6)%7)}else("W"in P||"U"in P)&&("w"in P||(P.w="u"in P?P.u%7:"W"in P?1:0),xt="Z"in P?C0(Es(P.y,0,1)).getUTCDay():A0(Es(P.y,0,1)).getDay(),P.m=0,P.d="W"in P?(P.w+6)%7+P.W*7-(xt+5)%7:P.w+P.U*7-(xt+6)%7);return"Z"in P?(P.H+=P.Z/100|0,P.M+=P.Z%100,C0(P)):A0(P)}}function k(L,j,Z,P){for(var gt=0,et=j.length,xt=Z.length,vt,Ot;gt<et;){if(P>=xt)return-1;if(vt=j.charCodeAt(gt++),vt===37){if(vt=j.charAt(gt++),Ot=_[vt in Dw?j.charAt(gt++):vt],!Ot||(P=Ot(L,Z,P))<0)return-1}else if(vt!=Z.charCodeAt(P++))return-1}return P}function S(L,j,Z){var P=u.exec(j.slice(Z));return P?(L.p=c.get(P[0].toLowerCase()),Z+P[0].length):-1}function A(L,j,Z){var P=d.exec(j.slice(Z));return P?(L.w=p.get(P[0].toLowerCase()),Z+P[0].length):-1}function T(L,j,Z){var P=h.exec(j.slice(Z));return P?(L.w=l.get(P[0].toLowerCase()),Z+P[0].length):-1}function $(L,j,Z){var P=y.exec(j.slice(Z));return P?(L.m=g.get(P[0].toLowerCase()),Z+P[0].length):-1}function I(L,j,Z){var P=m.exec(j.slice(Z));return P?(L.m=x.get(P[0].toLowerCase()),Z+P[0].length):-1}function E(L,j,Z){return k(L,e,j,Z)}function C(L,j,Z){return k(L,n,j,Z)}function N(L,j,Z){return k(L,r,j,Z)}function R(L){return a[L.getDay()]}function z(L){return i[L.getDay()]}function D(L){return s[L.getMonth()]}function Y(L){return f[L.getMonth()]}function q(L){return o[+(L.getHours()>=12)]}function W(L){return 1+~~(L.getMonth()/3)}function X(L){return a[L.getUTCDay()]}function at(L){return i[L.getUTCDay()]}function st(L){return s[L.getUTCMonth()]}function lt(L){return f[L.getUTCMonth()]}function G(L){return o[+(L.getUTCHours()>=12)]}function ft(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var j=v(L+="",w);return j.toString=function(){return L},j},parse:function(L){var j=M(L+="",!1);return j.toString=function(){return L},j},utcFormat:function(L){var j=v(L+="",b);return j.toString=function(){return L},j},utcParse:function(L){var j=M(L+="",!0);return j.toString=function(){return L},j}}}var Dw={"-":"",_:" ",0:"0"},le=/^\s*\d+/,P9=/^%/,L9=/[\\^$*+?|[\]().{}]/g;function Mt(t,e,n){var r=t<0?"-":"",o=(r?-t:t)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(e)+o:o)}function O9(t){return t.replace(L9,"\\$&")}function Ns(t){return new RegExp("^(?:"+t.map(O9).join("|")+")","i")}function Is(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function z9(t,e,n){var r=le.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function F9(t,e,n){var r=le.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Y9(t,e,n){var r=le.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function q9(t,e,n){var r=le.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function B9(t,e,n){var r=le.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Pw(t,e,n){var r=le.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Lw(t,e,n){var r=le.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function X9(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function U9(t,e,n){var r=le.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function W9(t,e,n){var r=le.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ow(t,e,n){var r=le.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function G9(t,e,n){var r=le.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function zw(t,e,n){var r=le.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function H9(t,e,n){var r=le.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function j9(t,e,n){var r=le.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function V9(t,e,n){var r=le.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Z9(t,e,n){var r=le.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function K9(t,e,n){var r=P9.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Q9(t,e,n){var r=le.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function J9(t,e,n){var r=le.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Fw(t,e){return Mt(t.getDate(),e,2)}function tS(t,e){return Mt(t.getHours(),e,2)}function eS(t,e){return Mt(t.getHours()%12||12,e,2)}function nS(t,e){return Mt(1+cn.count(Ae(t),t),e,3)}function Uw(t,e){return Mt(t.getMilliseconds(),e,3)}function rS(t,e){return Uw(t,e)+"000"}function oS(t,e){return Mt(t.getMonth()+1,e,2)}function iS(t,e){return Mt(t.getMinutes(),e,2)}function aS(t,e){return Mt(t.getSeconds(),e,2)}function fS(t){var e=t.getDay();return e===0?7:e}function sS(t,e){return Mt(Ke.count(Ae(t)-1,t),e,2)}function Ww(t){var e=t.getDay();return e>=4||e===0?Hn(t):Hn.ceil(t)}function uS(t,e){return t=Ww(t),Mt(Hn.count(Ae(t),t)+(Ae(t).getDay()===4),e,2)}function cS(t){return t.getDay()}function lS(t,e){return Mt(so.count(Ae(t)-1,t),e,2)}function hS(t,e){return Mt(t.getFullYear()%100,e,2)}function dS(t,e){return t=Ww(t),Mt(t.getFullYear()%100,e,2)}function pS(t,e){return Mt(t.getFullYear()%1e4,e,4)}function mS(t,e){var n=t.getDay();return t=n>=4||n===0?Hn(t):Hn.ceil(t),Mt(t.getFullYear()%1e4,e,4)}function gS(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Mt(e/60|0,"0",2)+Mt(e%60,"0",2)}function Yw(t,e){return Mt(t.getUTCDate(),e,2)}function yS(t,e){return Mt(t.getUTCHours(),e,2)}function xS(t,e){return Mt(t.getUTCHours()%12||12,e,2)}function bS(t,e){return Mt(1+fi.count(Ce(t),t),e,3)}function Gw(t,e){return Mt(t.getUTCMilliseconds(),e,3)}function wS(t,e){return Gw(t,e)+"000"}function vS(t,e){return Mt(t.getUTCMonth()+1,e,2)}function _S(t,e){return Mt(t.getUTCMinutes(),e,2)}function MS(t,e){return Mt(t.getUTCSeconds(),e,2)}function SS(t){var e=t.getUTCDay();return e===0?7:e}function TS(t,e){return Mt(Qe.count(Ce(t)-1,t),e,2)}function Hw(t){var e=t.getUTCDay();return e>=4||e===0?jn(t):jn.ceil(t)}function kS(t,e){return t=Hw(t),Mt(jn.count(Ce(t),t)+(Ce(t).getUTCDay()===4),e,2)}function AS(t){return t.getUTCDay()}function CS(t,e){return Mt(uo.count(Ce(t)-1,t),e,2)}function $S(t,e){return Mt(t.getUTCFullYear()%100,e,2)}function ES(t,e){return t=Hw(t),Mt(t.getUTCFullYear()%100,e,2)}function NS(t,e){return Mt(t.getUTCFullYear()%1e4,e,4)}function IS(t,e){var n=t.getUTCDay();return t=n>=4||n===0?jn(t):jn.ceil(t),Mt(t.getUTCFullYear()%1e4,e,4)}function RS(){return"+0000"}function qw(){return"%"}function Bw(t){return+t}function Xw(t){return Math.floor(+t/1e3)}var ma,ga,jw,Vn,Vw;E0({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function E0(t){return ma=$0(t),ga=ma.format,jw=ma.parse,Vn=ma.utcFormat,Vw=ma.utcParse,ma}function DS(t){return new Date(t)}function PS(t){return t instanceof Date?+t:+new Date(+t)}function pl(t,e,n,r,o,i,a,f,s,u){var c=bs(),h=c.invert,l=c.domain,d=u(".%L"),p=u(":%S"),m=u("%I:%M"),x=u("%I %p"),y=u("%a %d"),g=u("%b %d"),w=u("%B"),b=u("%Y");function _(v){return(s(v)<v?d:f(v)<v?p:a(v)<v?m:i(v)<v?x:r(v)<v?o(v)<v?y:g:n(v)<v?w:b)(v)}return c.invert=function(v){return new Date(h(v))},c.domain=function(v){return arguments.length?l(Array.from(v,PS)):l().map(DS)},c.ticks=function(v){var M=l();return t(M[0],M[M.length-1],v??10)},c.tickFormat=function(v,M){return M==null?_:u(M)},c.nice=function(v){var M=l();return(!v||typeof v.range!="function")&&(v=e(M[0],M[M.length-1],v??10)),v?l(vs(M,v)):c},c.copy=function(){return Wn(c,pl(t,e,n,r,o,i,a,f,s,u))},c}function ml(){return te.apply(pl(T0,k0,Ae,kr,Ke,cn,Sr,_r,ce,ga).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gl(){return te.apply(pl(S0,$s,Ce,Ar,Qe,fi,Tr,Mr,ce,Vn).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Rs(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function yl(){var t=0,e=.5,n=1,r=1,o,i,a,f,s,u=He,c,h=!1,l;function d(m){return isNaN(m=+m)?l:(m=.5+((m=+c(m))-i)*(r*m<r*i?f:s),u(h?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e,n]=m,o=c(t=+t),i=c(e=+e),a=c(n=+n),f=o===i?0:.5/(i-o),s=i===a?0:.5/(a-i),r=i<o?-1:1,d):[t,e,n]},d.clamp=function(m){return arguments.length?(h=!!m,d):h},d.interpolator=function(m){return arguments.length?(u=m,d):u};function p(m){return function(x){var y,g,w;return arguments.length?([y,g,w]=x,u=On(m,[y,g,w]),d):[u(0),u(.5),u(1)]}}return d.range=p(Sn),d.rangeRound=p(Wo),d.unknown=function(m){return arguments.length?(l=m,d):l},function(m){return c=m,o=m(t),i=m(e),a=m(n),f=o===i?0:.5/(i-o),s=i===a?0:.5/(a-i),r=i<o?-1:1,d}}function Ds(){var t=vr(yl()(He));return t.copy=function(){return Rs(t,Ds())},ys.apply(t,arguments)}function xl(){var t=b0(yl()).domain([.1,1,10]);return t.copy=function(){return Rs(t,xl()).base(t.base())},ys.apply(t,arguments)}function bl(){var t=w0(yl());return t.copy=function(){return Rs(t,bl()).constant(t.constant())},ys.apply(t,arguments)}function wl(){var t=v0(yl());return t.copy=function(){return Rs(t,wl()).exponent(t.exponent())},ys.apply(t,arguments)}function F(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}var N0=F("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var I0=F("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");var R0=F("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");var D0=F("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0");var P0=F("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");var L0=F("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");var O0=F("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");var z0=F("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");var F0=F("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");var Y0=F("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var q0=F("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var J=t=>Up(t[t.length-1]);var vl=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(F),_l=J(vl);var Ml=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(F),Sl=J(Ml);var Tl=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(F),kl=J(Tl);var Al=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(F),Cl=J(Al);var Ps=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(F),ya=J(Ps);var $l=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(F),El=J($l);var Ls=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(F),xa=J(Ls);var Nl=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(F),Il=J(Nl);var Rl=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(F),Dl=J(Rl);var Pl=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(F),Ll=J(Pl);var Ol=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(F),zl=J(Ol);var Fl=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(F),Yl=J(Fl);var ql=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(F),Bl=J(ql);var Xl=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(F),Ul=J(Xl);var Wl=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(F),Gl=J(Wl);var Hl=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(F),jl=J(Hl);var Vl=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(F),Zl=J(Vl);var Kl=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(F),Ql=J(Kl);var Jl=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(F),th=J(Jl);var eh=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(F),nh=J(eh);var rh=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(F),oh=J(rh);var ih=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(F),ah=J(ih);var fh=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(F),sh=J(fh);var uh=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(F),ch=J(uh);var lh=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(F),hh=J(lh);var dh=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(F),ph=J(dh);var mh=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(F),gh=J(mh);function yh(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}var xh=Gi(Oe(300,.5,0),Oe(-240,.5,1));var wh=Gi(Oe(-100,.75,.35),Oe(80,1.5,.8)),vh=Gi(Oe(260,.75,.35),Oe(80,1.5,.8)),bh=Oe();function _h(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return bh.h=360*t-100,bh.s=1.5-1.5*e,bh.l=.8-.9*e,bh+""}var Mh=Le(),LS=Math.PI/3,OS=Math.PI*2/3;function Sh(t){var e;return t=(.5-t)*Math.PI,Mh.r=255*(e=Math.sin(t))*e,Mh.g=255*(e=Math.sin(t+LS))*e,Mh.b=255*(e=Math.sin(t+OS))*e,Mh+""}function Th(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function kh(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var Ah=kh(F("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Ch=kh(F("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),$h=kh(F("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Eh=kh(F("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function ee(t){return function(){return t}}var B0=Math.cos;var ba=Math.min,Os=Math.sin,St=Math.sqrt,X0=1e-12,li=Math.PI,AQ=li/2,wa=2*li;function Nh(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{let r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new no(e)}var NQ=Array.prototype.slice;function Ih(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Zw(t){this._context=t}Zw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Cr(t){return new Zw(t)}function Rh(t){return t[0]}function Dh(t){return t[1]}function zs(t,e){var n=ee(!0),r=null,o=Cr,i=null,a=Nh(f);t=typeof t=="function"?t:t===void 0?Rh:ee(t),e=typeof e=="function"?e:e===void 0?Dh:ee(e);function f(s){var u,c=(s=Ih(s)).length,h,l=!1,d;for(r==null&&(i=o(d=a())),u=0;u<=c;++u)!(u<c&&n(h=s[u],u,s))===l&&((l=!l)?i.lineStart():i.lineEnd()),l&&i.point(+t(h,u,s),+e(h,u,s));if(d)return i=null,d+""||null}return f.x=function(s){return arguments.length?(t=typeof s=="function"?s:ee(+s),f):t},f.y=function(s){return arguments.length?(e=typeof s=="function"?s:ee(+s),f):e},f.defined=function(s){return arguments.length?(n=typeof s=="function"?s:ee(!!s),f):n},f.curve=function(s){return arguments.length?(o=s,r!=null&&(i=o(r)),f):o},f.context=function(s){return arguments.length?(s==null?r=i=null:i=o(r=s),f):r},f}function va(t,e,n){var r=null,o=ee(!0),i=null,a=Cr,f=null,s=Nh(u);t=typeof t=="function"?t:t===void 0?Rh:ee(+t),e=typeof e=="function"?e:e===void 0?ee(0):ee(+e),n=typeof n=="function"?n:n===void 0?Dh:ee(+n);function u(h){var l,d,p,m=(h=Ih(h)).length,x,y=!1,g,w=new Array(m),b=new Array(m);for(i==null&&(f=a(g=s())),l=0;l<=m;++l){if(!(l<m&&o(x=h[l],l,h))===y)if(y=!y)d=l,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),p=l-1;p>=d;--p)f.point(w[p],b[p]);f.lineEnd(),f.areaEnd()}y&&(w[l]=+t(x,l,h),b[l]=+e(x,l,h),f.point(r?+r(x,l,h):w[l],n?+n(x,l,h):b[l]))}if(g)return f=null,g+""||null}function c(){return zs().defined(o).curve(a).context(i)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:ee(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:ee(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:ee(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:ee(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:ee(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:ee(+h),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(h){return arguments.length?(o=typeof h=="function"?h:ee(!!h),u):o},u.curve=function(h){return arguments.length?(a=h,i!=null&&(f=a(i)),u):a},u.context=function(h){return arguments.length?(h==null?i=f=null:f=a(i=h),u):i},u}var Ph=class{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}};function U0(t){return new Ph(t,!0)}function W0(t){return new Ph(t,!1)}var zS=St(3),Fs={draw(t,e){let n=St(e+ba(e/28,.75))*.59436,r=n/2,o=r*zS;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-o,-r),t.lineTo(o,r),t.moveTo(-o,r),t.lineTo(o,-r)}};var $r={draw(t,e){let n=St(e/li);t.moveTo(n,0),t.arc(0,0,n,0,wa)}};var Ys={draw(t,e){let n=St(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};var Kw=St(1/3),FS=Kw*2,qs={draw(t,e){let n=St(e/FS),r=n*Kw;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}};var Bs={draw(t,e){let n=St(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}};var Xs={draw(t,e){let n=St(e-ba(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}};var Us={draw(t,e){let n=St(e),r=-n/2;t.rect(r,r,n,n)}};var Ws={draw(t,e){let n=St(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}};var YS=.8908130915292852,Qw=Os(li/10)/Os(7*li/10),qS=Os(wa/10)*Qw,BS=-B0(wa/10)*Qw,Gs={draw(t,e){let n=St(e*YS),r=qS*n,o=BS*n;t.moveTo(0,-n),t.lineTo(r,o);for(let i=1;i<5;++i){let a=wa*i/5,f=B0(a),s=Os(a);t.lineTo(s*n,-f*n),t.lineTo(f*r-s*o,s*r+f*o)}t.closePath()}};var G0=St(3),Hs={draw(t,e){let n=-St(e/(G0*3));t.moveTo(0,n*2),t.lineTo(-G0*n,-n),t.lineTo(G0*n,-n),t.closePath()}};var XS=St(3),js={draw(t,e){let n=St(e)*.6824,r=n/2,o=n*XS/2;t.moveTo(0,-n),t.lineTo(o,r),t.lineTo(-o,r),t.closePath()}};var ln=-.5,hn=St(3)/2,H0=1/St(12),US=(H0/2+1)*3,Vs={draw(t,e){let n=St(e/US),r=n/2,o=n*H0,i=r,a=n*H0+n,f=-i,s=a;t.moveTo(r,o),t.lineTo(i,a),t.lineTo(f,s),t.lineTo(ln*r-hn*o,hn*r+ln*o),t.lineTo(ln*i-hn*a,hn*i+ln*a),t.lineTo(ln*f-hn*s,hn*f+ln*s),t.lineTo(ln*r+hn*o,ln*o-hn*r),t.lineTo(ln*i+hn*a,ln*a-hn*i),t.lineTo(ln*f+hn*s,ln*s-hn*f),t.closePath()}};var _a={draw(t,e){let n=St(e-ba(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}};var Lh=[$r,Ys,qs,Us,Gs,Hs,Vs],j0=[$r,Xs,_a,js,Fs,Ws,Bs];function dn(){}function Ma(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Zs(t){this._context=t}Zs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ma(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ma(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function V0(t){return new Zs(t)}function Jw(t){this._context=t}Jw.prototype={areaStart:dn,areaEnd:dn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ma(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Z0(t){return new Jw(t)}function tv(t){this._context=t}tv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ma(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function K0(t){return new tv(t)}function ev(t,e){this._basis=new Zs(t),this._beta=e}ev.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],o=e[0],i=t[n]-r,a=e[n]-o,f=-1,s;++f<=n;)s=f/n,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+s*i),this._beta*e[f]+(1-this._beta)*(o+s*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Q0=function t(e){function n(r){return e===1?new Zs(r):new ev(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function Sa(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Oh(t,e){this._context=t,this._k=(1-e)/6}Oh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Sa(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Sa(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var J0=function t(e){function n(r){return new Oh(r,e)}return n.tension=function(r){return t(+r)},n}(0);function zh(t,e){this._context=t,this._k=(1-e)/6}zh.prototype={areaStart:dn,areaEnd:dn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Sa(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var t1=function t(e){function n(r){return new zh(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Fh(t,e){this._context=t,this._k=(1-e)/6}Fh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Sa(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var e1=function t(e){function n(r){return new Fh(r,e)}return n.tension=function(r){return t(+r)},n}(0);function Ks(t,e,n){var r=t._x1,o=t._y1,i=t._x2,a=t._y2;if(t._l01_a>X0){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,s=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/s,o=(o*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/s}if(t._l23_a>X0){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);i=(i*u+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*u+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,o,i,a,t._x2,t._y2)}function nv(t,e){this._context=t,this._alpha=e}nv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Ks(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var n1=function t(e){function n(r){return e?new nv(r,e):new Oh(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function rv(t,e){this._context=t,this._alpha=e}rv.prototype={areaStart:dn,areaEnd:dn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ks(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var r1=function t(e){function n(r){return e?new rv(r,e):new zh(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function ov(t,e){this._context=t,this._alpha=e}ov.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ks(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var o1=function t(e){function n(r){return e?new ov(r,e):new Fh(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function iv(t){this._context=t}iv.prototype={areaStart:dn,areaEnd:dn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function i1(t){return new iv(t)}function av(t){return t<0?-1:1}function fv(t,e,n){var r=t._x1-t._x0,o=e-t._x1,i=(t._y1-t._y0)/(r||o<0&&-0),a=(n-t._y1)/(o||r<0&&-0),f=(i*o+a*r)/(r+o);return(av(i)+av(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(f))||0}function sv(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function a1(t,e,n){var r=t._x0,o=t._y0,i=t._x1,a=t._y1,f=(i-r)/3;t._context.bezierCurveTo(r+f,o+f*e,i-f,a-f*n,i,a)}function Yh(t){this._context=t}Yh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:a1(this,this._t0,sv(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,a1(this,sv(this,n=fv(this,t,e)),n);break;default:a1(this,this._t0,n=fv(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function uv(t){this._context=new cv(t)}(uv.prototype=Object.create(Yh.prototype)).point=function(t,e){Yh.prototype.point.call(this,e,t)};function cv(t){this._context=t}cv.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,o,i){this._context.bezierCurveTo(e,t,r,n,i,o)}};function f1(t){return new Yh(t)}function s1(t){return new uv(t)}function hv(t){this._context=t}hv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=lv(t),o=lv(e),i=0,a=1;a<n;++i,++a)this._context.bezierCurveTo(r[0][i],o[0][i],r[1][i],o[1][i],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function lv(t){var e,n=t.length-1,r,o=new Array(n),i=new Array(n),a=new Array(n);for(o[0]=0,i[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)o[e]=1,i[e]=4,a[e]=4*t[e]+2*t[e+1];for(o[n-1]=2,i[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=o[e]/i[e-1],i[e]-=r,a[e]-=r*a[e-1];for(o[n-1]=a[n-1]/i[n-1],e=n-2;e>=0;--e)o[e]=(a[e]-o[e+1])/i[e];for(i[n-1]=(t[n]+o[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-o[e+1];return[o,i]}function u1(t){return new hv(t)}function qh(t,e){this._context=t,this._t=e}qh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function c1(t){return new qh(t,.5)}function l1(t){return new qh(t,0)}function h1(t){return new qh(t,1)}function co(t,e,n){this.k=t,this.x=e,this.y=n}co.prototype={constructor:co,scale:function(t){return t===1?this:new co(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new co(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var d1=new co(1,0,0);p1.prototype=co.prototype;function p1(t){for(;!t.__zoom;)if(!(t=t.parentNode))return d1;return t.__zoom}function Yt(t){return t!=null&&!Number.isNaN(t)}function he(t,e){return+Yt(e)-+Yt(t)||yt(t,e)}function hi(t,e){return+Yt(e)-+Yt(t)||Ne(t,e)}function Qs(t){return t!=null&&`${t}`!=""}function Ta(t){return isFinite(t)?t:NaN}function Ue(t){return t>0&&isFinite(t)?t:NaN}function lo(t){return t<0&&isFinite(t)?t:NaN}function Bh(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;let n=t.getUTCHours(),r=t.getUTCMinutes(),o=t.getUTCSeconds(),i=t.getUTCMilliseconds();return`${WS(t.getUTCFullYear(),4)}-${Er(t.getUTCMonth()+1,2)}-${Er(t.getUTCDate(),2)}${n||r||o||i?`T${Er(n,2)}:${Er(r,2)}${o||i?`:${Er(o,2)}${i?`.${Er(i,3)}`:""}`:""}Z`:""}`}function WS(t){return t<0?`-${Er(-t,6)}`:t>9999?`+${Er(t,6)}`:Er(t,4)}function Er(t,e){return`${t}`.padStart(e,"0")}var GS=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function Js(t,e){return GS.test(t+="")?new Date(t):typeof e=="function"?e(t):e}function Nr(t){if(t==null)return;let e=t[0],n=t[t.length-1];return Ne(e,n)}var Aa=1e3,po=Aa*60,mo=po*60,Kn=mo*24,Zn=Kn*7,di=Kn*30,ho=Kn*365,m1=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Aa],["5 seconds",5*Aa],["15 seconds",15*Aa],["30 seconds",30*Aa],["minute",po],["5 minutes",5*po],["15 minutes",15*po],["30 minutes",30*po],["hour",mo],["3 hours",3*mo],["6 hours",6*mo],["12 hours",12*mo],["day",Kn],["2 days",2*Kn],["week",Zn],["2 weeks",2*Zn],["month",di],["3 months",3*di],["6 months",6*di],["year",ho],["2 years",2*ho],["5 years",5*ho],["10 years",10*ho],["20 years",20*ho],["50 years",50*ho],["100 years",100*ho]],g1=new Map([["second",Aa],["minute",po],["hour",mo],["day",Kn],["monday",Zn],["tuesday",Zn],["wednesday",Zn],["thursday",Zn],["friday",Zn],["saturday",Zn],["sunday",Zn],["week",Zn],["month",di],["year",ho]]),pv=new Map([["second",ce],["minute",_r],["hour",Sr],["day",cn],["monday",so],["tuesday",al],["wednesday",fl],["thursday",Hn],["friday",sl],["saturday",ul],["sunday",Ke],["week",Ke],["month",kr],["year",Ae]]),y1=new Map([["second",ce],["minute",Mr],["hour",Tr],["day",si],["monday",uo],["tuesday",cl],["wednesday",ll],["thursday",jn],["friday",hl],["saturday",dl],["sunday",Qe],["week",Qe],["month",Ar],["year",Ce]]),Ca=Symbol("intervalDuration"),Uh=Symbol("intervalType");for(let[t,e]of pv)e[Ca]=g1.get(t),e[Uh]="time";for(let[t,e]of y1)e[Ca]=g1.get(t),e[Uh]="utc";var tu=[["year",Ce,"utc"],["month",Ar,"utc"],["day",si,"utc",6*di],["hour",Tr,"utc",3*Kn],["minute",Mr,"utc",6*mo],["second",ce,"utc",30*po]],Xh=[["year",Ae,"time"],["month",kr,"time"],["day",cn,"time",6*di],["hour",Sr,"time",3*Kn],["minute",_r,"time",6*mo],["second",ce,"time",30*po]],HS=[tu[0],Xh[0],tu[1],Xh[1],tu[2],Xh[2],...tu.slice(3)];function Wh(t){let e=`${t}`.toLowerCase();e.endsWith("s")&&(e=e.slice(0,-1));let n=1,r=/^(?:(\d+)\s+)/.exec(e);switch(r&&(e=e.slice(r[0].length),n=+r[1]),e){case"quarter":e="month",n*=3;break;case"half":e="month",n*=6;break}let o=y1.get(e);if(!o)throw new Error(`unknown interval: ${t}`);if(n>1&&!o.every)throw new Error(`non-periodic interval: ${e}`);return[e,n]}function Gh(t){return mv(Wh(t),"time")}function $a(t){return mv(Wh(t),"utc")}function mv([t,e],n){let r=(n==="time"?pv:y1).get(t);return e>1&&(r=r.every(e),r[Ca]=g1.get(t)*e,r[Uh]=n),r}function x1(t,e){if(!(e>1))return;let n=t[Ca];if(!m1.some(([,o])=>o===n)||n%Kn===0&&Kn<n&&n<di)return;let[r]=m1[ur(([,o])=>Math.log(o)).center(m1,Math.log(n*e))];return(t[Uh]==="time"?Gh:$a)(r)}function dv(t,e,n){let r=e==="time"?ga:Vn;if(n==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");let o=jS(n);switch(t){case"millisecond":return ka(r(".%L"),r(":%M:%S"),o);case"second":return ka(r(":%S"),r("%-I:%M"),o);case"minute":return ka(r("%-I:%M"),r("%p"),o);case"hour":return ka(r("%-I %p"),r("%b %-d"),o);case"day":return ka(r("%-d"),r("%b"),o);case"month":return ka(r("%b"),r("%Y"),o);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function jS(t){return t==="left"||t==="right"?(e,n)=>`
${e}
${n}`:t==="top"?(e,n)=>`${n}
${e}`:(e,n)=>`${e}
${n}`}function VS(t){return t==="time"?Xh:t==="utc"?tu:HS}function gv(t,e,n){let r=At(Uu(e,(o,i)=>Math.abs(i-o)));if(r<1e3)return dv("millisecond","utc",n);for(let[o,i,a,f]of VS(t)){if(r>f||o==="hour"&&!r)break;if(e.every(s=>i.floor(s)>=s))return dv(o,a,n)}}function ka(t,e,n){return(r,o,i)=>{let a=t(r,o),f=e(r,o),s=o-Nr(i);return o!==s&&i[s]!==void 0&&f===e(i[s],s)?a:n(a,f)}}var eu=Object.getPrototypeOf(Uint8Array),ZS=Object.prototype.toString;function je(t){return t instanceof Array||t instanceof eu}function bv(t){return t instanceof eu&&!KS(t)}function wv(t){return t?.prototype instanceof eu&&!QS(t)}function KS(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function QS(t){return t===BigInt64Array||t===BigUint64Array}var w1=Symbol("reindex");function tt(t,e,n){let r=typeof e;return r==="string"?Dv(t)?v1(t.getChild(e),n):yv(t,_1(e),n):r==="function"?yv(t,e,n):r==="number"||e instanceof Date||r==="boolean"?mt(t,Wt(e),n):typeof e?.transform=="function"?b1(e.transform(t),n):JS(b1(e,n),t?.[w1])}function JS(t,e){return t!=null&&e?ru(t,e):t}function yv(t,e,n){return mt(t,wv(n)?(r,o)=>M1(e(r,o)):e,n)}function b1(t,e){return e===void 0?pn(t):Pv(t)?v1(t,e):t instanceof e?t:e.from(t,wv(e)&&!bv(t)?M1:void 0)}function v1(t,e){return t==null?t:(e===void 0||e===Array)&&nT(t.type)?S1(xv(t)):b1(xv(t),e)}function xv(t){return t.nullCount?t.toJSON():t.toArray()}var go=[null],_1=t=>e=>{let n=e[t];return n===void 0&&e.type==="Feature"?e.properties?.[t]:n},Ct={transform:We},B={transform:t=>t};var nu=()=>1,vv=()=>!0,Ut=t=>t==null?t:`${t}`,wt=t=>t==null?t:+t;var pi=t=>t?t[0]:void 0,yo=t=>t?t[1]:void 0,_v=t=>t?t[2]:void 0,Wt=t=>()=>t;function Ea(t){let e=+`${t}`.slice(1)/100;return(n,r)=>Re(n,e,r)}function ne(t){return bv(t)?t:mt(t,M1,Float64Array)}function M1(t){return t==null?NaN:Number(t)}function S1(t){return mt(t,T1)}function T1(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?Js(t):t==null||isNaN(t=Number(t))?void 0:new Date(t)}function Bt(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:vo(t)?[void 0,t]:[t,void 0]}function kt(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function k1(t,e,n){if(t!=null)return ae(t,e,n)}function ae(t,e,n){let r=`${t}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${e}: ${t}`);return r}function Ir(t){return Dv(t)?t:pn(t)}function pn(t){if(t==null||je(t))return t;if(Pv(t))return v1(t);if(Mv(t))switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;default:return[t]}return Array.from(t)}function Mv(t){switch(t?.type){case"FeatureCollection":case"GeometryCollection":case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return!0;default:return!1}}function mt(t,e,n=Array){return t==null?t:t instanceof n?t.map(e):n.from(t,e)}function xo(t,e=Array){return t instanceof e?t.slice():e.from(t)}function A1({x:t,x1:e,x2:n}){return t!==void 0||e!==void 0||n!==void 0}function C1({y:t,y1:e,y2:n}){return t!==void 0||e!==void 0||n!==void 0}function Rr(t){return A1(t)||C1(t)||t.interval!==void 0}function re(t){return t?.toString===ZS}function Qn(t){return re(t)&&(t.type!==void 0||t.domain!==void 0)}function Je(t){return re(t)&&typeof t.transform!="function"}function Jn(t){return Je(t)&&t.value===void 0&&t.channel===void 0}function $1(t,e,n,r=B){return e===void 0&&n===void 0?(e=0,n=t===void 0?r:t):e===void 0?e=t===void 0?0:t:n===void 0&&(n=t===void 0?0:t),[e,n]}function Vt(t,e){return t===void 0&&e===void 0?[pi,yo]:[t,e]}function $e({z:t,fill:e,stroke:n}={}){return t===void 0&&([t]=Bt(e)),t===void 0&&([t]=Bt(n)),t}function bo(t){return je(t)?t.length:t?.numRows}function We(t){let e=bo(t),n=new Uint32Array(e);for(let r=0;r<e;++r)n[r]=r;return n}function ru(t,e){return je(t)?mt(e,n=>t[n],t.constructor):mt(e,n=>t.at(n))}function Na(t){return t.length===1?(e,n)=>t(ru(n,e)):t}function Dr(t,e,n){return t.subarray?t.subarray(e,n):t.slice(e,n)}function mn(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Hh(t,e){if(e[t]!==void 0)return e[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y";break}return e[t]}function ve(t){let e;return[{transform:()=>e,label:Me(t)},n=>e=n]}function _e(t){return t==null?[t]:ve(t)}function Me(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function Ia(t,e){return{transform(n){let r=t.transform(n),o=e.transform(n);return Xt(r)||Xt(o)?mt(r,(i,a)=>new Date((+r[a]+ +o[a])/2)):mt(r,(i,a)=>(+r[a]+ +o[a])/2,Float64Array)},label:t.label}}function mi(t,e){let n=E1(e?.interval,e?.type);return n?mt(t,n):t}function E1(t,e){let n=Ra(t,e);return n&&(r=>Yt(r)?n.floor(r):r)}function Ra(t,e){if(t!=null){if(typeof t=="number")return Sv(t);if(typeof t=="string")return(e==="time"?Gh:$a)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function Sv(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);let e=Math.abs(t);return t<0?{floor:n=>Math.floor(n*e)/e,offset:(n,r=1)=>(n*e+Math.floor(r))/e,range:(n,r)=>oe(Math.ceil(n*e),r*e).map(o=>o/e)}:{floor:n=>Math.floor(n/e)*e,offset:(n,r=1)=>n+e*Math.floor(r),range:(n,r)=>oe(Math.ceil(n/e),r/e).map(o=>o*e)}}function tr(t,e){if(t=Ra(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function Tv(t,e){if(t=tr(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function kv(t){return wo(t)&&typeof t?.floor=="function"&&t.floor()instanceof Date}function wo(t){return typeof t?.range=="function"}function gn(t){return t===void 0||Je(t)?t:{value:t}}function Av(t){return t==null?null:{transform:e=>tt(e,t,Float64Array),label:Me(t)}}function Cv(t){if(!Ge(t))return!1;for(let e of t)if(e!=null)return typeof e=="object"&&"0"in e&&"1"in e}function Ge(t){return t&&typeof t[Symbol.iterator]=="function"}function jh(t){for(let e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function qt(t){for(let e of t){if(e==null)continue;let n=typeof e;return n==="string"||n==="boolean"}}function Xt(t){for(let e of t)if(e!=null)return e instanceof Date}function $v(t){for(let e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&Js(e)}function Ev(t){for(let e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function Pr(t){for(let e of t)if(e!=null)return typeof e=="number"}function Vh(t,e){let n;for(let r of t)if(r!=null){if(!e(r))return!1;n=!0}return n}var tT=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function vo(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||tT.has(t))}function Nv(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function Tt(t){return t==null||Lr(t)}function Lr(t){return/^\s*none\s*$/i.test(t)}function Iv(t){return/^\s*round\s*$/i.test(t)}function Zh(t,e){return k1(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function er(t="middle"){return Zh(t,"frameAnchor")}function Rv(t={},...e){let n=t;for(let r of e)for(let o in r)if(n[o]===void 0){let i=r[o];n===t?n={...n,[o]:i}:n[o]=i}return n}function eT(t){console.warn("named iterables are deprecated; please use an object instead");let e=new Set;return Object.fromEntries(Array.from(t,n=>{let{name:r}=n;if(r==null)throw new Error("missing name");let o=`${r}`;if(o==="__proto__")throw new Error(`illegal name: ${o}`);if(e.has(o))throw new Error(`duplicate name: ${o}`);return e.add(o),[r,n]}))}function ou(t){return Ge(t)?eT(t):t}function Kh(t){return t===!0?t="frame":t===!1?t=null:!Mv(t)&&t!=null&&(t=ae(t,"clip",["frame","sphere"]),t==="sphere"&&(t={type:"Sphere"})),t}function Dv(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function Pv(t){return t&&typeof t.toArray=="function"&&t.type}function nT(t){return t&&(t.typeId===8||t.typeId===10)&&t.unit===1}var yn=Symbol("position"),tn=Symbol("color"),gi=Symbol("radius"),yi=Symbol("length"),xi=Symbol("opacity"),Da=Symbol("symbol"),Lv=Symbol("projection"),$t=new Map([["x",yn],["y",yn],["fx",yn],["fy",yn],["r",gi],["color",tn],["opacity",xi],["symbol",Da],["length",yi],["projection",Lv]]);function Ov(t){return t===yn||t===Lv}function zv(t){return t===yn||t===gi||t===yi||t===xi}var N1=Math.sqrt(3),I1=2/N1,rT={draw(t,e){let n=Math.sqrt(e/Math.PI),r=n*I1,o=r/2;t.moveTo(0,r),t.lineTo(n,o),t.lineTo(n,-o),t.lineTo(0,-r),t.lineTo(-n,-o),t.lineTo(-n,o),t.closePath()}},R1=new Map([["asterisk",Fs],["circle",$r],["cross",Ys],["diamond",qs],["diamond2",Bs],["hexagon",rT],["plus",Xs],["square",Us],["square2",Ws],["star",Gs],["times",_a],["triangle",Hs],["triangle2",js],["wye",Vs]]);function D1(t){return t&&typeof t.draw=="function"}function Fv(t){return D1(t)?!0:typeof t!="string"?!1:R1.has(t.toLowerCase())}function Pa(t){if(t==null||D1(t))return t;let e=R1.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function Yv(t){if(t==null||D1(t))return[void 0,t];if(typeof t=="string"){let e=R1.get(`${t}`.toLowerCase());if(e)return[void 0,e]}return[t,void 0]}function fe({filter:t,sort:e,reverse:n,transform:r,initializer:o,...i}={},a){if(r===void 0&&(t!=null&&(r=O1(t)),e!=null&&!Jn(e)&&(r=P1(r,Y1(e))),n&&(r=P1(r,z1))),a!=null&&o!=null)throw new Error("transforms cannot be applied after initializers");return{...i,...(e===null||Jn(e))&&{sort:e},transform:P1(r,a)}}function It({filter:t,sort:e,reverse:n,initializer:r,...o}={},i){return r===void 0&&(t!=null&&(r=O1(t)),e!=null&&!Jn(e)&&(r=L1(r,Y1(e))),n&&(r=L1(r,z1))),{...o,...(e===null||Jn(e))&&{sort:e},initializer:L1(r,i)}}function P1(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,o){return{data:n,facets:r}=t.call(this,n,r,o),e.call(this,Ir(n),r,o)}}function L1(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,o,...i){let a,f,s,u,c,h;return{data:f=n,facets:s=r,channels:a}=t.call(this,n,r,o,...i),{data:c=f,facets:h=s,channels:u}=e.call(this,f,s,{...o,...a},...i),{data:c,facets:h,channels:{...a,...u}}}}function Qh(t,e){return(t.initializer!=null?It:fe)(t,e)}function oT(t,e){return Qh(e,O1(t))}function O1(t){return(e,n)=>{let r=tt(e,t);return{data:e,facets:n.map(o=>o.filter(i=>r[i]))}}}function iT({sort:t,...e}={}){return{...Qh(e,z1),sort:Jn(t)?t:null}}function z1(t,e){return{data:t,facets:e.map(n=>n.slice().reverse())}}function aT({seed:t,sort:e,...n}={}){return{...Qh(n,qv(t==null?Math.random:ei(t))),sort:Jn(e)?e:null}}function F1(t,{sort:e,...n}={}){return{...(Je(t)&&t.channel!==void 0?It:Qh)(n,Y1(t)),sort:Jn(e)?e:null}}function Y1(t){return(typeof t=="function"&&t.length!==1?fT:qv)(t)}function fT(t){return(e,n)=>{let r=je(e)?(o,i)=>t(e[o],e[i]):(o,i)=>t(e.get(o),e.get(i));return{data:e,facets:n.map(o=>o.slice().sort(r))}}}function qv(t){let e,n;({channel:e,value:t,order:n}={...gn(t)});let r=e?.startsWith("-");if(r&&(e=e.slice(1)),n===void 0&&(n=r?hi:he),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=he;break;case"descending":n=hi;break;default:throw new Error(`invalid order: ${n}`)}return(o,i,a)=>{let f;if(e===void 0)f=tt(o,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(f=a[e],!f)return{};f=f.value}let s=(u,c)=>n(f[u],f[c]);return{data:o,facets:i.map(u=>u.slice().sort(s))}}}function Jh(t,e){return ed(null,null,t,e)}function bi(t={y:"count"},e={}){let{x:n=B}=e;if(n==null)throw new Error("missing channel: x");return ed(n,null,t,e)}function wi(t={x:"count"},e={}){let{y:n=B}=e;if(n==null)throw new Error("missing channel: y");return ed(null,n,t,e)}function td(t={fill:"count"},e={}){let{x:n,y:r}=e;if([n,r]=Vt(n,r),n==null)throw new Error("missing channel: x");if(r==null)throw new Error("missing channel: y");return ed(n,r,t,e)}function ed(t,e,{data:n=od,filter:r,sort:o,reverse:i,...a}={},f={}){a=B1(a,f),n=Gv(n,B),o=o==null?void 0:Uv("sort",o,f),r=r==null?void 0:Wv("filter",r,f);let[s,u]=_e(t),[c,h]=_e(e),{z:l,fill:d,stroke:p,x1:m,x2:x,y1:y,y2:g,...w}=f,[b,_]=_e(l),[v]=Bt(d),[M]=Bt(p),[k,S]=_e(v),[A,T]=_e(M);return{..."z"in f&&{z:b||l},..."fill"in f&&{fill:k||d},..."stroke"in f&&{stroke:A||p},...fe(w,($,I,E)=>{let C=mi(tt($,t),E?.x),N=mi(tt($,e),E?.y),R=tt($,l),z=tt($,v),D=tt($,M),Y=au(a,{z:R,fill:z,stroke:D}),q=[],W=[],X=C&&u([]),at=N&&h([]),st=R&&_([]),lt=z&&S([]),G=D&&T([]),ft=0;for(let L of a)L.initialize($);o&&o.initialize($),r&&r.initialize($);for(let L of I){let j=[];for(let Z of a)Z.scope("facet",L);o&&o.scope("facet",L),r&&r.scope("facet",L);for(let[Z,P]of nr(L,Y))for(let[gt,et]of nr(P,N))for(let[xt,vt]of nr(et,C)){let Ot={data:$};if(C&&(Ot.x=xt),N&&(Ot.y=gt),Y&&(Ot.z=Z),!(r&&!r.reduce(vt,Ot))){j.push(ft++),W.push(n.reduceIndex(vt,$,Ot)),C&&X.push(xt),N&&at.push(gt),R&&st.push(Y===R?Z:R[vt[0]]),z&&lt.push(Y===z?Z:z[vt[0]]),D&&G.push(Y===D?Z:D[vt[0]]);for(let Nn of a)Nn.reduce(vt,Ot);o&&o.reduce(vt,Ot)}}q.push(j)}return X1(q,o,i),{data:W,facets:q}}),...!rr(a,"x")&&(s?{x:s}:{x1:m,x2:x}),...!rr(a,"y")&&(c?{y:c}:{y1:y,y2:g}),...Object.fromEntries(a.map(({name:$,output:I})=>[$,I]))}}function rr(t,...e){for(let{name:n}of t)if(e.includes(n))return!0;return!1}function q1(t,e,n=nd){let r=Object.entries(t);return e.title!=null&&t.title===void 0&&r.push(["title",dT]),e.href!=null&&t.href===void 0&&r.push(["href",id]),r.filter(([,o])=>o!==void 0).map(([o,i])=>i===null?sT(o):n(o,i,e))}function nd(t,e,n,r=rd){let o;re(e)&&"reduce"in e&&(o=e.scale,e=e.reduce);let i=r(t,e,n),[a,f]=ve(i.label),s;return{name:t,output:o===void 0?a:{value:a,scale:o},initialize(u){i.initialize(u),s=f([])},scope(u,c){i.scope(u,c)},reduce(u,c){s.push(i.reduce(u,c))}}}function sT(t){return{name:t,initialize(){},scope(){},reduce(){}}}function rd(t,e,n,r=La){let o=Hh(t,n),i=r(e,o),a,f;return{label:Me(i===iu?null:o,i.label),initialize(s){a=o===void 0?s:tt(s,o),i.scope==="data"&&(f=i.reduceIndex(We(s),a))},scope(s,u){i.scope===s&&(f=i.reduceIndex(u,a))},reduce(s,u){return i.scope==null?i.reduceIndex(s,a,u):i.reduceIndex(s,a,f,u)}}}function nr(t,e){return e?ge(t,n=>e[n]):[[,t]]}function La(t,e,n=uT){if(t==null)return n(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&re(t))return lT(t);if(typeof t=="function")return hT(t);if(/^p\d{2}$/i.test(t))return Or(Ea(t));switch(`${t}`.toLowerCase()){case"first":return id;case"last":return pT;case"identity":return od;case"count":return iu;case"distinct":return mT;case"sum":return e==null?iu:gT;case"proportion":return Xv(e,"data");case"proportion-facet":return Xv(e,"facet");case"deviation":return Or(rn);case"min":return Or(zt);case"min-index":return Or(qu);case"max":return Or(At);case"max-index":return Or(Yu);case"mean":return Bv(dr);case"median":return Bv(vn);case"variance":return Or(Vr);case"mode":return Or(Yi)}return n(t)}function uT(t){throw new Error(`invalid reduce: ${t}`)}function B1(t,e){return q1(t,e,Uv)}function Uv(t,e,n){return nd(t,e,n,Wv)}function Wv(t,e,n){return rd(t,e,n,Gv)}function Gv(t,e){return La(t,e,cT)}function cT(t){switch(`${t}`.toLowerCase()){case"x":return yT;case"y":return xT;case"z":return U1}throw new Error(`invalid group reduce: ${t}`)}function au(t,e){for(let n in e){let r=e[n];if(r!==void 0&&!t.some(o=>o.name===n))return r}}function X1(t,e,n){if(e){let r=e.output.transform(),o=(i,a)=>he(r[i],r[a]);t.forEach(i=>i.sort(o))}n&&t.forEach(r=>r.reverse())}function lT(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function hT(t){return{reduceIndex(e,n,r){return t(ru(n,e),r)}}}function Or(t){return{reduceIndex(e,n){return t(e,r=>n[r])}}}function Bv(t){return{reduceIndex(e,n){let r=t(e,o=>n[o]);return Xt(n)?new Date(r):r}}}var od={reduceIndex(t,e){return ru(e,t)}},id={reduceIndex(t,e){return e[t[0]]}},dT={reduceIndex(t,e){let r=lr(wn(t,i=>i.length,i=>e[i]),yo),o=r.slice(-5).reverse();if(o.length<r.length){let i=r.slice(0,-4);o[4]=[`\u2026 ${i.length.toLocaleString("en-US")} more`,xe(i,yo)]}return o.map(([i,a])=>`${i} (${a.toLocaleString("en-US")})`).join(`
`)}},pT={reduceIndex(t,e){return e[t[t.length-1]]}},iu={label:"Frequency",reduceIndex(t){return t.length}},mT={label:"Distinct",reduceIndex(t,e){let n=new Ve;for(let r of t)n.add(e[r]);return n.size}},gT=Or(xe);function Xv(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(n,r,o=1)=>n.length/o}:{scope:e,reduceIndex:(n,r,o=1)=>xe(n,i=>r[i])/o}}var yT={reduceIndex(t,e,{x:n}){return n}},xT={reduceIndex(t,e,{y:n}){return n}},U1={reduceIndex(t,e,{z:n}){return n}};function bT(t){if(typeof t!="function")throw new Error(`invalid test function: ${t}`);return{reduceIndex(e,n,{data:r}){return n[e.find(je(r)?o=>t(r[o],o,r):o=>t(r.get(o),o,r))]}}}function Oa(t,{scale:e,type:n,value:r,filter:o,hint:i,label:a=Me(r)},f){return i===void 0&&typeof r?.transform=="function"&&(i=r.hint),G1(f,{scale:e,type:n,value:tt(t,r),label:a,filter:o,hint:i})}function ad(t,e){return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,Oa(e,r,n)]))}function _o(t,e){let n=Object.fromEntries(Object.entries(t).map(([r,{scale:o,value:i}])=>{let a=o==null?null:e[o];return[r,a==null?i:mt(i,a)]}));return n.channels=t,n}function G1(t,e){let{scale:n,value:r}=e;if(n===!0||n==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=n!==!0&&Vh(r,vo)?null:"color",e.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=n!==!0&&Vh(r,Nv)?null:"opacity",e.defaultScale="opacity";break;case"symbol":n!==!0&&Vh(r,Fv)?(e.scale=null,e.value=mt(r,Pa)):e.scale="symbol",e.defaultScale="symbol";break;default:e.scale=$t.has(t)?t:null;break}else if(n===!1)e.scale=null;else if(n!=null&&!$t.has(n))throw new Error(`unknown scale: ${n}`);return e}function jv(t,e,n,r,o){let{order:i,reverse:a,reduce:f=!0,limit:s}=o;for(let u in o){if(!$t.has(u))continue;let{value:c,order:h=i,reverse:l=a,reduce:d=f,limit:p=s}=gn(o[u]),m=c?.startsWith("-");if(m&&(c=c.slice(1)),h=h===void 0?m!==(c==="width"||c==="height")?Zv:Vv:_T(h),d==null||d===!1)continue;let x=u==="fx"||u==="fy"?vT(e,r[u]):wT(n,u);if(!x)throw new Error(`missing channel for scale: ${u}`);let y=x.value,[g=0,w=1/0]=Ge(p)?p:p<0?[p]:[0,p];if(c==null)x.domain=()=>{let b=Array.from(new Ve(y));return l&&(b=b.reverse()),(g!==0||w!==1/0)&&(b=b.slice(g,w)),b};else{let b=c==="data"?t:c==="height"?Hv(n,"y1","y2"):c==="width"?Hv(n,"x1","x2"):W1(n,c,c==="y"?"y2":c==="x"?"x2":void 0),_=La(d===!0?"max":d,b);x.domain=()=>{let v=Mp(We(y),M=>_.reduceIndex(M,b),M=>y[M]);return h&&v.sort(h),l&&v.reverse(),(g!==0||w!==1/0)&&(v=v.slice(g,w)),v.map(pi)}}}}function wT(t,e){for(let n in t){let r=t[n];if(r.scale===e)return r}}function vT(t,e){let n=t.original;if(n===t)return e;let r=e.value,o=e.value=[];for(let i=0;i<n.length;++i){let a=r[n[i][0]];for(let f of t[i])o[f]=a}return e}function Hv(t,e,n){let r=W1(t,e),o=W1(t,n);return mt(o,(i,a)=>Math.abs(i-r[a]),Float64Array)}function W1(t,e,n){let r=t[e];if(!r&&n!==void 0&&(r=t[n]),r)return r.value;throw new Error(`missing channel: ${e}`)}function _T(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return Vv;case"descending":return Zv}throw new Error(`invalid order: ${t}`)}function Vv([t,e],[n,r]){return he(e,r)||he(t,n)}function Zv([t,e],[n,r]){return hi(e,r)||he(t,n)}function fu(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}var e_=new Map([["accent",I0],["category10",N0],["dark2",R0],["observable10",D0],["paired",P0],["pastel1",L0],["pastel2",O0],["set1",z0],["set2",F0],["set3",Y0],["tableau10",q0]]);function n_(t){return t!=null&&e_.has(`${t}`.toLowerCase())}var Kv=new Map([...e_,["brbg",zr(vl,_l)],["prgn",zr(Ml,Sl)],["piyg",zr(Tl,kl)],["puor",zr(Al,Cl)],["rdbu",zr(Ps,ya)],["rdgy",zr($l,El)],["rdylbu",zr(Ls,xa)],["rdylgn",zr(Nl,Il)],["spectral",zr(Rl,Dl)],["burd",Qv(Ps,ya)],["buylrd",Qv(Ls,xa)],["blues",de(ih,ah)],["greens",de(fh,sh)],["greys",de(uh,ch)],["oranges",de(mh,gh)],["purples",de(lh,hh)],["reds",de(dh,ph)],["turbo",Fr(Th)],["viridis",Fr(Ah)],["magma",Fr(Ch)],["inferno",Fr($h)],["plasma",Fr(Eh)],["cividis",Fr(yh)],["cubehelix",Fr(xh)],["warm",Fr(wh)],["cool",Fr(vh)],["bugn",de(Pl,Ll)],["bupu",de(Ol,zl)],["gnbu",de(Fl,Yl)],["orrd",de(ql,Bl)],["pubu",de(Wl,Gl)],["pubugn",de(Xl,Ul)],["purd",de(Hl,jl)],["rdpu",de(Vl,Zl)],["ylgn",de(Jl,th)],["ylgnbu",de(Kl,Ql)],["ylorbr",de(eh,nh)],["ylorrd",de(rh,oh)],["rainbow",Jv(_h)],["sinebow",Jv(Sh)]]);function de(t,e){return({length:n})=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Se(e,n):t[n])}function zr(t,e){return({length:n})=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Se(e,n):t[n])}function Qv(t,e){return({length:n})=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Se(r=>e(1-r),n):t[n].slice().reverse())}function Fr(t){return({length:e})=>Se(t,Math.max(2,Math.floor(e)))}function Jv(t){return({length:e})=>Se(t,Math.floor(e)+1).slice(0,-1)}function H1(t){let e=`${t}`.toLowerCase();if(!Kv.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return Kv.get(e)}function su(t,e){let n=H1(t),r=typeof n=="function"?n({length:e}):n;return r.length!==e?r.slice(0,e):r}function r_(t,e="greys"){let n=new Set,[r,o]=su(e,2);for(let i of t)if(i!=null)if(i===!0)n.add(o);else if(i===!1)n.add(r);else return;return[...n]}var t_=new Map([["brbg",_l],["prgn",Sl],["piyg",kl],["puor",Cl],["rdbu",ya],["rdgy",El],["rdylbu",xa],["rdylgn",Il],["spectral",Dl],["burd",t=>ya(1-t)],["buylrd",t=>xa(1-t)],["blues",ah],["greens",sh],["greys",ch],["purples",hh],["reds",ph],["oranges",gh],["turbo",Th],["viridis",Ah],["magma",Ch],["inferno",$h],["plasma",Eh],["cividis",yh],["cubehelix",xh],["warm",wh],["cool",vh],["bugn",Ll],["bupu",zl],["gnbu",Yl],["orrd",Bl],["pubugn",Ul],["pubu",Gl],["purd",jl],["rdpu",Zl],["ylgnbu",Ql],["ylgn",th],["ylorbr",nh],["ylorrd",oh],["rainbow",_h],["sinebow",Sh]]);function za(t){let e=`${t}`.toLowerCase();if(!t_.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return t_.get(e)}var MT=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function o_(t){return t!=null&&MT.has(`${t}`.toLowerCase())}var V1=t=>e=>t(1-e),j1=[0,1],i_=new Map([["number",Pt],["rgb",on],["hsl",Zp],["hcl",Kp],["lab",fc]]);function Z1(t){let e=`${t}`.toLowerCase();if(!i_.has(e))throw new Error(`unknown interpolator: ${e}`);return i_.get(e)}function Ya(t,e,n,{type:r,nice:o,clamp:i,zero:a,domain:f=p_(t,n),unknown:s,round:u,scheme:c,interval:h,range:l=$t.get(t)===gi?AT(n,f):$t.get(t)===yi?CT(n,f):$t.get(t)===xi?j1:void 0,interpolate:d=$t.get(t)===tn?c==null&&l!==void 0?on:za(c!==void 0?c:r==="cyclical"?"rainbow":"turbo"):u?Wo:Pt,reverse:p}){if(f=a_(f),h=tr(h,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof d!="function"&&(d=Z1(d)),p=!!p,l!==void 0){let m=f.length,x=(l=a_(l)).length;if(m!==x){if(d.length===1)throw new Error("invalid piecewise interpolator");d=On(d,l),l=void 0}}if(d.length===1?(p&&(d=V1(d),p=!1),l===void 0&&(l=Float64Array.from(f,(m,x)=>x/(f.length-1)),l.length===2&&(l=j1)),e.interpolate((l===j1?Wt:uu)(d))):e.interpolate(d),a){let[m,x]=_t(f);(m>0||x<0)&&(f=xo(f),(Nr(f)||1)===Math.sign(m)?f[0]=0:f[f.length-1]=0)}return p&&(f=Kr(f)),e.domain(f).unknown(s),o&&(e.nice(ST(o,r)),f=e.domain()),l!==void 0&&e.range(l),i&&e.clamp(i),{type:r,domain:f,range:l,scale:e,interpolate:d,interval:h}}function a_(t){return t=pn(t),t.length>=2?t:[t[0],t[0]]}function ST(t,e){return t===!0?void 0:typeof t=="number"?t:Tv(t,e)}function f_(t,e,n){return Ya(t,oi(),e,n)}function s_(t,e,n){return K1(t,e,{...n,exponent:.5})}function K1(t,e,{exponent:n=1,...r}){return Ya(t,Ss().exponent(n),e,{...r,type:"pow"})}function u_(t,e,{base:n=10,domain:r=$T(e),...o}){return Ya(t,_s().base(n),e,{...o,domain:r})}function c_(t,e,{constant:n=1,...r}){return Ya(t,Ms().constant(n),e,r)}function l_(t,e,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:o=r,scheme:i="rdylbu",domain:a=ET(e),unknown:f,interpolate:s,reverse:u}){return n===void 0&&(n=s!==void 0?Se(s,o):$t.get(t)===tn?su(i,o):void 0),a.length>0&&(a=Ts(a,n===void 0?{length:o}:n).quantiles()),fd(t,e,{domain:a,range:n,reverse:u,unknown:f})}function h_(t,e,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:o="rdylbu",domain:i=p_(t,e),unknown:a,interpolate:f,reverse:s}){let[u,c]=_t(i),h;return n===void 0?(h=ye(u,c,r),h[0]<=u&&h.splice(0,1),h[h.length-1]>=c&&h.pop(),r=h.length+1,n=f!==void 0?Se(f,r):$t.get(t)===tn?su(o,r):void 0):(h=Se(Pt(u,c),r+1).slice(1,-1),u instanceof Date&&(h=h.map(l=>new Date(l)))),Nr(pn(i))<0&&h.reverse(),fd(t,e,{domain:h,range:n,reverse:s,unknown:a})}function fd(t,e,{domain:n=[0],unknown:r,scheme:o="rdylbu",interpolate:i,range:a=i!==void 0?Se(i,n.length+1):$t.get(t)===tn?su(o,n.length+1):void 0,reverse:f}){n=pn(n);let s=Nr(n);if(!isNaN(s)&&!TT(n,s))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(a=Kr(a)),{type:"threshold",scale:ks(s<0?Kr(n):n,a===void 0?[]:a).unknown(r),domain:n,range:a}}function TT(t,e){for(let n=1,r=t.length,o=t[0];n<r;++n){let i=Ne(o,o=t[n]);if(i!==0&&i!==e)return!1}return!0}function d_(t){return{type:"identity",scale:zv($t.get(t))?ws():e=>e}}function Fa(t,e=Ta){return t.length?[zt(t,({value:n})=>n===void 0?n:zt(n,e)),At(t,({value:n})=>n===void 0?n:At(n,e))]:[0,1]}function p_(t,e){let n=$t.get(t);return(n===gi||n===xi||n===yi?kT:Fa)(e)}function kT(t){return[0,t.length?At(t,({value:e})=>e===void 0?e:At(e,Ta)):1]}function AT(t,e){let n=t.find(({radius:a})=>a!==void 0);if(n!==void 0)return[0,n.radius];let r=Re(t,.5,({value:a})=>a===void 0?NaN:Re(a,.25,Ue)),o=e.map(a=>3*Math.sqrt(a/r)),i=30/At(o);return i<1?o.map(a=>a*i):o}function CT(t,e){let n=vn(t,({value:i})=>i===void 0?NaN:vn(i,Math.abs)),r=e.map(i=>12*i/n),o=60/At(r);return o<1?r.map(i=>i*o):r}function $T(t){for(let{value:e}of t)if(e!==void 0)for(let n of e){if(n>0)return Fa(t,Ue);if(n<0)return Fa(t,lo)}return[1,10]}function ET(t){let e=[];for(let{value:n}of t)if(n!==void 0)for(let r of n)e.push(r);return e}function uu(t){return(e,n)=>r=>t(e+r*(n-e))}var Q1=0,J1;function m_(){let t=Q1;return Q1=0,J1=void 0,t}function Ee(t){t!==J1&&(J1=t,console.warn(t),++Q1)}function sd(t,e,n,r,{type:o,nice:i,clamp:a,domain:f=Fa(r),unknown:s,pivot:u=0,scheme:c,range:h,symmetric:l=!0,interpolate:d=$t.get(t)===tn?c==null&&h!==void 0?on:za(c!==void 0?c:"rdbu"):Pt,reverse:p}){u=+u,f=pn(f);let[m,x]=f;if(f.length>2&&Ee(`Warning: the diverging ${t} scale domain contains extra elements.`),Ne(m,x)<0&&([m,x]=[x,m],p=!p),m=Math.min(m,u),x=Math.max(x,u),typeof d!="function"&&(d=Z1(d)),h!==void 0&&(d=d.length===1?uu(d)(...h):On(d,h)),p&&(d=V1(d)),l){let y=n.apply(u),g=y-n.apply(m),w=n.apply(x)-y;g<w?m=n.invert(y-w):g>w&&(x=n.invert(y+g))}return e.domain([m,u,x]).unknown(s).interpolator(d),a&&e.clamp(a),i&&e.nice(i),{type:o,domain:[m,x],pivot:u,interpolate:d,scale:e}}function g_(t,e,n){return sd(t,Ds(),NT,e,n)}function y_(t,e,n){return tg(t,e,{...n,exponent:.5})}function tg(t,e,{exponent:n=1,...r}){return sd(t,wl().exponent(n=+n),DT(n),e,{...r,type:"diverging-pow"})}function x_(t,e,{base:n=10,pivot:r=1,domain:o=Fa(e,r<0?lo:Ue),...i}){return sd(t,xl().base(n=+n),IT,e,{domain:o,pivot:r,...i})}function b_(t,e,{constant:n=1,...r}){return sd(t,bl().constant(n=+n),PT(n),e,r)}var NT={apply(t){return t},invert(t){return t}},IT={apply:Math.log,invert:Math.exp},RT={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function DT(t){return t===.5?RT:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function PT(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function w_(t,e,n,r){return Ya(t,e,n,r)}function v_(t,e,n){return w_(t,ml(),e,n)}function __(t,e,n){return w_(t,gl(),e,n)}var qa=Symbol("ordinal");function S_(t,e,n,{type:r,interval:o,domain:i,range:a,reverse:f,hint:s}){return o=tr(o,r),i===void 0&&(i=$_(n,o,t)),(r==="categorical"||r===qa)&&(r="ordinal"),f&&(i=Kr(i)),i=e.domain(i).domain(),a!==void 0&&(typeof a=="function"&&(a=a(i)),e.range(a)),{type:r,domain:i,range:a,scale:e,hint:s,interval:o}}function T_(t,e,{type:n,interval:r,domain:o,range:i,scheme:a,unknown:f,...s}){r=tr(r,n),o===void 0&&(o=$_(e,r,t));let u;if($t.get(t)===Da)u=LT(e),i=i===void 0?OT(u):mt(i,Pa);else if($t.get(t)===tn&&(i===void 0&&(n==="ordinal"||n===qa)&&(i=r_(o,a),i!==void 0&&(a=void 0)),a===void 0&&i===void 0&&(a=n==="ordinal"?"turbo":"observable10"),a!==void 0))if(i!==void 0){let c=za(a),h=i[0],l=i[1]-i[0];i=({length:d})=>Se(p=>c(h+l*p),d)}else i=H1(a);if(f===xs)throw new Error(`implicit unknown on ${t} scale is not supported`);return S_(t,ni().unknown(f),e,{...s,type:n,domain:o,range:i,hint:u})}function k_(t,e,{align:n=.5,padding:r=.5,...o}){return C_(m0().align(n).padding(r),e,o,t)}function A_(t,e,{align:n=.5,padding:r=.1,paddingInner:o=r,paddingOuter:i=t==="fx"||t==="fy"?0:r,...a}){return C_(fo().align(n).paddingInner(o).paddingOuter(i),e,a,t)}function C_(t,e,n,r){let{round:o}=n;return o!==void 0&&t.round(o=!!o),t=S_(r,t,e,n),t.round=o,t}function $_(t,e,n){let r=new Ve;for(let{value:o,domain:i}of t){if(i!==void 0)return i();if(o!==void 0)for(let a of o)r.add(a)}if(e!==void 0){let[o,i]=_t(r).map(e.floor,e);return e.range(o,e.offset(i))}if(r.size>1e4&&$t.get(n)===yn)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return lr(r,he)}function M_(t,e){let n;for(let{hint:r}of t){let o=r?.[e];if(o!==void 0){if(n===void 0)n=o;else if(n!==o)return}}return n}function LT(t){return{fill:M_(t,"fill"),stroke:M_(t,"stroke")}}function OT(t){return Tt(t.fill)?j0:Lh}function cu(t,{label:e,inset:n=0,insetTop:r=n,insetRight:o=n,insetBottom:i=n,insetLeft:a=n,round:f,nice:s,clamp:u,zero:c,align:h,padding:l,projection:d,facet:{label:p=e}={},...m}={}){let x={};for(let[y,g]of t){let w=m[y],b=O_(y,g,{round:$t.get(y)===yn?f:void 0,nice:s,clamp:u,zero:c,align:h,padding:l,projection:d,...w});if(b){let{label:_=y==="fx"||y==="fy"?p:e,percent:v,transform:M,inset:k,insetTop:S=k!==void 0?k:y==="y"?r:0,insetRight:A=k!==void 0?k:y==="x"?o:0,insetBottom:T=k!==void 0?k:y==="y"?i:0,insetLeft:$=k!==void 0?k:y==="x"?a:0}=w||{};if(M==null)M=void 0;else if(typeof M!="function")throw new Error("invalid scale transform; not a function");b.percent=!!v,b.label=_===void 0?zT(g,b):_,b.transform=M,y==="x"||y==="fx"?(b.insetLeft=+$,b.insetRight=+A):(y==="y"||y==="fy")&&(b.insetTop=+S,b.insetBottom=+T),x[y]=b}}return x}function ng(t){let e={},n={scales:e};for(let[r,o]of Object.entries(t)){let{scale:i,type:a,interval:f,label:s}=o;e[r]=F_(o),n[r]=i,i.type=a,f!=null&&(i.interval=f),s!=null&&(i.label=s)}return n}function D_(t,e){let{x:n,y:r,fx:o,fy:i}=t,a=o||i?ld(e):e;o&&E_(o,a),i&&N_(i,a);let f=o||i?rg(t,e):e;n&&E_(n,f),r&&N_(r,f)}function zT(t=[],e){let n;for(let{label:r}of t)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!or(e)&&e.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function cd(t){return Math.sign(Nr(t.domain()))*Math.sign(Nr(t.range()))}function ld(t){let{marginTop:e,marginRight:n,marginBottom:r,marginLeft:o,width:i,height:a,facet:{marginTop:f,marginRight:s,marginBottom:u,marginLeft:c}}=t;return{marginTop:Math.max(e,f),marginRight:Math.max(n,s),marginBottom:Math.max(r,u),marginLeft:Math.max(o,c),width:i,height:a}}function rg({fx:t,fy:e},n){let{marginTop:r,marginRight:o,marginBottom:i,marginLeft:a,width:f,height:s}=ld(n);return{marginTop:r,marginRight:o,marginBottom:i,marginLeft:a,width:t?t.scale.bandwidth()+a+o:f,height:e?e.scale.bandwidth()+r+i:s,facet:{width:f,height:s}}}function E_(t,e){if(t.range===void 0){let{insetLeft:n,insetRight:r}=t,{width:o,marginLeft:i=0,marginRight:a=0}=e,f=i+n,s=o-a-r;t.range=[f,Math.max(f,s)],or(t)||(t.range=L_(t)),t.scale.range(t.range)}P_(t)}function N_(t,e){if(t.range===void 0){let{insetTop:n,insetBottom:r}=t,{height:o,marginTop:i=0,marginBottom:a=0}=e,f=i+n,s=o-a-r;t.range=[Math.max(f,s),f],or(t)?t.range.reverse():t.range=L_(t),t.scale.range(t.range)}P_(t)}function P_(t){t.round===void 0&&qT(t)&&FT(t)<=30&&t.scale.round(!0)}function FT({scale:t}){let e=t.domain().length,[n,r]=t.range(),o=t.paddingInner?t.paddingInner():1,i=t.paddingOuter?t.paddingOuter():t.padding(),a=e-o,f=Math.abs(r-n)/Math.max(1,a+i*2);return(f-Math.floor(f))*a}function L_(t){let e=t.scale.domain().length+og(t);if(!(e>2))return t.range;let[n,r]=t.range;return Array.from({length:e},(o,i)=>n+i/(e-1)*(r-n))}function hd(t,e,n){return O_(t,n===void 0?void 0:[{hint:n}],{...e})}function O_(t,e=[],n={}){let r=YT(t,e,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&t!=="fx"&&t!=="fy"&&or({type:r})){let o=e.map(({value:i})=>i).filter(i=>i!==void 0);o.some(Xt)?Ee(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Ba(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${Ba(r)}".`):o.some($v)?Ee(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Ba(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${Ba(r)}".`):o.some(Ev)&&Ee(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Ba(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${Ba(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=ud(e,n,ne);break;case"identity":switch($t.get(t)){case yn:n=ud(e,n,ne);break;case Da:n=ud(e,n,BT);break}break;case"utc":case"time":n=ud(e,n,S1);break}switch(r){case"diverging":return g_(t,e,n);case"diverging-sqrt":return y_(t,e,n);case"diverging-pow":return tg(t,e,n);case"diverging-log":return x_(t,e,n);case"diverging-symlog":return b_(t,e,n);case"categorical":case"ordinal":case qa:return T_(t,e,n);case"cyclical":case"sequential":case"linear":return f_(t,e,n);case"sqrt":return s_(t,e,n);case"threshold":return fd(t,e,n);case"quantile":return l_(t,e,n);case"quantize":return h_(t,e,n);case"pow":return K1(t,e,n);case"log":return u_(t,e,n);case"symlog":return c_(t,e,n);case"utc":return __(t,e,n);case"time":return v_(t,e,n);case"point":return k_(t,e,n);case"band":return A_(t,e,n);case"identity":return d_(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Ba(t){return typeof t=="symbol"?t.description:t}function I_(t){return typeof t=="string"?`${t}`.toLowerCase():t}var R_={toString:()=>"projection"};function YT(t,e,{type:n,domain:r,range:o,scheme:i,pivot:a,projection:f}){if(n=I_(n),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(n=R_);for(let c of e){let h=I_(c.type);if(h!==void 0){if(n===void 0)n=h;else if(n!==h)throw new Error(`scale incompatible with channel: ${n} !== ${h}`)}}if(n===R_)return;if(n!==void 0)return n;if(r===void 0&&!e.some(({value:c})=>c!==void 0))return;let s=$t.get(t);if(s===gi)return"sqrt";if(s===xi||s===yi)return"linear";if(s===Da)return"ordinal";let u=(r??o)?.length;if(u<2||u>2)return eg(s);if(r!==void 0){if(qt(r))return eg(s);if(Xt(r))return"utc"}else{let c=e.map(({value:h})=>h).filter(h=>h!==void 0);if(c.some(qt))return eg(s);if(c.some(Xt))return"utc"}if(s===tn){if(a!=null||o_(i))return"diverging";if(n_(i))return"categorical"}return"linear"}function eg(t){switch(t){case yn:return"point";case tn:return qa;default:return"ordinal"}}function or({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===qa}function og({type:t}){return t==="threshold"}function qT({type:t}){return t==="point"||t==="band"}function en(t){if(t===void 0)return!0;let e=t.domain(),n=t(e[0]);for(let r=1,o=e.length;r<o;++r)if(t(e[r])-n)return!1;return!0}function ud(t,{domain:e,...n},r){for(let o of t)o.value!==void 0&&(e===void 0&&(e=o.value?.domain),o.value=r(o.value));return{domain:e===void 0?e:r(e),...n}}function BT(t){return mt(t,Pa)}function XT(t={}){let e;for(let n in t)if($t.has(n)&&Qn(t[n])){if(e!==void 0)throw new Error("ambiguous scale definition; multiple scales found");e=F_(hd(n,t[n]))}if(e===void 0)throw new Error("invalid scale definition; no scale found");return e}function z_(t){return e=>{if(!$t.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function F_({scale:t,type:e,domain:n,range:r,interpolate:o,interval:i,transform:a,percent:f,pivot:s}){if(e==="identity")return{type:"identity",apply:c=>c,invert:c=>c};let u=t.unknown?t.unknown():void 0;return{type:e,domain:xo(n),...r!==void 0&&{range:xo(r)},...a!==void 0&&{transform:a},...f&&{percent:f},...u!==void 0&&{unknown:u},...i!==void 0&&{interval:i},...o!==void 0&&{interpolate:o},...t.clamp&&{clamp:t.clamp()},...s!==void 0&&{pivot:s,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:c=>t(c),...t.invert&&{invert:c=>t.invert(c)}}}function q_(t,e){let{fx:n,fy:r}=cu(t,e),o=n?.scale.domain(),i=r?.scale.domain();return o&&i?Ou(o,i).map(([a,f],s)=>({x:a,y:f,i:s})):o?o.map((a,f)=>({x:a,i:f})):i?i.map((a,f)=>({y:a,i:f})):void 0}function B_(t,{x:e,y:n}){return e&&=ug(e),n&&=ug(n),t.filter(e&&n?r=>e.has(r.x)&&n.has(r.y):e?r=>e.has(r.x):r=>n.has(r.y)).sort(e&&n?(r,o)=>e.get(r.x)-e.get(o.x)||n.get(r.y)-n.get(o.y):e?(r,o)=>e.get(r.x)-e.get(o.x):(r,o)=>n.get(r.y)-n.get(o.y))}function pd(t,{fx:e,fy:n}){let r=We(t),o=e?.value,i=n?.value;return e&&n?wn(r,a=>(a.fx=o[a[0]],a.fy=i[a[0]],a),a=>o[a],a=>i[a]):e?wn(r,a=>(a.fx=o[a[0]],a),a=>o[a]):wn(r,a=>(a.fy=i[a[0]],a),a=>i[a])}function X_(t,e,{marginTop:n,marginLeft:r}){let o=t?({x:a})=>t(a)-r:()=>0,i=e?({y:a})=>e(a)-n:()=>0;return function(a){this.tagName==="svg"?(this.setAttribute("x",o(a)),this.setAttribute("y",i(a))):this.setAttribute("transform",`translate(${o(a)},${i(a)})`)}}function U_(t){let e=[],n=new Uint32Array(xe(t,r=>r.length));for(let r of t){let o=0;for(let i of t)r!==i&&(n.set(i,o),o+=i.length);e.push(n.slice(0,o))}return e}var UT=new Map([["top",ig],["right",sg],["bottom",ag],["left",fg],["top-left",dd(ig,fg)],["top-right",dd(ig,sg)],["bottom-left",dd(ag,fg)],["bottom-right",dd(ag,sg)],["top-empty",GT],["right-empty",VT],["bottom-empty",HT],["left-empty",jT],["empty",ZT]]);function W_(t){if(t==null)return null;let e=UT.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}var Y_=new WeakMap;function ug(t){let e=Y_.get(t);return e||Y_.set(t,e=new Ie(mt(t,(n,r)=>[n,r]))),e}function Mo(t,e){return ug(t).get(e)}function WT(t,e,n){return e=mn(e),n=mn(n),t.find(r=>Object.is(mn(r.x),e)&&Object.is(mn(r.y),n))}function md(t,e,n){return WT(t,e,n)?.empty}function ig(t,{y:e},{y:n}){return e?Mo(e,n)===0:!0}function ag(t,{y:e},{y:n}){return e?Mo(e,n)===e.length-1:!0}function fg(t,{x:e},{x:n}){return e?Mo(e,n)===0:!0}function sg(t,{x:e},{x:n}){return e?Mo(e,n)===e.length-1:!0}function GT(t,{y:e},{x:n,y:r,empty:o}){if(o)return!1;if(!e)return;let i=Mo(e,r);if(i>0)return md(t,n,e[i-1])}function HT(t,{y:e},{x:n,y:r,empty:o}){if(o)return!1;if(!e)return;let i=Mo(e,r);if(i<e.length-1)return md(t,n,e[i+1])}function jT(t,{x:e},{x:n,y:r,empty:o}){if(o)return!1;if(!e)return;let i=Mo(e,n);if(i>0)return md(t,e[i-1],r)}function VT(t,{x:e},{x:n,y:r,empty:o}){if(o)return!1;if(!e)return;let i=Mo(e,n);if(i<e.length-1)return md(t,e[i+1],r)}function ZT(t,e,{empty:n}){return n}function dd(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function gd(t,{channels:{fx:e,fy:n},groups:r}){return e&&n?t.map(({x:o,y:i})=>r.get(o)?.get(i)??[]):e?t.map(({x:o})=>r.get(o)??[]):t.map(({y:o})=>r.get(o)??[])}var G_=Math.PI,Yr=2*G_,cg=.618;function H_({projection:t,inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:o=e,insetLeft:i=e}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let f,s,u="frame";if(re(t)){let _;if({type:t,domain:s,inset:_,insetTop:n=_!==void 0?_:n,insetRight:r=_!==void 0?_:r,insetBottom:o=_!==void 0?_:o,insetLeft:i=_!==void 0?_:i,clip:u=u,...f}=t,t==null)return}typeof t!="function"&&({type:t}=lg(t));let{width:c,height:h,marginLeft:l,marginRight:d,marginTop:p,marginBottom:m}=a,x=c-l-d-i-r,y=h-p-m-n-o;if(t=t?.({width:x,height:y,clip:u,...f}),t==null)return;u=KT(u,l,p,c-d,h-m);let g=l+i,w=p+n,b;if(s!=null){let[[_,v],[M,k]]=ke(t).bounds(s),S=Math.min(x/(M-_),y/(k-v));S>0?(g-=(S*(_+M)-x)/2,w-=(S*(v+k)-y)/2,b=ua({point(A,T){this.stream.point(A*S+g,T*S+w)}})):Ee("Warning: the projection could not be fit to the specified domain; using the default scale.")}return b??=g===0&&w===0?j_():ua({point(_,v){this.stream.point(_+g,v+w)}}),{stream:_=>t.stream(b.stream(u(_)))}}function lg(t){switch(`${t}`.toLowerCase()){case"albers-usa":return An(Xm,.7463,.4673);case"albers":return yd(hs,.7463,.4673);case"azimuthal-equal-area":return An(Wm,4,4);case"azimuthal-equidistant":return An(Hm,Yr,Yr);case"conic-conformal":return yd(Zm,Yr,Yr);case"conic-equal-area":return yd(io,6.1702,2.9781);case"conic-equidistant":return yd(Qm,7.312,3.6282);case"equal-earth":return An(t0,5.4133,2.6347);case"equirectangular":return An(Km,Yr,G_);case"gnomonic":return An(n0,3.4641,3.4641);case"identity":return{type:j_};case"reflect-y":return{type:QT};case"mercator":return An(jm,Yr,Yr);case"orthographic":return An(o0,2,2);case"stereographic":return An(a0,2,2);case"transverse-mercator":return An(s0,Yr,Yr);default:throw new Error(`unknown projection type: ${t}`)}}function KT(t,e,n,r,o){if(t===!1||t==null||typeof t=="number")return i=>i;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return oa(e,n,r,o);default:throw new Error(`unknown projection clip type: ${t}`)}}function An(t,e,n){return{type:({width:r,height:o,rotate:i,precision:a=.15,clip:f})=>{let s=t();return a!=null&&s.precision?.(a),i!=null&&s.rotate?.(i),typeof f=="number"&&s.clipAngle?.(f),r!=null&&(s.scale(Math.min(r/e,o/n)),s.translate([r/2,o/2])),s},aspectRatio:n/e}}function yd(t,e,n){let{type:r,aspectRatio:o}=An(t,e,n);return{type:i=>{let{parallels:a,domain:f,width:s,height:u}=i,c=r(i);return a!=null&&(c.parallels(a),f===void 0&&s!=null&&c.fitSize([s,u],{type:"Sphere"})),c},aspectRatio:o}}var j_=Wt({stream:t=>t}),QT=Wt(ua({point(t,e){this.stream.point(t,-e)}}));function hg(t,e,n,r){let o=n[t],i=n[e],a=o.length,f=n[t]=new Float64Array(a).fill(NaN),s=n[e]=new Float64Array(a).fill(NaN),u,c=r.stream({point(h,l){f[u]=h,s[u]=l}});for(u=0;u<a;++u)c.point(o[u],i[u])}function V_({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(re(t)&&(t=t.type),t!=null)}function Z_(t){if(typeof t?.stream=="function")return cg;if(re(t)){let e,n;if({domain:e,type:t,...n}=t,e!=null&&t!=null){let r=typeof t=="string"?lg(t).type:t,[[o,i],[a,f]]=ke(r({...n,width:100,height:100})).bounds(e),s=(f-i)/(a-o);return s&&isFinite(s)?s<.2?.2:s>5?5:s:cg}}if(t!=null){if(typeof t!="function"){let{aspectRatio:e}=lg(t);if(e)return e}return cg}}function ir(t,e,{projection:n}){let{x:r,y:o}=t,i={};return r&&(i.x=r),o&&(i.y=o),i=_o(i,e),n&&r?.scale==="x"&&o?.scale==="y"&&hg("x","y",i,n),r&&(i.x=ne(i.x)),o&&(i.y=ne(i.y)),i}function K_(t){let e=[],n=[],r={scale:"x",value:e},o={scale:"y",value:n},i={point(a,f){e.push(a),n.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(let a of t.value)Ze(a,i);return[r,o]}function Q_({x:t,y:e}){if(t||e)return t??=n=>n,e??=n=>n,ua({point(n,r){this.stream.point(t(n),e(r))}})}function So(t={}){let{document:e=typeof window<"u"?window.document:void 0,clip:n}=t;return{document:e,clip:Kh(n)}}function K(t,{document:e}){return Pe(mr(t).call(e.documentElement))}var xd=Symbol("unset");function To(t){return(t.length===1?JT:tk)(t)}function JT(t){let e,n=xd;return r=>(Object.is(n,r)||(n=r,e=t(r)),e)}function tk(t){let e,n;return(...r)=>((n?.length!==r.length||n.some((o,i)=>!Object.is(o,r[i])))&&(n=r,e=t(...r)),e)}var ek=To(t=>new Intl.NumberFormat(t)),nk=To((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{month:e}})),rk=To((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{weekday:e}}));function J_(t="en-US"){let e=ek(t);return n=>n!=null&&!isNaN(n)?e.format(n):void 0}function ok(t="en-US",e="short"){let n=nk(t,e);return r=>r!=null&&!isNaN(r=+new Date(Date.UTC(2e3,+r)))?n.format(r):void 0}function ik(t="en-US",e="short"){let n=rk(t,e);return r=>r!=null&&!isNaN(r=+new Date(Date.UTC(2001,0,+r)))?n.format(r):void 0}function t3(t){return Bh(t,"Invalid Date")}function ak(t="en-US"){let e=J_(t);return n=>(n instanceof Date?t3:typeof n=="number"?e:Ut)(n)}var ar=ak();var Gt=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5,fk=0,sk=0;function bd(){return`plot-clip-${++fk}`}function n3(){return`plot-pattern-${++sk}`}function wd(t,{title:e,href:n,ariaLabel:r,ariaDescription:o,ariaHidden:i,target:a,fill:f,fillOpacity:s,stroke:u,strokeWidth:c,strokeOpacity:h,strokeLinejoin:l,strokeLinecap:d,strokeMiterlimit:p,strokeDasharray:m,strokeDashoffset:x,opacity:y,mixBlendMode:g,imageFilter:w,paintOrder:b,pointerEvents:_,shapeRendering:v,channels:M},{ariaLabel:k,fill:S="currentColor",fillOpacity:A,stroke:T="none",strokeOpacity:$,strokeWidth:I,strokeLinecap:E,strokeLinejoin:C,strokeMiterlimit:N,paintOrder:R}){S===null&&(f=null,s=null),T===null&&(u=null,h=null),Tt(S)?!Tt(T)&&(!Tt(f)||M?.fill)&&(T="none"):Tt(T)&&(!Tt(u)||M?.stroke)&&(S="none");let[z,D]=Bt(f,S),[Y,q]=kt(s,A),[W,X]=Bt(u,T),[at,st]=kt(h,$),[lt,G]=kt(y);Lr(X)||(c===void 0&&(c=I),d===void 0&&(d=E),l===void 0&&(l=C),p===void 0&&!Iv(l)&&(p=N),!Lr(D)&&b===void 0&&(b=R));let[ft,L]=kt(c);return S!==null&&(t.fill=Dt(D,"currentColor"),t.fillOpacity=lu(q,1)),T!==null&&(t.stroke=Dt(X,"none"),t.strokeWidth=lu(L,1),t.strokeOpacity=lu(st,1),t.strokeLinejoin=Dt(l,"miter"),t.strokeLinecap=Dt(d,"butt"),t.strokeMiterlimit=lu(p,4),t.strokeDasharray=Dt(m,"none"),t.strokeDashoffset=Dt(x,"0")),t.target=Ut(a),t.ariaLabel=Ut(k),t.ariaDescription=Ut(o),t.ariaHidden=Ut(i),t.opacity=lu(G,1),t.mixBlendMode=Dt(g,"normal"),t.imageFilter=Dt(w,"none"),t.paintOrder=Dt(b,"normal"),t.pointerEvents=Dt(_,"auto"),t.shapeRendering=Dt(v,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:z,scale:"auto",optional:!0},fillOpacity:{value:Y,scale:"auto",optional:!0},stroke:{value:W,scale:"auto",optional:!0},strokeOpacity:{value:at,scale:"auto",optional:!0},strokeWidth:{value:ft,optional:!0},opacity:{value:lt,scale:"auto",optional:!0}}}function uk(t,e){e&&t.filter(n=>Qs(e[n])).append("title").call(lk,e)}function ck(t,e){e&&t.filter(([n])=>Qs(e[n])).append("title").call(hk,e)}function lk(t,e){e&&t.text(n=>ar(e[n]))}function hk(t,e){e&&t.text(([n])=>ar(e[n]))}function dt(t,{target:e,tip:n},{ariaLabel:r,title:o,fill:i,fillOpacity:a,stroke:f,strokeOpacity:s,strokeWidth:u,opacity:c,href:h}){r&&Q(t,"aria-label",l=>r[l]),i&&Q(t,"fill",l=>i[l]),a&&Q(t,"fill-opacity",l=>a[l]),f&&Q(t,"stroke",l=>f[l]),s&&Q(t,"stroke-opacity",l=>s[l]),u&&Q(t,"stroke-width",l=>u[l]),c&&Q(t,"opacity",l=>c[l]),h&&r3(t,l=>h[l],e),n||uk(t,o)}function vi(t,{target:e,tip:n},{ariaLabel:r,title:o,fill:i,fillOpacity:a,stroke:f,strokeOpacity:s,strokeWidth:u,opacity:c,href:h}){r&&Q(t,"aria-label",([l])=>r[l]),i&&Q(t,"fill",([l])=>i[l]),a&&Q(t,"fill-opacity",([l])=>a[l]),f&&Q(t,"stroke",([l])=>f[l]),s&&Q(t,"stroke-opacity",([l])=>s[l]),u&&Q(t,"stroke-width",([l])=>u[l]),c&&Q(t,"opacity",([l])=>c[l]),h&&r3(t,([l])=>h[l],e),n||ck(t,o)}function dk({ariaLabel:t,title:e,fill:n,fillOpacity:r,stroke:o,strokeOpacity:i,strokeWidth:a,opacity:f,href:s},{tip:u}){return[t,u?void 0:e,n,r,o,i,a,f,s].filter(c=>c!==void 0)}function hu(t,e,n){let r=ge(t,o=>e[o]);return n===void 0&&r.size>1+t.length>>1&&Ee("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*vd(t,e,n,r){let{z:o}=n,{z:i}=r,a=dk(r,n),f=[...e,...a];for(let s of i?hu(t,i,o):[t]){let u,c;t:for(let h of s){for(let l of f)if(!Yt(l[h])){c&&c.push(-1);continue t}if(u===void 0){c&&(yield c),u=a.map(l=>mn(l[h])),c=[h];continue}c.push(h);for(let l=0;l<a.length;++l)if(mn(a[l][h])!==u[l]){yield c,u=a.map(p=>mn(p[h])),c=[h];continue t}}c&&(yield c)}}function pk(t,e,n,r){let o,{clip:i=r.clip}=e;i==="frame"?(t=K("svg:g",r).each(function(){this.appendChild(t.node()),t.node=()=>this}),o=gk(r,n)):i&&(o=xk(i,r)),Q(t,"aria-label",e.ariaLabel),Q(t,"aria-description",e.ariaDescription),Q(t,"aria-hidden",e.ariaHidden),Q(t,"clip-path",o)}function mk(t){let e=new WeakMap;return(n,r)=>{let o=e.get(n);if(!o){let i=bd();Pe(n.ownerSVGElement).append("clipPath").attr("id",i).call(t,n,r),e.set(n,o=`url(#${i})`)}return o}}var gk=mk((t,e,n)=>{let{width:r,height:o,marginLeft:i,marginRight:a,marginTop:f,marginBottom:s}=n;t.append("rect").attr("x",i).attr("y",f).attr("width",r-a-i).attr("height",o-f-s)}),e3=new WeakMap,yk={type:"Sphere"};function xk(t,e){let n,r;if((n=e3.get(e))||e3.set(e,n=new WeakMap),t.type==="Sphere"&&(t=yk),!(r=n.get(t))){let o=bd();Pe(e.ownerSVGElement).append("clipPath").attr("id",o).append("path").attr("d",e.path()(t)),n.set(t,r=`url(#${o})`)}return r}function ct(t,e,n,r){pk(t,e,n,r),Q(t,"class",e.className),Q(t,"fill",e.fill),Q(t,"fill-opacity",e.fillOpacity),Q(t,"stroke",e.stroke),Q(t,"stroke-width",e.strokeWidth),Q(t,"stroke-opacity",e.strokeOpacity),Q(t,"stroke-linejoin",e.strokeLinejoin),Q(t,"stroke-linecap",e.strokeLinecap),Q(t,"stroke-miterlimit",e.strokeMiterlimit),Q(t,"stroke-dasharray",e.strokeDasharray),Q(t,"stroke-dashoffset",e.strokeDashoffset),Q(t,"shape-rendering",e.shapeRendering),Q(t,"filter",e.imageFilter),Q(t,"paint-order",e.paintOrder);let{pointerEvents:o=r.pointerSticky===!1?"none":void 0}=e;Q(t,"pointer-events",o)}function rt(t,e){bk(t,"mix-blend-mode",e.mixBlendMode),Q(t,"opacity",e.opacity)}function r3(t,e,n){t.each(function(r){let o=e(r);if(o!=null){let i=this.ownerDocument.createElementNS(De.svg,"a");i.setAttribute("fill","inherit"),i.setAttributeNS(De.xlink,"href",o),n!=null&&i.setAttribute("target",n),this.parentNode.insertBefore(i,this).appendChild(this)}})}function Q(t,e,n){n!=null&&t.attr(e,n)}function bk(t,e,n){n!=null&&t.style(e,n)}function ot(t,e,{x:n,y:r},o=Gt,i=Gt){o+=e.dx,i+=e.dy,n?.bandwidth&&(o+=n.bandwidth()/2),r?.bandwidth&&(i+=r.bandwidth()/2),(o||i)&&t.attr("transform",`translate(${o},${i})`)}function Dt(t,e){if((t=Ut(t))!==e)return t}function lu(t,e){if((t=wt(t))!==e)return t}var wk=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Xa(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!wk.test(t))throw new Error(`invalid class name: ${t}`);return t}function Ua(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(let n of t)Object.assign(n.style,e)}function pe({frameAnchor:t},{width:e,height:n,marginTop:r,marginRight:o,marginBottom:i,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?e-o:(a+e-o)/2,/^top/.test(t)?r:/^bottom/.test(t)?n-i:(r+n-i)/2]}var nt=class{constructor(e,n={},r={},o){let{facet:i="auto",facetAnchor:a,fx:f,fy:s,sort:u,dx:c=0,dy:h=0,margin:l=0,marginTop:d=l,marginRight:p=l,marginBottom:m=l,marginLeft:x=l,className:y,clip:g=o?.clip,channels:w,tip:b,render:_}=r;if(this.data=e,this.sort=Jn(u)?u:null,this.initializer=It(r).initializer,this.transform=this.initializer?r.transform:fe(r).transform,i===null||i===!1?this.facet=null:(this.facet=ae(i===!0?"include":i,"facet",["auto","include","exclude","super"]),this.fx=e===go&&typeof f=="string"?[f]:f,this.fy=e===go&&typeof s=="string"?[s]:s),this.facetAnchor=W_(a),n=ou(n),w!==void 0&&(n={...vk(w),...n}),o!==void 0&&(n={...wd(this,r,o),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([v,M])=>{if(Je(M.value)){let{value:k,label:S=M.label,scale:A=M.scale}=M.value;M={...M,label:S,scale:A,value:k}}if(e===go&&typeof M.value=="string"){let{value:k}=M;M={...M,value:[k]}}return[v,M]}).filter(([v,{value:M,optional:k}])=>{if(M!=null)return!0;if(k)return!1;throw new Error(`missing channel value: ${v}`)})),this.dx=+c,this.dy=+h,this.marginTop=+d,this.marginRight=+p,this.marginBottom=+m,this.marginLeft=+x,this.clip=Kh(g),this.tip=_k(b),this.className=Ut(y),this.facet==="super"){if(f||s)throw new Error("super-faceting cannot use fx or fy");for(let v in this.channels){let{scale:M}=n[v];if(!(M!=="x"&&M!=="y"))throw new Error("super-faceting cannot use x or y")}}_!=null&&(this.render=ko(_,this.render))}initialize(e,n,r){let o=Ir(this.data);e===void 0&&o!=null&&(e=[We(o)]);let i=e;this.transform!=null&&({facets:e,data:o}=this.transform(o,e,r),o=Ir(o)),e!==void 0&&(e.original=i);let a=ad(this.channels,o);return this.sort!=null&&jv(o,e,a,n,this.sort),{data:o,facets:e,channels:a}}filter(e,n,r){for(let o in n){let{filter:i=Yt}=n[o];if(i!==null){let a=r[o];e=e.filter(f=>i(a[f]))}}return e}project(e,n,r){for(let o in e)if(e[o].scale==="x"&&/^x|x$/.test(o)){let i=o.replace(/^x|x$/,"y");i in e&&e[i].scale==="y"&&hg(o,i,n,r.projection)}}scale(e,n,r){let o=_o(e,n);return r.projection&&this.project(e,o,r),o}};function se(...t){return t.plot=nt.prototype.plot,t}function ko(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(n,r,o,i,a,f){return t.call(this,n,r,o,i,a,(s,u,c,h,l)=>e.call(this,s,u,c,h,l,f))}}function vk(t){return Object.fromEntries(Object.entries(ou(t)).map(([e,n])=>(n=typeof n=="string"?{value:n,label:e}:gn(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[e,n])))}function _k(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?ae(t,"tip",["x","y","xy"]):t}function Cn(t,e){return t?.tip===!0?{...t,tip:e}:re(t?.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:e}}:t}function i3(t,e,n={}){let r=.5-Gt,o=.5+Gt,i=.5+Gt,a=.5-Gt;for(let{marginTop:m,marginRight:x,marginBottom:y,marginLeft:g}of e)m>r&&(r=m),x>o&&(o=x),y>i&&(i=y),g>a&&(a=g);let{margin:f,marginTop:s=f!==void 0?f:r,marginRight:u=f!==void 0?f:o,marginBottom:c=f!==void 0?f:i,marginLeft:h=f!==void 0?f:a}=n;s=+s,u=+u,c=+c,h=+h;let{width:l=640,height:d=Mk(t,n,{width:l,marginTopDefault:r,marginRightDefault:o,marginBottomDefault:i,marginLeftDefault:a})+Math.max(0,s-r+c-i)}=n;l=+l,d=+d;let p={width:l,height:d,marginTop:s,marginRight:u,marginBottom:c,marginLeft:h};if(t.fx||t.fy){let{margin:m,marginTop:x=m!==void 0?m:s,marginRight:y=m!==void 0?m:u,marginBottom:g=m!==void 0?m:c,marginLeft:w=m!==void 0?m:h}=n.facet??{};x=+x,y=+y,g=+g,w=+w,p.facet={marginTop:x,marginRight:y,marginBottom:g,marginLeft:w}}return p}function Mk({x:t,y:e,fy:n,fx:r},{projection:o,aspectRatio:i},{width:a,marginTopDefault:f,marginRightDefault:s,marginBottomDefault:u,marginLeftDefault:c}){let h=n&&n.scale.domain().length||1,l=Z_(o);if(l){let p=r?r.scale.domain().length:1,m=(1.1*h-.1)/(1.1*p-.1)*l,x=Math.max(.1,Math.min(10,m));return Math.round((a-c-s)*x+f+u)}let d=e?or(e)?e.scale.domain().length||1:Math.max(7,17/h):1;if(i!=null){if(i=+i,!(isFinite(i)&&i>0))throw new Error(`invalid aspectRatio: ${i}`);let p=o3("y",e)/(o3("x",t)*i),m=r?r.scale.bandwidth():1,x=n?n.scale.bandwidth():1,y=m*(a-c-s)-t.insetLeft-t.insetRight;return(p*y+e.insetTop+e.insetBottom)/x+f+u}return!!(e||n)*Math.max(1,Math.min(60,d*h))*20+!!r*30+60}function o3(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);let{type:n,domain:r}=e,o;switch(n){case"linear":case"utc":case"time":o=Number;break;case"pow":{let f=e.scale.exponent();o=s=>Math.pow(s,f);break}case"log":o=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${n}`)}let[i,a]=_t(r);return Math.abs(o(a)-o(i))}var a3=new WeakMap;function dg(t,e,{x:n,y:r,px:o,py:i,maxRadius:a=40,channels:f,render:s,...u}={}){return a=+a,o!=null&&(n??=null,f={...f,px:{value:o,scale:"x"}}),i!=null&&(r??=null,f={...f,py:{value:i,scale:"y"}}),{x:n,y:r,channels:f,...u,render:ko(function(c,h,l,d,p,m){p={...p,pointerSticky:!1};let x=p.ownerSVGElement,{data:y}=p.getMarkState(this),g=a3.get(x);g||a3.set(x,g={sticky:!1,roots:[],renders:[]});let w=g.renders.push(X)-1,{x:b,y:_,fx:v,fy:M}=h,k=v?v(c.fx)-d.marginLeft:0,S=M?M(c.fy)-d.marginTop:0;b?.bandwidth&&(k+=b.bandwidth()/2),_?.bandwidth&&(S+=_.bandwidth()/2);let A=c.fi!=null,T;if(A){let G=g.facetStates;G||(g.facetStates=G=new Map),T=G.get(this),T||G.set(this,T=new Map)}let[$,I]=pe(this,d),{px:E,py:C}=l,N=E?G=>E[G]:pg(l,$),R=C?G=>C[G]:mg(l,I),z,D,Y,q;function W(G,ft){if(A)if(q&&(q=cancelAnimationFrame(q)),G==null)T.delete(c.fi);else{T.set(c.fi,ft),q=requestAnimationFrame(()=>{q=null;for(let[L,j]of T)if(j<ft||j===ft&&L<c.fi){G=null;break}X(G)});return}X(G)}function X(G){if(z===G&&Y===g.sticky)return;z=G,Y=p.pointerSticky=g.sticky;let ft=z==null?[]:[z];A&&(ft.fx=c.fx,ft.fy=c.fy,ft.fi=c.fi);let L=m(ft,h,l,d,p);if(D){if(A){let j=D.parentNode,Z=D.getAttribute("transform"),P=L.getAttribute("transform");Z?L.setAttribute("transform",Z):L.removeAttribute("transform"),P?j.setAttribute("transform",P):j.removeAttribute("transform"),L.removeAttribute("aria-label"),L.removeAttribute("aria-description"),L.removeAttribute("aria-hidden")}D.replaceWith(L)}if(g.roots[w]=D=L,!(z==null&&T?.size>1)){let j=z==null?null:je(y)?y[z]:y.get(z);p.dispatchValue(j)}return L}function at(G){if(g.sticky||G.pointerType==="mouse"&&G.buttons===1)return;let[ft,L]=Pp(G);ft-=k,L-=S;let j=ft<d.marginLeft||ft>d.width-d.marginRight?1:t,Z=L<d.marginTop||L>d.height-d.marginBottom?1:e,P=null,gt=a*a;for(let et of c){let xt=j*(N(et)-ft),vt=Z*(R(et)-L),Ot=xt*xt+vt*vt;Ot<=gt&&(P=et,gt=Ot)}if(P!=null&&(t!==1||e!==1)){let et=N(P)-ft,xt=R(P)-L;gt=et*et+xt*xt}W(P,gt)}function st(G){G.pointerType==="mouse"&&z!=null&&(g.sticky&&g.roots.some(ft=>ft?.contains(G.target))||(g.sticky?(g.sticky=!1,g.renders.forEach(ft=>ft(null))):(g.sticky=!0,X(z)),G.stopImmediatePropagation()))}function lt(G){G.pointerType==="mouse"&&(g.sticky||W(null))}return x.addEventListener("pointerenter",at),x.addEventListener("pointermove",at),x.addEventListener("pointerdown",st),x.addEventListener("pointerleave",lt),X(null)},s)}}function du(t){return dg(1,1,t)}function pu(t){return dg(1,.01,t)}function Wa(t){return dg(.01,1,t)}function pg({x1:t,x2:e,x:n=t},r){return t&&e?o=>(t[o]+e[o])/2:n?o=>n[o]:()=>r}function mg({y1:t,y2:e,y:n=t},r){return t&&e?o=>(t[o]+e[o])/2:n?o=>n[o]:()=>r}function _d(t){return or(t)&&t.interval===void 0?void 0:"tabular-nums"}function f3(t,e){let{label:n=t.label,tickSize:r=6,width:o=240,height:i=44+r,marginTop:a=18,marginRight:f=0,marginBottom:s=16+r,marginLeft:u=0,style:c,ticks:h=(o-u-f)/64,tickFormat:l,fontVariant:d=_d(t),round:p=!0,opacity:m,className:x}=e,y=So(e);x=Xa(x),m=kt(m)[1],l===null&&(l=()=>null);let g=K("svg",y).attr("class",`${x}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",o).attr("height",i).attr("viewBox",`0 0 ${o} ${i}`).call($=>$.append("style").text(`:where(.${x}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${x}-ramp text) {
  white-space: pre;
}`)).call(Ua,c),w=$=>$.selectAll(".tick line").attr("y1",a+s-i),b,_=p?($,I)=>$.rangeRound(I):($,I)=>$.range(I),{type:v,domain:M,range:k,interpolate:S,scale:A,pivot:T}=t;if(S){let $=k===void 0?S:On(S.length===1?uu(S):S,k);b=_(A.copy(),Se(Pt(u,o-f),Math.min(M.length+(T!==void 0),k===void 0?1/0:k.length)));let I=256,E=y.document.createElement("canvas");E.width=I,E.height=1;let C=E.getContext("2d");for(let N=0,R=I-1;N<I;++N)C.fillStyle=$(N/R),C.fillRect(N,0,1,1);g.append("image").attr("opacity",m).attr("x",u).attr("y",a).attr("width",o-u-f).attr("height",i-a-s).attr("preserveAspectRatio","none").attr("xlink:href",E.toDataURL())}else if(v==="threshold"){let $=M,I=l===void 0?E=>E:typeof l=="string"?sn(l):l;b=_(oi().domain([-1,k.length-1]),[u,o-f]),g.append("g").attr("fill-opacity",m).selectAll().data(k).enter().append("rect").attr("x",(E,C)=>b(C-1)).attr("y",a).attr("width",(E,C)=>b(C)-b(C-1)).attr("height",i-a-s).attr("fill",E=>E),h=mt($,(E,C)=>C),l=E=>I($[E],E)}else b=_(fo().domain(M),[u,o-f]),g.append("g").attr("fill-opacity",m).selectAll().data(M).enter().append("rect").attr("x",b).attr("y",a).attr("width",Math.max(0,b.bandwidth()-1)).attr("height",i-a-s).attr("fill",A),w=()=>{};return g.append("g").attr("transform",`translate(0,${i-s})`).call(Ep(b).ticks(Array.isArray(h)?null:h,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(h)?h:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Dt(d,"normal")).call(w).call($=>$.select(".domain").remove()),n!==void 0&&g.append("text").attr("x",u).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),g.node()}var Ga=Math.PI/180;function $n(t,{marker:e,markerStart:n=e,markerMid:r=e,markerEnd:o=e}={}){t.markerStart=gg(n),t.markerMid=gg(r),t.markerEnd=gg(o)}function gg(t){if(t==null||t===!1)return null;if(t===!0)return u3;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return s3("auto");case"arrow-reverse":return s3("auto-start-reverse");case"dot":return Sk;case"circle":case"circle-fill":return u3;case"circle-stroke":return Tk;case"tick":return yg("auto");case"tick-x":return yg(90);case"tick-y":return yg(0)}throw new Error(`invalid marker: ${t}`)}function s3(t){return(e,n)=>K("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function Sk(t,e){return K("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function u3(t,e){return K("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function Tk(t,e){return K("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function yg(t){return(e,n)=>K("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",e).call(r=>r.append("path").attr("d","M0,-3v6")).node()}var kk=0;function qr(t,e,{stroke:n},r){return h3(t,e,n&&(o=>n[o]),null,r)}function c3(t,e,{stroke:n,z:r},o){return h3(t,e,n&&(([i])=>n[i]),r,o)}var xg=1,l3=2;function Ak(t,e){let n=new Uint8Array(e.length),r=t.data().filter(i=>i.length>1),o=r.length;for(let i=0,a=xd;i<o;++i){let f=r[i];if(f.length>1){let s=f[0];a!==(a=mn(e[s]))&&(n[s]|=xg)}}for(let i=o-1,a=xd;i>=0;--i){let f=r[i];if(f.length>1){let s=f[0];a!==(a=mn(e[s]))&&(n[s]|=l3)}}return([i])=>n[i]}function h3(t,{markerStart:e,markerMid:n,markerEnd:r,stroke:o},i=()=>o,a,f){if(!e&&!n&&!r)return;let s=new Map,u=a&&Ak(t,a);function c(h,l,d){return function(p){if(d&&!d(p))return;let m=i(p),x=s.get(l);x||s.set(l,x=new Map);let y=x.get(m);if(!y){let g=this.parentNode.insertBefore(l(m,f),this),w=`plot-marker-${++kk}`;g.setAttribute("id",w),x.set(m,y=`url(#${w})`)}this.setAttribute(h,y)}}e&&t.each(c("marker-start",e,u&&(h=>u(h)&xg))),n&&u&&t.each(c("marker-start",n,h=>!(u(h)&xg))),n&&t.each(c("marker-mid",n)),r&&t.each(c("marker-end",r,u&&(h=>u(h)&l3)))}function _i({inset:t,insetLeft:e,insetRight:n,...r}={}){return[e,n]=d3(t,e,n),{inset:t,insetLeft:e,insetRight:n,...r}}function Mi({inset:t,insetTop:e,insetBottom:n,...r}={}){return[e,n]=d3(t,e,n),{inset:t,insetTop:e,insetBottom:n,...r}}function d3(t,e,n){return t===void 0&&e===void 0&&n===void 0?Gt?[1,0]:[.5,.5]:[e,n]}function p3(t,{interval:e}){return t={...gn(t)},t.interval=Ra(t.interval===void 0?e:t.interval),t}function Md(t,e,n,r){let{[t]:o,[`${t}1`]:i,[`${t}2`]:a}=n,{value:f,interval:s}=p3(o,n);if(f==null||s==null&&!r)return n;let u=Me(o);if(s==null){let d,p={transform:m=>d||(d=tt(m,f)),label:u};return{...n,[t]:void 0,[`${t}1`]:i===void 0?p:i,[`${t}2`]:a===void 0&&!(i===a&&r)?p:a}}let c,h;function l(d){return h!==void 0&&d===c?h:h=mt(tt(c=d,f),p=>s.floor(p))}return e({...n,[t]:void 0,[`${t}1`]:i===void 0?{transform:l,label:u}:i,[`${t}2`]:a===void 0?{transform:d=>l(d).map(p=>s.offset(p)),label:u}:a})}function m3(t,e,n){let{[t]:r}=n,{value:o,interval:i}=p3(r,n);return o==null||i==null?n:e({...n,[t]:{label:Me(r),transform:a=>{let f=mt(tt(a,o),u=>i.floor(u)),s=f.map(u=>i.offset(u));return f.map(Xt(f)?(u,c)=>u==null||isNaN(u=+u)||(c=s[c],c==null)||isNaN(c=+c)?void 0:new Date((u+c)/2):(u,c)=>u==null||(c=s[c],c==null)?NaN:(+u+ +c)/2)}}})}function bg(t={}){return Md("x",_i,t,!0)}function wg(t={}){return Md("y",Mi,t,!0)}function Ha(t={}){return Md("x",_i,t)}function ja(t={}){return Md("y",Mi,t)}function Sd(t={}){return m3("x",_i,t)}function Td(t={}){return m3("y",Mi,t)}var g3={ariaLabel:"rule",fill:null,stroke:"currentColor"},kd=class extends nt{constructor(e,n={}){let{x:r,y1:o,y2:i,inset:a=0,insetTop:f=a,insetBottom:s=a}=n;super(e,{x:{value:r,scale:"x",optional:!0},y1:{value:o,scale:"y",optional:!0},y2:{value:i,scale:"y",optional:!0}},Cn(n,"x"),g3),this.insetTop=wt(f),this.insetBottom=wt(s),$n(this,n)}render(e,n,r,o,i){let{x:a,y:f}=n,{x:s,y1:u,y2:c}=r,{width:h,height:l,marginTop:d,marginRight:p,marginLeft:m,marginBottom:x}=o,{insetTop:y,insetBottom:g}=this;return K("svg:g",i).call(ct,this,o,i).call(ot,this,{x:s&&a},Gt,0).call(w=>w.selectAll().data(e).enter().append("line").call(rt,this).attr("x1",s?b=>s[b]:(m+h-p)/2).attr("x2",s?b=>s[b]:(m+h-p)/2).attr("y1",u&&!en(f)?b=>u[b]+y:d+y).attr("y2",c&&!en(f)?f.bandwidth?b=>c[b]+f.bandwidth()-g:b=>c[b]-g:l-x-g).call(dt,this,r).call(qr,this,r,i)).node()}},Ad=class extends nt{constructor(e,n={}){let{x1:r,x2:o,y:i,inset:a=0,insetRight:f=a,insetLeft:s=a}=n;super(e,{y:{value:i,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:o,scale:"x",optional:!0}},Cn(n,"y"),g3),this.insetRight=wt(f),this.insetLeft=wt(s),$n(this,n)}render(e,n,r,o,i){let{x:a,y:f}=n,{y:s,x1:u,x2:c}=r,{width:h,height:l,marginTop:d,marginRight:p,marginLeft:m,marginBottom:x}=o,{insetLeft:y,insetRight:g}=this;return K("svg:g",i).call(ct,this,o,i).call(ot,this,{y:s&&f},0,Gt).call(w=>w.selectAll().data(e).enter().append("line").call(rt,this).attr("x1",u&&!en(a)?b=>u[b]+y:m+y).attr("x2",c&&!en(a)?a.bandwidth?b=>c[b]+a.bandwidth()-g:b=>c[b]-g:h-p-g).attr("y1",s?b=>s[b]:(d+l-x)/2).attr("y2",s?b=>s[b]:(d+l-x)/2).call(dt,this,r).call(qr,this,r,i)).node()}};function xn(t,e){let{x:n=B,y:r,y1:o,y2:i,...a}=ja(e);return[o,i]=y3(r,o,i),new kd(t,{...a,x:n,y1:o,y2:i})}function bn(t,e){let{y:n=B,x:r,x1:o,x2:i,...a}=Ha(e);return[o,i]=y3(r,o,i),new Ad(t,{...a,y:n,x1:o,x2:i})}function y3(t,e,n){if(t==null){if(e===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,e]}else{if(e===void 0)return n===void 0?[0,t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}function fr(t,...e){let n=e.length;for(let r=0,o=!0;r<n;++r)typeof e[r]!="function"&&(o&&(t=t.slice(),o=!1),t.splice(r,2,t[r]+e[r]+t[r+1]),e.splice(r,1),--r,--n);return r=>{let o=t[0];for(let i=0;i<n;++i)o+=e[i](r)+t[i+1];return o}}var Ck={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},_3="\xAD",Va=class extends nt{constructor(e,n={}){let{x:r,y:o,text:i=Ge(e)&&jh(e)?B:Ct,frameAnchor:a,textAnchor:f=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:s=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:u=1,lineWidth:c=1/0,textOverflow:h,monospace:l,fontFamily:d=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:x,fontWeight:y,rotate:g}=n,[w,b]=kt(g,0),[_,v]=Ik(p);if(super(e,{x:{value:r,scale:"x",optional:!0},y:{value:o,scale:"y",optional:!0},fontSize:{value:_,optional:!0},rotate:{value:Av(w),optional:!0},text:{value:i,filter:Qs,optional:!0}},n,Ck),this.rotate=b,this.textAnchor=Dt(f,"middle"),this.lineAnchor=ae(s,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+c,this.textOverflow=_g(h),this.monospace=!!l,this.fontFamily=Ut(d),this.fontSize=v,this.fontStyle=Ut(m),this.fontVariant=Ut(x),this.fontWeight=Ut(y),this.frameAnchor=er(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${c}`);this.splitLines=kg(this),this.clipLine=Ag(this)}render(e,n,r,o,i){let{x:a,y:f}=n,{x:s,y:u,rotate:c,text:h,title:l,fontSize:d}=r,{rotate:p}=this,[m,x]=pe(this,o);return K("svg:g",i).call(ct,this,o,i).call(Tg,this,h,o).call(ot,this,{x:s&&a,y:u&&f}).call(y=>y.selectAll().data(e).enter().append("text").call(rt,this).call($k,this,h,l).attr("transform",fr`translate(${s?g=>s[g]:m},${u?g=>u[g]:x})${c?g=>` rotate(${c[g]})`:p?` rotate(${p})`:""}`).call(Q,"font-size",d&&(g=>d[g])).call(dt,this,r)).node()}};function _g(t){return t==null?null:ae(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function $k(t,e,n,r){if(!n)return;let{lineAnchor:o,lineHeight:i,textOverflow:a,splitLines:f,clipLine:s}=e;t.each(function(u){let c=f(ar(n[u])??"").map(s),h=c.length,l=o==="top"?.71:o==="bottom"?1-h:(164-h*100)/200;if(h>1){let d=0;for(let p=0;p<h;++p){if(++d,!c[p])continue;let m=this.ownerDocument.createElementNS(De.svg,"tspan");m.setAttribute("x",0),p===d-1?m.setAttribute("y",`${(l+p)*i}em`):m.setAttribute("dy",`${d*i}em`),m.textContent=c[p],this.appendChild(m),d=0}}else l&&this.setAttribute("y",`${l*i}em`),this.textContent=c[0];if(a&&!r&&c[0]!==n[u]){let d=this.ownerDocument.createElementNS(De.svg,"title");d.textContent=n[u],this.appendChild(d)}})}function Br(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=Vt(e,n)),new Va(t,{...r,x:e,y:n})}function Mg(t,{x:e=B,...n}={}){return new Va(t,Td({...n,x:e}))}function Sg(t,{y:e=B,...n}={}){return new Va(t,Sd({...n,y:e}))}function Tg(t,e,n){Q(t,"text-anchor",e.textAnchor),Q(t,"font-family",e.fontFamily),Q(t,"font-size",e.fontSize),Q(t,"font-style",e.fontStyle),Q(t,"font-variant",e.fontVariant===void 0?Ek(n):e.fontVariant),Q(t,"font-weight",e.fontWeight)}function Ek(t){return t&&(Pr(t)||Xt(t))?"tabular-nums":void 0}var Nk=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function Ik(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),Nk.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function Rk(t,e,n){let r=[],o,i=0;for(let[a,f,s]of Dk(t)){if(o===void 0&&(o=a),i>o&&n(t,o,f)>e&&(r.push(t.slice(o,i)+(t[i-1]===_3?"-":"")),o=a),s){r.push(t.slice(o,f)),o=void 0;continue}i=f}return r}function*Dk(t){let e=0,n=0,r=t.length;for(;n<r;){let o=1;switch(t[n]){case _3:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];t[++n]===" ";);e=n;break;case"\r":t[n+1]===`
`&&++o;case`
`:yield[e,n,!0],n+=o,e=n;break;default:++n;break}}yield[e,n,!0]}var x3={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"\u2018":31,"\u2019":31,"\u201C":47,"\u201D":47,"\u2026":82};function Cd(t,e=0,n=t.length){let r=0;for(let o=e;o<n;o=Za(t,o))r+=x3[t[o]]??(S3(t,o)?120:x3.e);return r}function $d(t,e=0,n=t.length){let r=0;for(let o=e;o<n;o=Za(t,o))r+=S3(t,o)?126:63;return r}function kg({monospace:t,lineWidth:e,textOverflow:n}){if(n!=null||e==1/0)return i=>i.split(/\r\n?|\n/g);let r=t?$d:Cd,o=e*100;return i=>Rk(i,o,r)}function Ag({monospace:t,lineWidth:e,textOverflow:n}){if(n==null||e==1/0)return i=>i;let r=t?$d:Cd,o=e*100;switch(n){case"clip-start":return i=>w3(i,o,r,"");case"clip-end":return i=>b3(i,o,r,"");case"ellipsis-start":return i=>w3(i,o,r,Si);case"ellipsis-middle":return i=>Pk(i,o,r,Si);case"ellipsis-end":return i=>b3(i,o,r,Si)}}var Si="\u2026";function Ti(t,e,n,r){let o=[],i=0;for(let a=0,f=0,s=t.length;a<s;a=f){f=Za(t,a);let u=n(t,a,f);if(i+u>e){for(i+=r;i>e&&a>0;)f=a,a=o.pop(),i-=n(t,a,f);return[a,e-i]}i+=u,o.push(a)}return[-1,0]}function b3(t,e,n,r){t=t.trim();let o=n(r),[i]=Ti(t,e,n,o);return i<0?t:t.slice(0,i).trimEnd()+r}function Pk(t,e,n,r){t=t.trim();let o=n(t);if(o<=e)return t;let i=n(r)/2,[a,f]=Ti(t,e/2,n,i),[s]=Ti(t,o-e/2-f+i,n,-i);return s<0?r:t.slice(0,a).trimEnd()+r+t.slice(Za(t,s)).trimStart()}function w3(t,e,n,r){t=t.trim();let o=n(t);if(o<=e)return t;let i=n(r),[a]=Ti(t,o-e+i,n,-i);return a<0?r:r+t.slice(Za(t,a)).trimStart()}var vg=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,v3=/\p{Extended_Pictographic}/uy;function Za(t,e){return e+=Lk(t,e)?2:1,zk(t,e)&&(e=vg.lastIndex),Ok(t,e)?Za(t,e+1):e}function M3(t,e){return t.charCodeAt(e)<128}function Lk(t,e){let n=t.charCodeAt(e);if(n>=55296&&n<56320){let r=t.charCodeAt(e+1);return r>=56320&&r<57344}return!1}function Ok(t,e){return t.charCodeAt(e)===8205}function zk(t,e){return M3(t,e)?!1:(vg.lastIndex=e,vg.test(t))}function S3(t,e){return M3(t,e)?!1:(v3.lastIndex=e,v3.test(t))}var T3={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},k3=3.5,Fk=k3*5,A3={draw(t,e,n){let r=e*n/Fk;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-r,r-e),t.lineTo(0,-e),t.lineTo(r,r-e)}},C3={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},Yk=new Map([["arrow",A3],["spike",C3]]);function qk(t){return t&&typeof t.draw=="function"}function Bk(t){if(qk(t))return t;let e=Yk.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}var Ka=class extends nt{constructor(e,n={}){let{x:r,y:o,r:i=k3,length:a,rotate:f,shape:s=A3,anchor:u="middle",frameAnchor:c}=n,[h,l]=kt(a,12),[d,p]=kt(f,0);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:o,scale:"y",optional:!0},length:{value:h,scale:"length",optional:!0},rotate:{value:d,optional:!0}},n,T3),this.r=+i,this.length=l,this.rotate=p,this.shape=Bk(s),this.anchor=ae(u,"anchor",["start","middle","end"]),this.frameAnchor=er(c)}render(e,n,r,o,i){let{x:a,y:f}=n,{x:s,y:u,length:c,rotate:h}=r,{length:l,rotate:d,anchor:p,shape:m,r:x}=this,[y,g]=pe(this,o);return K("svg:g",i).call(ct,this,o,i).call(ot,this,{x:s&&a,y:u&&f}).call(w=>w.selectAll().data(e).enter().append("path").call(rt,this).attr("transform",fr`translate(${s?b=>s[b]:y},${u?b=>u[b]:g})${h?b=>` rotate(${h[b]})`:d?` rotate(${d})`:""}${p==="start"?"":p==="end"?c?b=>` translate(0,${c[b]})`:` translate(0,${l})`:c?b=>` translate(0,${c[b]/2})`:` translate(0,${l/2})`}`).attr("d",c?b=>{let _=Fe();return m.draw(_,c[b],x),_}:(()=>{let b=Fe();return m.draw(b,l,x),b})()).call(dt,this,r)).node()}};function $3(t,e={}){let{x:n,y:r,...o}=e;return e.frameAnchor===void 0&&([n,r]=Vt(n,r)),new Ka(t,{...o,x:n,y:r})}function Cg(t,e={}){let{x:n=B,...r}=e;return new Ka(t,{...r,x:n})}function $g(t,e={}){let{y:n=B,...r}=e;return new Ka(t,{...r,y:n})}function Xk(t,e={}){let{shape:n=C3,stroke:r=T3.stroke,strokeWidth:o=1,fill:i=r,fillOpacity:a=.3,anchor:f="start",...s}=e;return $3(t,{...s,shape:n,stroke:r,strokeWidth:o,fill:i,fillOpacity:a,anchor:f})}function Ao(t,e){return arguments.length<2&&!Ge(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function Ed({anchor:t}={},e){return t===void 0?e[0]:ae(t,"anchor",e)}function E3(t){return Ed(t,["left","right"])}function N3(t){return Ed(t,["right","left"])}function I3(t){return Ed(t,["bottom","top"])}function R3(t){return Ed(t,["top","bottom"])}function Nd(){let[t,e]=Ao(...arguments);return D3("y",E3(e),t,e)}function Ng(){let[t,e]=Ao(...arguments);return D3("fy",N3(e),t,e)}function Id(){let[t,e]=Ao(...arguments);return P3("x",I3(e),t,e)}function Ig(){let[t,e]=Ao(...arguments);return P3("fx",R3(e),t,e)}function D3(t,e,n,{color:r="currentColor",opacity:o=1,stroke:i=r,strokeOpacity:a=o,strokeWidth:f=1,fill:s=r,fillOpacity:u=o,textAnchor:c,textStroke:h,textStrokeOpacity:l,textStrokeWidth:d,tickSize:p=t==="y"?6:0,tickPadding:m,tickRotate:x,x:y,margin:g,marginTop:w=g===void 0?20:g,marginRight:b=g===void 0?e==="right"?40:0:g,marginBottom:_=g===void 0?20:g,marginLeft:v=g===void 0?e==="left"?40:0:g,label:M,labelAnchor:k,labelArrow:S,labelOffset:A,ariaLabel:T=`${t}-axis`,...$}){return p=wt(p),m=wt(m),x=wt(x),k!==void 0&&(k=ae(k,"labelAnchor",["center","top","bottom"])),S=X3(S),se(p&&!Tt(i)?Uk(t,e,n,{stroke:i,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:x,x:y,ariaLabel:T,...$}):null,Tt(s)?null:Gk(t,e,n,{fill:s,fillOpacity:u,stroke:h,strokeOpacity:l,strokeWidth:d,textAnchor:c,tickSize:p,tickPadding:m,tickRotate:x,x:y,marginTop:w,marginRight:b,marginBottom:_,marginLeft:v,ariaLabel:T,...$}),!Tt(s)&&M!==null?Br([],F3({fill:s,fillOpacity:u,...$},function(I,E,C,N,R){let z=N[t],{marginTop:D,marginRight:Y,marginBottom:q,marginLeft:W}=t==="y"&&R.inset||R,X=k??(z.bandwidth?"center":"top"),at=A??(e==="right"?Y:W)-3;return X==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=X,this.frameAnchor=`${X}-${e}`,this.rotate=0),this.dy=X==="top"?3-D:X==="bottom"?q-3:0,this.dx=e==="right"?at:-at,this.ariaLabel=`${T} label`,{facets:[[0]],channels:{text:{value:[B3(t,z,{anchor:e,label:M,labelAnchor:X,labelArrow:S})]}}}})):null)}function P3(t,e,n,{color:r="currentColor",opacity:o=1,stroke:i=r,strokeOpacity:a=o,strokeWidth:f=1,fill:s=r,fillOpacity:u=o,textAnchor:c,textStroke:h,textStrokeOpacity:l,textStrokeWidth:d,tickSize:p=t==="x"?6:0,tickPadding:m,tickRotate:x,y,margin:g,marginTop:w=g===void 0?e==="top"?30:0:g,marginRight:b=g===void 0?20:g,marginBottom:_=g===void 0?e==="bottom"?30:0:g,marginLeft:v=g===void 0?20:g,label:M,labelAnchor:k,labelArrow:S,labelOffset:A,ariaLabel:T=`${t}-axis`,...$}){return p=wt(p),m=wt(m),x=wt(x),k!==void 0&&(k=ae(k,"labelAnchor",["center","left","right"])),S=X3(S),se(p&&!Tt(i)?Wk(t,e,n,{stroke:i,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:x,y,ariaLabel:T,...$}):null,Tt(s)?null:Hk(t,e,n,{fill:s,fillOpacity:u,stroke:h,strokeOpacity:l,strokeWidth:d,textAnchor:c,tickSize:p,tickPadding:m,tickRotate:x,y,marginTop:w,marginRight:b,marginBottom:_,marginLeft:v,ariaLabel:T,...$}),!Tt(s)&&M!==null?Br([],F3({fill:s,fillOpacity:u,...$},function(I,E,C,N,R){let z=N[t],{marginTop:D,marginRight:Y,marginBottom:q,marginLeft:W}=t==="x"&&R.inset||R,X=k??(z.bandwidth?"center":"right"),at=A??(e==="top"?D:q)-3;return X==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${X}`,this.textAnchor=X==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-at:at,this.dx=X==="right"?Y-3:X==="left"?3-W:0,this.ariaLabel=`${T} label`,{facets:[[0]],channels:{text:{value:[B3(t,z,{anchor:e,label:M,labelAnchor:X,labelArrow:S})]}}}})):null)}function Uk(t,e,n,{strokeWidth:r=1,strokeLinecap:o=null,strokeLinejoin:i=null,facetAnchor:a=e+(t==="y"?"-empty":""),frameAnchor:f=e,tickSize:s,inset:u=0,insetLeft:c=u,insetRight:h=u,dx:l=0,y:d=t==="y"?void 0:null,ariaLabel:p,...m}){return Qa($g,t,n,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:o,strokeLinejoin:i,facetAnchor:a,frameAnchor:f,y:d,...m,dx:e==="left"?+l-Gt+ +c:+l+Gt-h,anchor:"start",length:s,shape:e==="left"?Kk:Qk})}function Wk(t,e,n,{strokeWidth:r=1,strokeLinecap:o=null,strokeLinejoin:i=null,facetAnchor:a=e+(t==="x"?"-empty":""),frameAnchor:f=e,tickSize:s,inset:u=0,insetTop:c=u,insetBottom:h=u,dy:l=0,x:d=t==="x"?void 0:null,ariaLabel:p,...m}){return Qa(Cg,t,n,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:i,strokeLinecap:o,facetAnchor:a,frameAnchor:f,x:d,...m,dy:e==="bottom"?+l-Gt-h:+l+Gt+ +c,anchor:"start",length:s,shape:e==="bottom"?Vk:Zk})}function Gk(t,e,n,{facetAnchor:r=e+(t==="y"?"-empty":""),frameAnchor:o=e,tickSize:i,tickRotate:a=0,tickPadding:f=Math.max(3,9-i)+(Math.abs(a)>60?4*Math.cos(a*Ga):0),text:s,textAnchor:u=Math.abs(a)>60?"middle":e==="left"?"end":"start",lineAnchor:c=a>60?"top":a<-60?"bottom":"middle",fontVariant:h,inset:l=0,insetLeft:d=l,insetRight:p=l,dx:m=0,ariaLabel:x,y=t==="y"?void 0:null,...g}){return Qa(Sg,t,n,{ariaLabel:`${x} tick label`},{facetAnchor:r,frameAnchor:o,text:s,textAnchor:u,lineAnchor:c,fontVariant:h,rotate:a,y,...g,dx:e==="left"?+m-i-f+ +d:+m+ +i+ +f-p},function(w,b,_,v,M){h===void 0&&(this.fontVariant=q3(w)),s===void 0&&(M.text=Y3(w,b,_,v,e))})}function Hk(t,e,n,{facetAnchor:r=e+(t==="x"?"-empty":""),frameAnchor:o=e,tickSize:i,tickRotate:a=0,tickPadding:f=Math.max(3,9-i)+(Math.abs(a)>=10?4*Math.cos(a*Ga):0),text:s,textAnchor:u=Math.abs(a)>=10?a<0^e==="bottom"?"start":"end":"middle",lineAnchor:c=Math.abs(a)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:h,inset:l=0,insetTop:d=l,insetBottom:p=l,dy:m=0,x=t==="x"?void 0:null,ariaLabel:y,...g}){return Qa(Mg,t,n,{ariaLabel:`${y} tick label`},{facetAnchor:r,frameAnchor:o,text:s===void 0?null:s,textAnchor:u,lineAnchor:c,fontVariant:h,rotate:a,x,...g,dy:e==="bottom"?+m+ +i+ +f-p:+m-i-f+ +d},function(w,b,_,v,M){h===void 0&&(this.fontVariant=q3(w)),s===void 0&&(M.text=Y3(w,b,_,v,e))})}function Rg(){let[t,e]=Ao(...arguments);return L3("y",E3(e),t,e)}function Dg(){let[t,e]=Ao(...arguments);return L3("fy",N3(e),t,e)}function Pg(){let[t,e]=Ao(...arguments);return O3("x",I3(e),t,e)}function Lg(){let[t,e]=Ao(...arguments);return O3("fx",R3(e),t,e)}function L3(t,e,n,{y:r=t==="y"?void 0:null,x:o=null,x1:i=e==="left"?o:null,x2:a=e==="right"?o:null,ariaLabel:f=`${t}-grid`,ariaHidden:s=!0,...u}){return Qa(bn,t,n,{ariaLabel:f,ariaHidden:s},{y:r,x1:i,x2:a,...z3(u)})}function O3(t,e,n,{x:r=t==="x"?void 0:null,y:o=null,y1:i=e==="top"?o:null,y2:a=e==="bottom"?o:null,ariaLabel:f=`${t}-grid`,ariaHidden:s=!0,...u}){return Qa(xn,t,n,{ariaLabel:f,ariaHidden:s},{x:r,y1:i,y2:a,...z3(u)})}function z3({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:r=e,strokeWidth:o=1,...i}){return{stroke:n,strokeOpacity:r,strokeWidth:o,...i}}function F3({fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:o,fontVariant:i,fontWeight:a,monospace:f,pointerEvents:s,shapeRendering:u,clip:c=!1},h){return[,t]=Bt(t),[,e]=kt(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:o,fontVariant:i,fontWeight:a,monospace:f,pointerEvents:s,shapeRendering:u,clip:c,initializer:h}}function Qa(t,e,n,r,o,i){let a;function f(c,h,l,d,p,m){let x=c==null&&(e==="fx"||e==="fy"),{[e]:y}=d;if(!y)throw new Error(`missing scale: ${e}`);let g=y.domain(),{interval:w,ticks:b,tickFormat:_,tickSpacing:v=e==="x"?80:35}=o;if(typeof b=="string"&&U3(y)&&(w=b,b=void 0),b===void 0&&(b=tr(w,y.type)??jk(y,v)),c==null){if(Ge(b))c=pn(b);else if(wo(b))c=Eg(b,..._t(g));else if(y.interval){let k=y.interval;if(y.ticks){let[S,A]=_t(g),T=(A-S)/k[Ca];k=x1(k,T/b)??k,c=Eg(k,S,A)}else{c=g;let S=c.length;k=x1(k,S/b)??k,k!==y.interval&&(c=Eg(k,..._t(c)))}if(k===y.interval){let S=Math.round(c.length/b);S>1&&(c=c.filter((A,T)=>T%S===0))}}else y.ticks?c=y.ticks(b):c=g;if(!y.ticks&&c.length&&c!==g){let k=new Ve(g);c=c.filter(S=>k.has(S)),c.length||Ee(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}e==="y"||e==="x"?h=[We(c)]:a[e]={scale:e,value:B}}i?.call(this,y,c,b,_,a);let M=Object.fromEntries(Object.entries(a).map(([k,S])=>[k,{...S,value:tt(c,S.value)}]));return x&&(h=m.filterFacets(c,M)),{data:c,facets:h,channels:M}}let s=It(o).initializer,u=t(n,It({...o,initializer:f},s));return n==null?(a=u.channels,u.channels={}):a={},r!==void 0&&Object.assign(u,r),u.clip===void 0&&(u.clip=!1),u}function jk(t,e){let[n,r]=_t(t.range());return(r-n)/e}function Y3(t,e,n,r,o){return{value:mu(t,e,n,r,o)}}function mu(t,e,n,r,o){return typeof r=="function"&&!(t.type==="log"&&t.tickFormat)?r:r===void 0&&e&&Xt(e)?gv(t.type,e,o)??ar:t.tickFormat?t.tickFormat(typeof n=="number"?n:null,r):typeof r=="string"&&t.domain().length>0?(Xt(t.domain())?Vn:sn)(r):r===void 0?ar:Wt(r)}function Eg(t,e,n){return t.range(e,t.offset(t.floor(n)))}var Vk={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},Zk={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},Kk={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},Qk={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function q3(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function B3(t,e,{anchor:n,label:r=e.label,labelAnchor:o,labelArrow:i}={}){if(!(r==null||r.inferred&&U3(e)&&/^(date|time|year)$/i.test(r))){if(r=String(r),i==="auto"&&(i=(!e.bandwidth||e.interval)&&!/[]/.test(r)),!i)return r;if(i===!0){let a=cd(e);a&&(i=/x$/.test(t)||o==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(i){case"left":return`\u2190 ${r}`;case"right":return`${r} \u2192`;case"up":return n==="right"?`${r} \u2191`:`\u2191 ${r}`;case"down":return n==="right"?`${r} \u2193`:`\u2193 ${r}`}return r}}function X3(t="auto"){return Tt(t)?!1:typeof t=="boolean"?t:ae(t,"labelArrow",["auto","up","right","down","left"])}function U3(t){return Xt(t.domain())}function W3(t,e){if(e==null)return e;let n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function G3(t,{opacity:e,...n}={}){if(!or(t)&&!og(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return j3(t,n,(r,o,i,a)=>r.append("svg").attr("width",i).attr("height",a).attr("fill",o.scale).attr("fill-opacity",kt(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function H3(t,{fill:e=t.hint?.fill!==void 0?t.hint.fill:"none",fillOpacity:n=1,stroke:r=t.hint?.stroke!==void 0?t.hint.stroke:Tt(e)?"currentColor":"none",strokeOpacity:o=1,strokeWidth:i=1.5,r:a=4.5,...f}={},s){let[u,c]=Bt(e),[h,l]=Bt(r),d=W3(s,u),p=W3(s,h),m=a*a*Math.PI;return n=kt(n)[1],o=kt(o)[1],i=kt(i)[1],j3(t,f,(x,y,g,w)=>x.append("svg").attr("viewBox","-8 -8 16 16").attr("width",g).attr("height",w).attr("fill",u==="color"?b=>d.scale(b):c).attr("fill-opacity",n).attr("stroke",h==="color"?b=>p.scale(b):l).attr("stroke-opacity",o).attr("stroke-width",i).append("path").attr("d",b=>{let _=Fe();return t.scale(b).draw(_,m),_}))}function j3(t,e={},n){let{columns:r,tickFormat:o,fontVariant:i=_d(t),swatchSize:a=15,swatchWidth:f=a,swatchHeight:s=a,marginLeft:u=0,className:c,style:h,width:l}=e,d=So(e);c=Xa(c),o=mu(t.scale,t.domain,void 0,o);let p=K("div",d).attr("class",`${c}-swatches ${c}-swatches-${r!=null?"columns":"wrap"}`),m;return r!=null?(m=`:where(.${c}-swatches-columns .${c}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${c}-swatches-columns .${c}-swatch::before) {
  flex-shrink: 0;
}
:where(.${c}-swatches-columns .${c}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${c}-swatch`).call(n,t,f,s).call(x=>x.append("div").attr("class",`${c}-swatch-label`).attr("title",o).text(o))):(m=`:where(.${c}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${c}-swatches-wrap .${c}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${c}-swatch`).call(n,t,f,s).append(function(){return this.ownerDocument.createTextNode(o.apply(this,arguments))})),p.call(x=>x.insert("style","*").text(`:where(.${c}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${c}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${m}`)).style("margin-left",u?`${+u}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",Dt(i,"normal")).call(Ua,h).node()}var Rd=new Map([["symbol",H3],["color",Z3],["opacity",tA]]);function Jk(t={}){for(let[e,n]of Rd){let r=t[e];if(Qn(r)){let o=So(t),i;if(e==="symbol"){let{fill:a,stroke:f=a===void 0&&Qn(t.color)?"color":void 0}=t;i={fill:a,stroke:f}}return n(hd(e,r,i),Og(o,r,t),a=>Qn(t[a])?hd(a,t[a]):null)}}throw new Error("unknown legend type; no scale found")}function V3(t,e,n={}){return(r,o)=>{if(!Rd.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return Rd.get(r)(t[r],Og(e,n[r],o),i=>t[i])}}function Og({className:t,...e},{label:n,ticks:r,tickFormat:o}={},i){return Rv(i,{className:t,...e},{label:n,ticks:r,tickFormat:o})}function Z3(t,{legend:e=!0,...n}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return G3(t,n);case"ramp":return f3(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function tA({type:t,interpolate:e,...n},{legend:r=!0,color:o=Le(0,0,0),...i}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return Z3({type:t,...n,interpolate:eA(o)},{legend:r,...i})}function eA(t){let{r:e,g:n,b:r}=Le(t)||Le(0,0,0);return o=>`rgba(${e},${n},${r},${o})`}function K3(t,e,n){let r=[];for(let[o,i]of Rd){let a=n[o];if(a?.legend&&o in t){let f=i(t[o],Og(e,t[o],a),s=>t[s]);f!=null&&r.push(f)}}return r}function Co(t={},e="x"){return A1(t)?t:{...t,[e]:B}}function $o(t={},e="y"){return C1(t)?t:{...t,[e]:B}}function Dd(t,e){if(e.length===1)return{data:t,facets:e};let n=bo(t),r=new Uint8Array(n),o=0;for(let f of e)for(let s of f)r[s]&&++o,r[s]=1;if(o===0)return{data:t,facets:e};t=xo(t);let i=t[w1]=new Uint32Array(n+o);e=e.map(f=>xo(f,Uint32Array));let a=n;r.fill(0);for(let f of e)for(let s=0,u=f.length;s<u;++s){let c=f[s];r[c]?(f[s]=a,t[a]=t[c],i[a]=c,++a):i[c]=c,r[c]=1}return{data:t,facets:e}}function t6(t={},e={}){arguments.length===1&&([t,e]=Ja(t));let{y1:n,y:r=n,x:o,...i}=e,[a,f,s,u]=tf(r,o,"y","x",t,i);return{...a,y1:n,y:f,x1:s,x2:u,x:Ia(s,u)}}function nA(t={},e={}){arguments.length===1&&([t,e]=Ja(t));let{y1:n,y:r=n,x:o}=e,[i,a,f]=tf(r,o,"y","x",t,e);return{...i,y1:n,y:a,x:f}}function rA(t={},e={}){arguments.length===1&&([t,e]=Ja(t));let{y1:n,y:r=n,x:o}=e,[i,a,,f]=tf(r,o,"y","x",t,e);return{...i,y1:n,y:a,x:f}}function e6(t={},e={}){arguments.length===1&&([t,e]=Ja(t));let{x1:n,x:r=n,y:o,...i}=e,[a,f,s,u]=tf(r,o,"x","y",t,i);return{...a,x1:n,x:f,y1:s,y2:u,y:Ia(s,u)}}function oA(t={},e={}){arguments.length===1&&([t,e]=Ja(t));let{x1:n,x:r=n,y:o}=e,[i,a,f]=tf(r,o,"x","y",t,e);return{...i,x1:n,x:a,y:f}}function iA(t={},e={}){arguments.length===1&&([t,e]=Ja(t));let{x1:n,x:r=n,y:o}=e,[i,a,,f]=tf(r,o,"x","y",t,e);return{...i,x1:n,x:a,y:f}}function Eo({x:t,x1:e,x2:n,...r}={}){return r=Cn(r,"y"),e===void 0&&n===void 0?t6({x:t,...r}):([e,n]=$1(t,e,n),{...r,x1:e,x2:n})}function No({y:t,y1:e,y2:n,...r}={}){return r=Cn(r,"x"),e===void 0&&n===void 0?e6({y:t,...r}):([e,n]=$1(t,e,n),{...r,y1:e,y2:n})}function Ja(t){let{offset:e,order:n,reverse:r,...o}=t;return[{offset:e,order:n,reverse:r},o]}var aA={length:!0};function tf(t,e=nu,n,r,{offset:o,order:i,reverse:a},f){if(e===null)throw new Error(`stack requires ${r}`);let s=$e(f),[u,c]=_e(t),[h,l]=ve(e),[d,p]=ve(e);return h.hint=d.hint=aA,o=fA(o),i=cA(i,o,r),[fe(f,(m,x,y)=>{({data:m,facets:x}=Dd(m,x));let g=t==null?void 0:c(mi(tt(m,t),y?.[n])),w=tt(m,e,Float64Array),b=tt(m,s),_=i&&i(m,g,w,b),v=bo(m),M=l(new Float64Array(v)),k=p(new Float64Array(v)),S=[];for(let A of x){let T=g?Array.from(ge(A,$=>g[$]).values()):[A];if(_)for(let $ of T)$.sort(_);for(let $ of T){let I=0,E=0;a&&$.reverse();for(let C of $){let N=w[C];N<0?I=k[C]=(M[C]=I)+N:N>0?E=k[C]=(M[C]=E)+N:k[C]=M[C]=E}}S.push(T)}return o&&o(S,M,k,b),{data:m,facets:x}}),u,h,d]}function fA(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return sA;case"center":case"silhouette":return uA;case"wiggle":return r6}throw new Error(`unknown offset: ${t}`)}}function n6(t,e){let n=0,r=0;for(let o of t){let i=e[o];i<n&&(n=i),i>r&&(r=i)}return[n,r]}function sA(t,e,n){for(let r of t)for(let o of r){let[i,a]=n6(o,n);for(let f of o){let s=1/(a-i||1);e[f]=s*(e[f]-i),n[f]=s*(n[f]-i)}}}function uA(t,e,n){for(let r of t){for(let o of r){let[i,a]=n6(o,n);for(let f of o){let s=(a+i)/2;e[f]-=s,n[f]-=s}}o6(r,e,n)}i6(t,e,n)}function r6(t,e,n,r){for(let o of t){let i=new Ie,a=0;for(let f of o){let s=-1,u=f.map(d=>Math.abs(n[d]-e[d])),c=f.map(d=>{s=r?r[d]:++s;let p=n[d]-e[d],m=i.has(s)?p-i.get(s):0;return i.set(s,p),m}),h=[0,...zu(c)];for(let d of f)e[d]+=a,n[d]+=a;let l=xe(u);l&&(a-=xe(u,(d,p)=>(c[p]/2+h[p])*d)/l)}o6(o,e,n)}i6(t,e,n)}function o6(t,e,n){let r=zt(t,o=>zt(o,i=>e[i]));for(let o of t)for(let i of o)e[i]-=r,n[i]-=r}function i6(t,e,n){let r=t.length;if(r===1)return;let o=t.map(f=>f.flat()),i=o.map(f=>(zt(f,s=>e[s])+At(f,s=>n[s]))/2),a=zt(i);for(let f=0;f<r;f++){let s=a-i[f];for(let u of o[f])e[u]+=s,n[u]+=s}}function cA(t,e,n){if(t===void 0&&e===r6)return Q3(he);if(t!=null){if(typeof t=="string"){let r=t.startsWith("-"),o=r?hi:he;switch((r?t.slice(1):t).toLowerCase()){case"value":case n:return lA(o);case"z":return hA(o);case"sum":return dA(o);case"appearance":return pA(o);case"inside-out":return Q3(o)}return J3(_1(t))}if(typeof t=="function")return(t.length===1?J3:mA)(t);if(je(t))return gA(t);throw new Error(`invalid order: ${t}`)}}function lA(t){return(e,n,r)=>(o,i)=>t(r[o],r[i])}function hA(t){return(e,n,r,o)=>(i,a)=>t(o[i],o[a])}function dA(t){return Pd(t,(e,n,r,o)=>Li(We(e),i=>xe(i,a=>r[a]),i=>o[i]))}function pA(t){return Pd(t,(e,n,r,o)=>Li(We(e),i=>n[Fo(i,a=>r[a])],i=>o[i]))}function Q3(t){return Pd(t,(e,n,r,o)=>{let i=We(e),a=Li(i,h=>n[Fo(h,l=>r[l])],h=>o[h]),f=wn(i,h=>xe(h,l=>r[l]),h=>o[h]),s=[],u=[],c=0;for(let h of a)c<0?(c+=f.get(h),s.push(h)):(c-=f.get(h),u.push(h));return u.reverse().concat(s)})}function J3(t){return e=>{let n=tt(e,t);return(r,o)=>he(n[r],n[o])}}function mA(t){return e=>je(e)?(n,r)=>t(e[n],e[r]):(n,r)=>t(e.get(n),e.get(r))}function gA(t){return Pd(he,()=>t)}function Pd(t,e){return(n,r,o,i)=>{if(!i)throw new Error("missing channel: z");let a=new Ie(e(n,r,o,i).map((f,s)=>[f,s]));return(f,s)=>t(a.get(i[f]),a.get(i[s]))}}var yA={ariaLabel:"rect"},ef=class extends nt{constructor(e,n={}){let{x1:r,y1:o,x2:i,y2:a}=n;super(e,{x1:{value:r,scale:"x",type:r!=null&&i==null?"band":void 0,optional:!0},y1:{value:o,scale:"y",type:o!=null&&a==null?"band":void 0,optional:!0},x2:{value:i,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0}},n,yA),gu(this,n),yu(this,n)}render(e,n,r,o,i){let{x:a,y:f}=n,{x1:s,y1:u,x2:c,y2:h}=r,{marginTop:l,marginRight:d,marginBottom:p,marginLeft:m,width:x,height:y}=o,{projection:g}=i,{insetTop:w,insetRight:b,insetBottom:_,insetLeft:v}=this,{rx:M,ry:k,rx1y1:S,rx1y2:A,rx2y1:T,rx2y2:$}=this;(s||c)&&!g&&en(a)&&(s=c=null),(u||h)&&!g&&en(f)&&(u=h=null);let I=a?.bandwidth?a.bandwidth():0,E=f?.bandwidth?f.bandwidth():0;return K("svg:g",i).call(ct,this,o,i).call(ot,this,{},0,0).call(C=>C.selectAll().data(e).enter().call(S||A||T||$?N=>N.append("path").call(rt,this).call(xu,s&&c?R=>s[R]+(c[R]<s[R]?-b:v):s?R=>s[R]+v:m+v,u&&h?R=>u[R]+(h[R]<u[R]?-_:w):u?R=>u[R]+w:l+w,s&&c?R=>c[R]-(c[R]<s[R]?-v:b):s?R=>s[R]+I-b:x-d-b,u&&h?R=>h[R]-(h[R]<u[R]?-w:_):u?R=>u[R]+E-_:y-p-_,this).call(dt,this,r):N=>N.append("rect").call(rt,this).attr("x",s?c?R=>Math.min(s[R],c[R])+v:R=>s[R]+v:m+v).attr("y",u?h?R=>Math.min(u[R],h[R])+w:R=>u[R]+w:l+w).attr("width",s?c?R=>Math.max(0,Math.abs(c[R]-s[R])+I-v-b):I-v-b:x-d-m-b-v).attr("height",u?h?R=>Math.max(0,Math.abs(u[R]-h[R])+E-w-_):E-w-_:y-l-p-w-_).call(Q,"rx",M).call(Q,"ry",k).call(dt,this,r))).node()}};function gu(t,{inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:o=e,insetLeft:i=e}={}){t.insetTop=wt(n),t.insetRight=wt(r),t.insetBottom=wt(o),t.insetLeft=wt(i)}function yu(t,{r:e,rx:n,ry:r,rx1:o=e,ry1:i=e,rx2:a=e,ry2:f=e,rx1y1:s=o!==void 0?+o:i!==void 0?+i:0,rx1y2:u=o!==void 0?+o:f!==void 0?+f:0,rx2y1:c=a!==void 0?+a:i!==void 0?+i:0,rx2y2:h=a!==void 0?+a:f!==void 0?+f:0}={}){s||u||c||h?(t.rx1y1=s,t.rx1y2=u,t.rx2y1=c,t.rx2y2=h):(t.rx=Dt(n,"auto"),t.ry=Dt(r,"auto"))}function xu(t,e,n,r,o,i){let{rx1y1:a,rx1y2:f,rx2y1:s,rx2y2:u}=i;typeof e!="function"&&(e=Wt(e)),typeof n!="function"&&(n=Wt(n)),typeof r!="function"&&(r=Wt(r)),typeof o!="function"&&(o=Wt(o));let c=Math.max(Math.abs(a+s),Math.abs(f+u)),h=Math.max(Math.abs(a+f),Math.abs(s+u));t.attr("d",l=>{let d=e(l),p=n(l),m=r(l),x=o(l),y=d>m,g=p>x,w=y?m:d,b=y?d:m,_=g?x:p,v=g?p:x,M=Math.min(1,(b-w)/c,(v-_)/h),k=M*(y?g?u:s:g?f:a),S=M*(y?g?f:a:g?u:s),A=M*(y?g?a:f:g?s:u),T=M*(y?g?s:u:g?a:f);return`M${w},${_+Od(k,T)}A${k},${k} 0 0 ${k<0?0:1} ${w+Ld(k,T)},${_}H${b-Ld(S,A)}A${S},${S} 0 0 ${S<0?0:1} ${b},${_+Od(S,A)}V${v-Od(A,S)}A${A},${A} 0 0 ${A<0?0:1} ${b-Ld(A,S)},${v}H${w+Ld(T,k)}A${T},${T} 0 0 ${T<0?0:1} ${w},${v-Od(T,k)}Z`})}function Ld(t,e){return e<0?t:Math.abs(t)}function Od(t,e){return e<0?Math.abs(t):t}function zd(t,e){return new ef(t,bg(wg(e)))}function bu(t,e={}){return Rr(e)||(e={...e,y:Ct,x2:B,interval:1}),new ef(t,Eo(wg(Co(e))))}function wu(t,e={}){return Rr(e)||(e={...e,x:Ct,y2:B,interval:1}),new ef(t,No(bg($o(e))))}var xA={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},bA={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1},Fd=class extends nt{constructor(e={}){let{anchor:n=null}=e;super(go,void 0,e,n==null?xA:bA),this.anchor=k1(n,"anchor",["top","right","bottom","left"]),gu(this,e),n||yu(this,e)}render(e,n,r,o,i){let{marginTop:a,marginRight:f,marginBottom:s,marginLeft:u,width:c,height:h}=o,{anchor:l,insetTop:d,insetRight:p,insetBottom:m,insetLeft:x}=this,{rx:y,ry:g,rx1y1:w,rx1y2:b,rx2y1:_,rx2y2:v}=this,M=u+x,k=c-f-p,S=a+d,A=h-s-m;return K(l?"svg:line":w||b||_||v?"svg:path":"svg:rect",i).datum(0).call(ct,this,o,i).call(rt,this).call(dt,this,r).call(ot,this,{}).call(l==="left"?T=>T.attr("x1",M).attr("x2",M).attr("y1",S).attr("y2",A):l==="right"?T=>T.attr("x1",k).attr("x2",k).attr("y1",S).attr("y2",A):l==="top"?T=>T.attr("x1",M).attr("x2",k).attr("y1",S).attr("y2",S):l==="bottom"?T=>T.attr("x1",M).attr("x2",k).attr("y1",A).attr("y2",A):w||b||_||v?T=>T.call(xu,M,S,k,A,this):T=>T.attr("x",M).attr("y",S).attr("width",k-M).attr("height",A-S).attr("rx",y).attr("ry",g)).node()}};function vu(t){return new Fd(t)}var zg={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},wA=new Set(["geometry","href","src","ariaLabel","scales"]),Yd=class extends nt{constructor(e,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&Ge(e)&&jh(e)&&(n={...n,title:B});let{x:r,y:o,x1:i,x2:a,y1:f,y2:s,anchor:u,preferredAnchor:c="bottom",monospace:h,fontFamily:l=h?"ui-monospace, monospace":void 0,fontSize:d,fontStyle:p,fontVariant:m,fontWeight:x,lineHeight:y=1,lineWidth:g=20,frameAnchor:w,format:b,textAnchor:_="start",textOverflow:v,textPadding:M=8,title:k,pointerSize:S=12,pathFilter:A="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(e,{x:{value:i!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&s!=null?null:o,scale:"y",optional:!0},x1:{value:i,scale:"x",optional:a==null},y1:{value:f,scale:"y",optional:s==null},x2:{value:a,scale:"x",optional:i==null},y2:{value:s,scale:"y",optional:f==null},title:{value:k,optional:!0}},n,zg),this.anchor=Zh(u,"anchor"),this.preferredAnchor=Zh(c,"preferredAnchor"),this.frameAnchor=er(w),this.textAnchor=Dt(_,"middle"),this.textPadding=+M,this.pointerSize=+S,this.pathFilter=Ut(A),this.lineHeight=+y,this.lineWidth=+g,this.textOverflow=_g(v),this.monospace=!!h,this.fontFamily=Ut(l),this.fontSize=wt(d),this.fontStyle=Ut(p),this.fontVariant=Ut(m),this.fontWeight=Ut(x);for(let T in zg)T in this.channels&&(this[T]=zg[T]);this.splitLines=kg(this),this.clipLine=Ag(this),this.format=typeof b=="string"||typeof b=="function"?{title:b}:{...b}}render(e,n,r,o,i){let a=this,{x:f,y:s,fx:u,fy:c}=n,{ownerSVGElement:h,document:l}=i,{anchor:d,monospace:p,lineHeight:m,lineWidth:x}=this,{textPadding:y,pointerSize:g,pathFilter:w}=this,{marginTop:b,marginLeft:_}=o,{x1:v,y1:M,x2:k,y2:S,x:A=v??k,y:T=M??S}=r,$=u?u(e.fx)-_:0,I=c?c(e.fy)-b:0,[E,C]=pe(this,o),N=pg(r,E),R=mg(r,C),z=p?$d:Cd,D=z(Si),Y,q;"title"in r?(Y=a6.call(this,{title:r.channels.title},n),q=SA):(Y=a6.call(this,r.channels,n),q=TA);let W=K("svg:g",i).call(ct,this,o,i).call(Tg,this).call(ot,this,{x:A&&f,y:T&&s}).call(st=>st.selectAll().data(e).enter().append("g").attr("transform",lt=>`translate(${Math.round(N(lt))},${Math.round(R(lt))})`).call(rt,this).call(lt=>lt.append("path").attr("filter",w)).call(lt=>lt.append("text").each(function(G){let ft=Pe(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");let L=q.call(a,G,e,Y,n,r);if(typeof L=="string")for(let j of a.splitLines(L))X(ft,{value:a.clipLine(j)});else{let j=new Set;for(let Z of L){let{label:P=""}=Z;P&&j.has(P)||(j.add(P),X(ft,Z))}}})));function X(st,{label:lt,value:G,color:ft,opacity:L}){lt??="",G??="";let j=ft!=null||L!=null,Z,P=x*100,[gt]=Ti(lt,P,z,D);if(gt>=0)lt=lt.slice(0,gt).trimEnd()+Si,Z=G.trim(),G="";else{(lt||!G&&!j)&&(G=" "+G);let[xt]=Ti(G,P-z(lt),z,D);xt>=0&&(Z=G.trim(),G=G.slice(0,xt).trimEnd()+Si)}let et=st.append("tspan").attr("x",0).attr("dy",`${m}em`).text("\u200B");lt&&et.append("tspan").attr("font-weight","bold").text(lt),G&&et.append(()=>l.createTextNode(G)),j&&et.append("tspan").text(" \u25A0").attr("fill",ft).attr("fill-opacity",L).style("user-select","none"),Z&&et.append("title").text(Z)}function at(){let{width:st,height:lt}=o.facet??o;W.selectChildren().each(function(G){let{x:ft,width:L,height:j}=this.getBBox();L=Math.round(L),j=Math.round(j);let Z=d;if(Z===void 0){let et=N(G)+$,xt=R(G)+I,vt=et+L+g+y*2<st,Ot=et-L-g-y*2>0,Nn=xt+j+g+y*2<lt,Oo=xt-j-g-y*2>0;Z=vt&&Ot?Nn&&Oo?a.preferredAnchor:Oo?"bottom":"top":Nn&&Oo?vt?"left":"right":(vt||Ot)&&(Nn||Oo)?`${Oo?"bottom":"top"}-${vt?"left":"right"}`:a.preferredAnchor}let P=this.firstChild,gt=this.lastChild;if(P.setAttribute("d",MA(Z,g,y,L,j)),ft)for(let et of gt.childNodes)et.setAttribute("x",-ft);gt.setAttribute("y",`${+vA(Z,gt.childNodes.length,m).toFixed(6)}em`),gt.setAttribute("transform",`translate(${_A(Z,g,y,L,j)})`)}),W.attr("visibility",null)}return e.length&&(W.attr("visibility","hidden"),h.isConnected?Promise.resolve().then(at):typeof requestAnimationFrame<"u"&&requestAnimationFrame(at)),W.node()}};function Fg(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=Vt(e,n)),new Yd(t,{...r,x:e,y:n})}function vA(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}function _A(t,e,n,r,o){switch(t){case"middle":return[-r/2,o/2];case"top-left":return[n,e+n];case"top":return[-r/2,e/2+n];case"top-right":return[-r-n,e+n];case"right":return[-e/2-r-n,o/2];case"bottom-left":return[n,-e-n];case"bottom":return[-r/2,-e/2-n];case"bottom-right":return[-r-n,-e-n];case"left":return[n+e/2,o/2]}}function MA(t,e,n,r,o){let i=r+n*2,a=o+n*2;switch(t){case"middle":return`M${-i/2},${-a/2}h${i}v${a}h${-i}z`;case"top-left":return`M0,0l${e},${e}h${i-e}v${a}h${-i}z`;case"top":return`M0,0l${e/2},${e/2}h${(i-e)/2}v${a}h${-i}v${-a}h${(i-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-i}v${a}h${i}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-a/2}h${-i}v${a}h${i}v${e/2-a/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${i-e}v${-a}h${-i}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(i-e)/2}v${-a}h${-i}v${a}h${(i-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-i}v${-a}h${i}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-a/2}h${i}v${a}h${-i}v${e/2-a/2}z`}}function a6(t,e){let n={},r=this.format;r=f6(r,t,"x"),r=f6(r,t,"y"),this.format=r;for(let o in r){let i=r[o];if(!(i===null||i===!1))if(o==="fx"||o==="fy")n[o]=!0;else{let a=fu(t,o);a&&(n[o]=a)}}for(let o in t){if(o in n||o in r||wA.has(o)||(o==="x"||o==="y")&&t.geometry)continue;let i=fu(t,o);if(i){if(i.scale==null&&i.defaultScale==="color")continue;n[o]=i}}this.facet&&(e.fx&&!("fx"in r)&&(n.fx=!0),e.fy&&!("fy"in r)&&(n.fy=!0));for(let o in n){let i=this.format[o];if(typeof i=="string"){let a=n[o]?.value??e[o]?.domain()??[];this.format[o]=(Xt(a)?Vn:sn)(i)}else if(i===void 0||i===!0){let a=e[o];this.format[o]=a?.bandwidth?mu(a,a.domain()):ar}}return n}function f6(t,e,n){if(!(n in t))return t;let r=`${n}1`,o=`${n}2`;if((r in t||!(r in e))&&(o in t||!(o in e)))return t;let i=Object.entries(t),a=t[n];return i.splice(i.findIndex(([f])=>f===n)+1,0,[r,a],[o,a]),Object.fromEntries(i)}function SA(t,e,{title:n}){return this.format.title(n.value[t],t)}function*TA(t,e,n,r,o){for(let i in n){if(i==="fx"||i==="fy"){yield{label:qd(r,n,i),value:this.format[i](e[i],t)};continue}if(i==="x1"&&"x2"in n||i==="y1"&&"y2"in n)continue;let a=n[i];if(i==="x2"&&"x1"in n)yield{label:u6(r,n,"x"),value:s6(this.format.x2,n.x1,a,t)};else if(i==="y2"&&"y1"in n)yield{label:u6(r,n,"y"),value:s6(this.format.y2,n.y1,a,t)};else{let f=a.value[t],s=a.scale;if(!Yt(f)&&s==null)continue;yield{label:qd(r,n,i),value:this.format[i](f,t),color:s==="color"?o[i][t]:null,opacity:s==="opacity"?o[i][t]:null}}}}function s6(t,e,n,r){return n.hint?.length?`${t(n.value[r]-e.value[r],r)}`:`${t(e.value[r],r)}\u2013${t(n.value[r],r)}`}function u6(t,e,n){let r=qd(t,e,`${n}1`,n),o=qd(t,e,`${n}2`,n);return r===o?r:`${r}\u2013${o}`}function qd(t,e,n,r=n){let o=e[n],i=t[o?.scale??n];return String(i?.label??o?.label??r)}function Bg(t={}){let{facet:e,style:n,title:r,subtitle:o,caption:i,ariaLabel:a,ariaDescription:f}=t,s=Xa(t.className),u=t.marks===void 0?[]:l6(t.marks);u.push(...NA(u));let c=$A(e,t),h=new Map;for(let D of u){let Y=h6(D,c,t);Y&&h.set(D,Y)}let l=new Map;c&&_u(l,[c],t),_u(l,h,t);let d=l6(IA(u,l,t));for(let D of d){let Y=h6(D,c,t);Y&&h.set(D,Y)}u.unshift(...d);let p=q_(l,t);if(p!==void 0){let D=c?gd(p,c):void 0;for(let q of u){if(q.facet===null||q.facet==="super")continue;let W=h.get(q);W!==void 0&&(W.facetsIndex=q.fx!=null||q.fy!=null?gd(p,W):D)}let Y=new Set;for(let{facetsIndex:q}of h.values())q?.forEach((W,X)=>{W?.length>0&&Y.add(X)});p.forEach(0<Y.size&&Y.size<p.length?(q,W)=>q.empty=!Y.has(W):q=>q.empty=!1);for(let q of u)if(q.facet==="exclude"){let W=h.get(q);W!==void 0&&(W.facetsIndex=U_(W.facetsIndex))}}for(let D of $t.keys())Qn(t[D])&&D!=="fx"&&D!=="fy"&&l.set(D,[]);let m=new Map;for(let D of u){if(m.has(D))throw new Error("duplicate mark; each mark must be unique");let{facetsIndex:Y,channels:q}=h.get(D)??{},{data:W,facets:X,channels:at}=D.initialize(Y,q,t);Xg(at,t),m.set(D,{data:W,facets:X,channels:at})}let x=cu(_u(l,m,t),t),y=i3(x,u,t);D_(x,y);let g=ng(x),{fx:w,fy:b}=g,_=w||b?rg(x,y):y,v=w||b?FA(g,y):y,M=So(t),k=M.document,S=mr("svg").call(k.documentElement),A=S;M.ownerSVGElement=S,M.className=s,M.projection=H_(t,_),M.filterFacets=(D,Y)=>gd(p,{channels:Y,groups:pd(D,Y)}),M.getMarkState=D=>{let Y=m.get(D),q=h.get(D);return{...Y,channels:{...Y.channels,...q?.channels}}},M.dispatchValue=D=>{A.value!==D&&(A.value=D,A.dispatchEvent(new M.document.defaultView.Event("input",{bubbles:!0})))};let T=new Set;for(let[D,Y]of m)if(D.initializer!=null){let q=D.facet==="super"?v:_,W=D.initializer(Y.data,Y.facets,Y.channels,g,q,M);if(W.data!==void 0&&(Y.data=W.data),W.facets!==void 0&&(Y.facets=W.facets),W.channels!==void 0){let{fx:X,fy:at,...st}=W.channels;CA(st),Object.assign(Y.channels,st);for(let lt of Object.values(st)){let{scale:G}=lt;G!=null&&!Ov($t.get(G))&&(m6(lt,t),T.add(G))}(X!=null||at!=null)&&h.set(D,!0)}}if(T.size){let D=new Map;_u(D,m,t,X=>T.has(X)),_u(l,m,t,X=>T.has(X));let Y=zA(cu(D,t),x),{scales:q,...W}=ng(Y);Object.assign(x,Y),Object.assign(g,W),Object.assign(g.scales,q)}let $,I;p!==void 0&&($={x:w?.domain(),y:b?.domain()},p=B_(p,$),I=X_(w,b,y)),M.path=function(){return ke(this.projection??Q_(g))};for(let[D,Y]of m)Y.values=D.scale(Y.channels,g,M);let{width:E,height:C}=y;Pe(S).attr("class",s).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",E).attr("height",C).attr("viewBox",`0 0 ${E} ${C}`).attr("aria-label",a).attr("aria-description",f).call(D=>D.append("style").text(`:where(.${s}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${s} text),
:where(.${s} tspan) {
  white-space: pre;
}`)).call(Ua,n);for(let D of u){let{channels:Y,values:q,facets:W}=m.get(D);if(p===void 0||D.facet==="super"){let X=null;if(W&&(X=W[0],X=D.filter(X,Y,q),X.length===0))continue;let at=D.render(X,g,q,v,M);if(at==null)continue;S.appendChild(at)}else{let X;for(let at of p){if(!(D.facetAnchor?.(p,$,at)??!at.empty))continue;let st=null;if(W){let G=h.has(D);if(st=W[G?at.i:0],st=D.filter(st,Y,q),st.length===0)continue;!G&&st===W[0]&&(st=Dr(st)),st.fx=at.x,st.fy=at.y,st.fi=at.i}let lt=D.render(st,g,q,_,M);if(lt!=null){(X??=Pe(S).append("g")).append(()=>lt).datum(at);for(let G of["aria-label","aria-description","aria-hidden","transform"])lt.hasAttribute(G)&&(X.attr(G,lt.getAttribute(G)),lt.removeAttribute(G))}}X?.selectChildren().each(I)}}let N=K3(x,M,t),{figure:R=r!=null||o!=null||i!=null||N.length>0}=t;R&&(A=k.createElement("figure"),A.className=`${s}-figure`,A.style.maxWidth="initial",r!=null&&A.append(c6(k,r,"h2")),o!=null&&A.append(c6(k,o,"h3")),A.append(...N,S),i!=null&&A.append(kA(k,i)),"value"in S&&(A.value=S.value,delete S.value)),A.scale=z_(g.scales),A.legend=V3(x,M,t);let z=m_();return z>0&&Pe(S).append("text").attr("x",E).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("\u26A0\uFE0F").append("title").text(`${z.toLocaleString("en-US")} warning${z===1?"":"s"}. Please check the console.`),A}function c6(t,e,n){if(e.ownerDocument)return e;let r=t.createElement(n);return r.append(e),r}function kA(t,e){let n=t.createElement("figcaption");return n.append(e),n}function l6(t){return t.flat(1/0).filter(e=>e!=null).map(AA)}function AA(t){return typeof t.render=="function"?t:new qg(t)}var qg=class extends nt{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}};function Xg(t,e){for(let n in t)m6(t[n],e);return t}function m6(t,e){let{scale:n,transform:r=!0}=t;if(n==null||!r)return;let{type:o,percent:i,interval:a,transform:f=i?s=>s==null?NaN:s*100:E1(a,o)}=e[n]??{};f!=null&&(t.value=mt(t.value,f),t.transform=!1)}function CA(t){for(let e in t)G1(e,t[e])}function _u(t,e,n,r=vv){for(let{channels:o}of e.values())for(let i in o){let a=o[i],{scale:f}=a;if(f!=null&&r(f))if(f==="projection"){if(!V_(n)){let s=n.x?.domain===void 0,u=n.y?.domain===void 0;if(s||u){let[c,h]=K_(a);s&&Yg(t,"x",c),u&&Yg(t,"y",h)}}}else Yg(t,f,a)}return t}function Yg(t,e,n){let r=t.get(e);r!==void 0?r.push(n):t.set(e,[n])}function $A(t,e){if(t==null)return;let{x:n,y:r}=t;if(n==null&&r==null)return;let o=Ir(t.data);if(o==null)throw new Error("missing facet data");let i={};n!=null&&(i.fx=Oa(o,{value:n,scale:"fx"})),r!=null&&(i.fy=Oa(o,{value:r,scale:"fy"})),Xg(i,e);let a=pd(o,i);return{channels:i,groups:a,data:t.data}}function h6(t,e,n){if(t.facet===null||t.facet==="super")return;let{fx:r,fy:o}=t;if(r!=null||o!=null){let s=Ir(t.data??r??o);if(s===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(s===null)return;let u={};return r!=null&&(u.fx=Oa(s,{value:r,scale:"fx"})),o!=null&&(u.fy=Oa(s,{value:o,scale:"fy"})),Xg(u,n),{channels:u,groups:pd(s,u)}}if(e===void 0)return;let{channels:i,groups:a,data:f}=e;if(t.facet!=="auto"||t.data===f)return{channels:i,groups:a};f.length>0&&(a.size>1||a.size===1&&i.fx&&i.fy&&[...a][0][1].size>1)&&bo(Ir(t.data))===bo(f)&&Ee(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn\u2019t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function EA(t,e={}){return It({...e,x:null,y:null},(n,r,o,i,a,f)=>f.getMarkState(t))}function NA(t){let e=[];for(let n of t){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:o,preferredAnchor:i}=r;o=/^x$/i.test(o)?pu:/^y$/i.test(o)?Wa:du,r=o(EA(n,r)),r.title=null,i===void 0&&(r.preferredAnchor=o===Wa?"left":"bottom");let a=Fg(n.data,r);a.facet=n.facet,a.facetAnchor=n.facetAnchor,e.push(a)}}return e}function IA(t,e,n){let{projection:r,x:o={},y:i={},fx:a={},fy:f={},axis:s,grid:u,facet:c={},facet:{axis:h=s,grid:l}=c,x:{axis:d=s,grid:p=d===null?null:u}=o,y:{axis:m=s,grid:x=m===null?null:u}=i,fx:{axis:y=h,grid:g=y===null?null:l}=a,fy:{axis:w=h,grid:b=w===null?null:l}=f}=n;(r||!Qn(o)&&!d6("x",t))&&(d=p=null),(r||!Qn(i)&&!d6("y",t))&&(m=x=null),e.has("fx")||(y=g=null),e.has("fy")||(w=b=null),d===void 0&&(d=!Ud(t,"x")),m===void 0&&(m=!Ud(t,"y")),y===void 0&&(y=!Ud(t,"fx")),w===void 0&&(w=!Ud(t,"fy")),d===!0&&(d="bottom"),m===!0&&(m="left"),y===!0&&(y=d==="top"||d===null?"bottom":"top"),w===!0&&(w=m==="right"||m===null?"left":"right");let _=[];return Xd(_,b,Dg,f),Bd(_,w,Ng,"right","left",c,f),Xd(_,g,Lg,a),Bd(_,y,Ig,"top","bottom",c,a),Xd(_,x,Rg,i),Bd(_,m,Nd,"left","right",n,i),Xd(_,p,Pg,o),Bd(_,d,Id,"bottom","top",n,o),_}function Bd(t,e,n,r,o,i,a){if(!e)return;let f=RA(e);a=DA(f?r:e,i,a);let{line:s}=a;(n===Nd||n===Id)&&s&&!Lr(s)&&t.push(vu(PA(a))),t.push(n(a)),f&&t.push(n({...a,anchor:o,label:null}))}function Xd(t,e,n,r){!e||Lr(e)||t.push(n(LA(e,r)))}function RA(t){return/^\s*both\s*$/i.test(t)}function DA(t,e,{line:n=e.line,ticks:r,tickSize:o,tickSpacing:i,tickPadding:a,tickFormat:f,tickRotate:s,fontVariant:u,ariaLabel:c,ariaDescription:h,label:l=e.label,labelAnchor:d,labelArrow:p=e.labelArrow,labelOffset:m}){return{anchor:t,line:n,ticks:r,tickSize:o,tickSpacing:i,tickPadding:a,tickFormat:f,tickRotate:s,fontVariant:u,ariaLabel:c,ariaDescription:h,label:l,labelAnchor:d,labelArrow:p,labelOffset:m}}function PA(t){let{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:n===!0?void 0:n}}function LA(t,{stroke:e=vo(t)?t:void 0,ticks:n=OA(t)?t:void 0,tickSpacing:r,ariaLabel:o,ariaDescription:i}){return{stroke:e,ticks:n,tickSpacing:r,ariaLabel:o,ariaDescription:i}}function OA(t){switch(typeof t){case"number":return!0;case"string":return!vo(t)}return Ge(t)||typeof t?.range=="function"}function Ud(t,e){let n=`${e}-axis `;return t.some(r=>r.ariaLabel?.startsWith(n))}function d6(t,e){for(let n of e)for(let r in n.channels){let{scale:o}=n.channels[r];if(o===t||o==="projection")return!0}return!1}function zA(t,e){for(let n in t){let r=t[n],o=e[n];r.label===void 0&&o&&(r.label=o.label)}return t}function FA({fx:t,fy:e},n){let{marginTop:r,marginRight:o,marginBottom:i,marginLeft:a,width:f,height:s}=ld(n),u=t&&p6(t),c=e&&p6(e);return{marginTop:e?c[0]:r,marginRight:t?f-u[1]:o,marginBottom:e?s-c[1]:i,marginLeft:t?u[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:f,height:s}}function p6(t){let e=t.domain();if(e.length===0)return[0,t.bandwidth()];let n=t(e[0]),r=t(e[e.length-1]);return r<n&&([n,r]=[r,n]),[n,r+t.bandwidth()]}var YA=new Map([["basis",V0],["basis-closed",Z0],["basis-open",K0],["bundle",Q0],["bump-x",U0],["bump-y",W0],["cardinal",J0],["cardinal-closed",t1],["cardinal-open",e1],["catmull-rom",n1],["catmull-rom-closed",r1],["catmull-rom-open",o1],["linear",Cr],["linear-closed",i1],["monotone-x",f1],["monotone-y",s1],["natural",u1],["step",c1],["step-after",h1],["step-before",l1]]);function Mu(t=Cr,e){if(typeof t=="function")return t;let n=YA.get(`${t}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${t}`);if(e!==void 0){if("beta"in n)return n.beta(e);if("tension"in n)return n.tension(e);if("alpha"in n)return n.alpha(e)}return n}function Wd(t=Io,e){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?Io:Mu(t,e)}function Io(t){return Cr(t)}function Xr(t={y:"count"},e={}){[t,e]=Wg(t,e);let{x:n,y:r}=e;return Ug(Gd(n,e,B),null,null,r,t,_i(e))}function Ur(t={x:"count"},e={}){[t,e]=Wg(t,e);let{x:n,y:r}=e;return Ug(null,Gd(r,e,B),n,null,t,Mi(e))}function Ro(t={fill:"count"},e={}){[t,e]=Wg(t,e);let{x:n,y:r}=qA(e);return Ug(n,r,null,null,t,_i(Mi(e)))}function x6(t,e,n={}){if(n?.interval==null)return n;let{reduce:r=id}=n,o={filter:null};return n[e]!=null&&(o[e]=r),n[`${e}1`]!=null&&(o[`${e}1`]=r),n[`${e}2`]!=null&&(o[`${e}2`]=r),t(o,n)}function nf(t={}){return x6(Xr,"y",Cn(t,"x"))}function rf(t={}){return x6(Ur,"x",Cn(t,"y"))}function Ug(t,e,n,r,{data:o=od,filter:i=iu,sort:a,reverse:f,...s}={},u={}){t=g6(t),e=g6(e),s=BA(s,u),o=v6(o,B),a=a==null?void 0:b6("sort",a,u),i=i==null?void 0:w6("filter",i,u),n!=null&&rr(s,"x","x1","x2")&&(n=null),r!=null&&rr(s,"y","y1","y2")&&(r=null);let[c,h]=_e(t),[l,d]=_e(t),[p,m]=_e(e),[x,y]=_e(e),[g,w]=n!=null?[n,"x"]:r!=null?[r,"y"]:[],[b,_]=_e(g),{x:v,y:M,z:k,fill:S,stroke:A,x1:T,x2:$,y1:I,y2:E,domain:C,cumulative:N,thresholds:R,interval:z,...D}=u,[Y,q]=_e(k),[W]=Bt(S),[X]=Bt(A),[at,st]=_e(W),[lt,G]=_e(X);return{..."z"in u&&{z:Y||k},..."fill"in u&&{fill:at||S},..."stroke"in u&&{stroke:lt||A},...fe(D,(ft,L,j)=>{let Z=mi(tt(ft,g),j?.[w]),P=tt(ft,k),gt=tt(ft,W),et=tt(ft,X),xt=au(s,{z:P,fill:gt,stroke:et}),vt=[],Ot=[],Nn=Z&&_([]),Oo=P&&q([]),L5=gt&&st([]),O5=et&&G([]),Ny=t&&h([]),z5=t&&d([]),Iy=e&&m([]),F5=e&&y([]),Y5=WA(t,e,ft),q5=0;for(let Ii of s)Ii.initialize(ft);a&&a.initialize(ft),i&&i.initialize(ft);for(let Ii of L){let Ry=[];for(let Ri of s)Ri.scope("facet",Ii);a&&a.scope("facet",Ii),i&&i.scope("facet",Ii);for(let[Ri,B5]of nr(Ii,xt))for(let[X5,Lu]of nr(B5,Z))for(let[In,sr]of Y5(Lu))if(xt&&(sr.z=Ri),!(i&&!i.reduce(In,sr))){Ry.push(q5++),Ot.push(o.reduceIndex(In,ft,sr)),Z&&Nn.push(X5),P&&Oo.push(xt===P?Ri:P[(In.length>0?In:Lu)[0]]),gt&&L5.push(xt===gt?Ri:gt[(In.length>0?In:Lu)[0]]),et&&O5.push(xt===et?Ri:et[(In.length>0?In:Lu)[0]]),Ny&&(Ny.push(sr.x1),z5.push(sr.x2)),Iy&&(Iy.push(sr.y1),F5.push(sr.y2));for(let U5 of s)U5.reduce(In,sr);a&&a.reduce(In,sr)}vt.push(Ry)}return X1(vt,a,f),{data:Ot,facets:vt}}),...!rr(s,"x")&&(c?{x1:c,x2:l,x:Ia(c,l)}:{x:v,x1:T,x2:$}),...!rr(s,"y")&&(p?{y1:p,y2:x,y:Ia(p,x)}:{y:M,y1:I,y2:E}),...b&&{[w]:b},...Object.fromEntries(s.map(({name:ft,output:L})=>[ft,L]))}}function Wg({cumulative:t,domain:e,thresholds:n,interval:r,...o},i){return[o,{cumulative:t,domain:e,thresholds:n,interval:r,...i}]}function Gd(t,{cumulative:e,domain:n,thresholds:r,interval:o},i){return t={...gn(t)},t.domain===void 0&&(t.domain=n),t.cumulative===void 0&&(t.cumulative=e),t.thresholds===void 0&&(t.thresholds=r),t.interval===void 0&&(t.interval=o),t.value===void 0&&(t.value=i),t.thresholds=Gg(t.thresholds,t.interval),t}function qA(t){let{x:e,y:n}=t;return e=Gd(e,t),n=Gd(n,t),[e.value,n.value]=Vt(e.value,n.value),{x:e,y:n}}function g6(t){if(t==null)return;let{value:e,cumulative:n,domain:r=_t,thresholds:o}=t,i=a=>{let f=tt(a,e),s;if(Xt(f)||UA(o)){f=mt(f,T1,Float64Array);let[c,h]=typeof r=="function"?r(f):r,l=typeof o=="function"&&!wo(o)?o(f,c,h):o;typeof l=="number"&&(l=$s(c,h,l)),wo(l)&&(r===_t&&(c=l.floor(c),h=l.offset(l.floor(h))),l=l.range(c,l.offset(h))),s=l}else{f=ne(f);let[c,h]=typeof r=="function"?r(f):r,l=typeof o=="function"&&!wo(o)?o(f,c,h):o;if(typeof l=="number")if(r===_t){let d=hr(c,h,l);if(isFinite(d))if(d>0){let p=Math.round(c/d),m=Math.round(h/d);p*d<=c||--p,m*d>h||++m;let x=m-p+1;l=new Float64Array(x);for(let y=0;y<x;++y)l[y]=(p+y)*d}else if(d<0){d=-d;let p=Math.round(c*d),m=Math.round(h*d);p/d<=c||--p,m/d>h||++m;let x=m-p+1;l=new Float64Array(x);for(let y=0;y<x;++y)l[y]=(p+y)/d}else l=[c];else l=[c]}else l=ye(c,h,l);else wo(l)&&(r===_t&&(c=l.floor(c),h=l.offset(l.floor(h))),l=l.range(c,l.offset(h)));s=l}let u=[];if(s.length===1)u.push([s[0],s[0]]);else for(let c=1;c<s.length;++c)u.push([s[c-1],s[c]]);return u.bin=(n<0?HA:n>0?GA:Hg)(u,s,f),u};return i.label=Me(e),i}function Gg(t,e,n=y6){if(t===void 0)return e===void 0?n:tr(e);if(typeof t=="string"){switch(t.toLowerCase()){case"freedman-diaconis":return Xu;case"scott":return Af;case"sturges":return Zr;case"auto":return y6}return $a(t)}return t}function BA(t,e){return q1(t,e,b6)}function b6(t,e,n){return nd(t,e,n,w6)}function w6(t,e,n){return rd(t,e,n,v6)}function v6(t,e){return La(t,e,XA)}function XA(t){switch(`${t}`.toLowerCase()){case"x":return jA;case"x1":return ZA;case"x2":return KA;case"y":return VA;case"y1":return QA;case"y2":return JA;case"z":return U1}throw new Error(`invalid bin reduce: ${t}`)}function y6(t,e,n){return Math.min(200,Af(t,e,n))}function UA(t){return kv(t)||Ge(t)&&Xt(t)}function WA(t,e,n){let r=t?.(n),o=e?.(n);return r&&o?function*(i){let a=r.bin(i);for(let[f,[s,u]]of r.entries()){let c=o.bin(a[f]);for(let[h,[l,d]]of o.entries())yield[c[h],{data:n,x1:s,y1:l,x2:u,y2:d}]}}:r?function*(i){let a=r.bin(i);for(let[f,[s,u]]of r.entries())yield[a[f],{data:n,x1:s,x2:u}]}:function*(i){let a=o.bin(i);for(let[f,[s,u]]of o.entries())yield[a[f],{data:n,y1:s,y2:u}]}}function Hg(t,e,n){return e=ne(e),r=>{let o=t.map(()=>[]);for(let i of r)o[cr(e,n[i])-1]?.push(i);return o}}function GA(t,e,n){let r=Hg(t,e,n);return o=>{let i=r(o);for(let a=1,f=i.length;a<f;++a){let s=i[a-1],u=i[a];for(let c of s)u.push(c)}return i}}function HA(t,e,n){let r=Hg(t,e,n);return o=>{let i=r(o);for(let a=i.length-2;a>=0;--a){let f=i[a+1],s=i[a];for(let u of f)s.push(u)}return i}}function _6(t,e){let n=(+t+ +e)/2;return t instanceof Date?new Date(n):n}var jA={reduceIndex(t,e,{x1:n,x2:r}){return _6(n,r)}},VA={reduceIndex(t,e,{y1:n,y2:r}){return _6(n,r)}},ZA={reduceIndex(t,e,{x1:n}){return n}},KA={reduceIndex(t,e,{x2:n}){return n}},QA={reduceIndex(t,e,{y1:n}){return n}},JA={reduceIndex(t,e,{y2:n}){return n}};var tC={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1},of=class extends nt{constructor(e,n={}){let{x1:r,y1:o,x2:i,y2:a,z:f,curve:s,tension:u}=n;super(e,{x1:{value:r,scale:"x"},y1:{value:o,scale:"y"},x2:{value:i,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0},z:{value:$e(n),optional:!0}},n,tC),this.z=f,this.curve=Mu(s,u)}filter(e){return e}render(e,n,r,o,i){let{x1:a,y1:f,x2:s=a,y2:u=f}=r;return K("svg:g",i).call(ct,this,o,i).call(ot,this,n,0,0).call(c=>c.selectAll().data(vd(e,[a,f,s,u],this,r)).enter().append("path").call(rt,this).call(vi,this,r).attr("d",va().curve(this.curve).defined(h=>h>=0).x0(h=>a[h]).y0(h=>f[h]).x1(h=>s[h]).y1(h=>u[h]))).node()}};function Hd(t,e){return e===void 0?Do(t,{x:pi,y:yo}):new of(t,e)}function ki(t,e){let{y:n=Ct,...r}=rf(e);return new of(t,Eo(Co({...r,y1:n,y2:void 0},n===Ct?"x2":"x")))}function Do(t,e){let{x:n=Ct,...r}=nf(e);return new of(t,No($o({...r,x1:n,x2:void 0},n===Ct?"y2":"y")))}var eC={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1},jd=class extends nt{constructor(e,n={}){let{x1:r,y1:o,x2:i,y2:a,curve:f,tension:s}=n;super(e,{x1:{value:r,scale:"x"},y1:{value:o,scale:"y"},x2:{value:i,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0}},n,eC),this.curve=Wd(f,s),$n(this,n)}project(e,n,r){this.curve!==Io&&super.project(e,n,r)}render(e,n,r,o,i){let{x1:a,y1:f,x2:s=a,y2:u=f}=r,{curve:c}=this;return K("svg:g",i).call(ct,this,o,i).call(ot,this,n).call(h=>h.selectAll().data(e).enter().append("path").call(rt,this).attr("d",c===Io&&i.projection?nC(i.projection,a,f,s,u):l=>{let d=Fe(),p=c(d);return p.lineStart(),p.point(a[l],f[l]),p.point(s[l],u[l]),p.lineEnd(),d}).call(dt,this,r).call(qr,this,r,i)).node()}};function nC(t,e,n,r,o){let i=ke(t);return e=ne(e),n=ne(n),r=ne(r),o=ne(o),a=>i({type:"LineString",coordinates:[[e[a],n[a]],[r[a],o[a]]]})}function jg(t,{x:e,x1:n,x2:r,y:o,y1:i,y2:a,...f}={}){return[n,r]=Su(e,n,r),[i,a]=Su(o,i,a),new jd(t,{...f,x1:n,x2:r,y1:i,y2:a})}function Su(t,e,n){if(t===void 0){if(e===void 0){if(n!==void 0)return[n]}else if(n===void 0)return[e]}else{if(e===void 0)return n===void 0?[t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}var rC={ariaLabel:"arrow",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:1,strokeWidth:1.5},Vd=class extends nt{constructor(e,n={}){let{x1:r,y1:o,x2:i,y2:a,bend:f=0,headAngle:s=60,headLength:u=8,inset:c=0,insetStart:h=c,insetEnd:l=c,sweep:d}=n;super(e,{x1:{value:r,scale:"x"},y1:{value:o,scale:"y"},x2:{value:i,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0}},n,rC),this.bend=f===!0?22.5:Math.max(-90,Math.min(90,f)),this.headAngle=+s,this.headLength=+u,this.insetStart=+h,this.insetEnd=+l,this.sweep=oC(d)}render(e,n,r,o,i){let{x1:a,y1:f,x2:s=a,y2:u=f,SW:c}=r,{strokeWidth:h,bend:l,headAngle:d,headLength:p,insetStart:m,insetEnd:x}=this,y=c?b=>c[b]:Wt(h===void 0?1:h),g=d*Ga/2,w=p/1.5;return K("svg:g",i).call(ct,this,o,i).call(ot,this,n).call(b=>b.selectAll().data(e).enter().append("path").call(rt,this).attr("d",_=>{let v=a[_],M=f[_],k=s[_],S=u[_],A=Math.hypot(k-v,S-M);if(A<=m+x)return null;let T=Math.atan2(S-M,k-v),$=Math.min(w*y(_),A/3),I=this.sweep(v,M,k,S)*l*Ga,E=Math.hypot(A/Math.tan(I),A)/2;if(m||x)if(E<1e5){let at=Math.sign(I),[st,lt]=iC([v,M],[k,S],E,at);if(m&&([v,M]=M6([st,lt,E],[v,M,m],-at*Math.sign(m))),x){let[G,ft]=M6([st,lt,E],[k,S,x],at*Math.sign(x));T+=Math.atan2(ft-lt,G-st)-Math.atan2(S-lt,k-st),k=G,S=ft}}else{let at=k-v,st=S-M,lt=Math.hypot(at,st);m&&(v+=at/lt*m,M+=st/lt*m),x&&(k-=at/lt*x,S-=st/lt*x)}let C=T+I,N=C+g,R=C-g,z=k-$*Math.cos(N),D=S-$*Math.sin(N),Y=k-$*Math.cos(R),q=S-$*Math.sin(R),W=E<1e5?`A${E},${E} 0,0,${I>0?1:0} `:"L",X=$?`M${z},${D}L${k},${S}L${Y},${q}`:"";return`M${v},${M}${W}${k},${S}${X}`}).call(dt,this,r)).node()}};function oC(t=1){if(typeof t=="number")return Wt(Math.sign(t));if(typeof t=="function")return(e,n,r,o)=>Math.sign(t(e,n,r,o));switch(ae(t,"sweep",["+x","-x","+y","-y"])){case"+x":return(e,n,r)=>yt(e,r);case"-x":return(e,n,r)=>Ne(e,r);case"+y":return(e,n,r,o)=>yt(n,o);case"-y":return(e,n,r,o)=>Ne(n,o)}}function iC([t,e],[n,r],o,i){let a=n-t,f=r-e,s=Math.hypot(a,f),u=i*Math.sqrt(o*o-s*s/4)/s;return[(t+n)/2-f*u,(e+r)/2+a*u]}function M6([t,e,n],[r,o,i],a){let f=r-t,s=o-e,u=Math.hypot(f,s),c=(f*f+s*s-i*i+n*n)/(2*u),h=a*Math.sqrt(n*n-c*c);return[t+(f*c+s*h)/u,e+(s*c-f*h)/u]}function aC(t,{x:e,x1:n,x2:r,y:o,y1:i,y2:a,...f}={}){return[n,r]=Su(e,n,r),[i,a]=Su(o,i,a),new Vd(t,{...f,x1:n,x2:r,y1:i,y2:a})}var fC={ariaLabel:"bar"},af=class extends nt{constructor(e,n,r={},o=fC){super(e,n,r,o),gu(this,r),yu(this,r)}render(e,n,r,o,i){let{rx:a,ry:f,rx1y1:s,rx1y2:u,rx2y1:c,rx2y2:h}=this,l=this._x(n,r,o),d=this._y(n,r,o),p=this._width(n,r,o),m=this._height(n,r,o);return K("svg:g",i).call(ct,this,o,i).call(this._transform,this,n).call(x=>x.selectAll().data(e).enter().call(s||u||c||h?y=>y.append("path").call(rt,this).call(xu,l,d,S6(l,p),S6(d,m),this).call(dt,this,r):y=>y.append("rect").call(rt,this).attr("x",l).attr("width",p).attr("y",d).attr("height",m).call(Q,"rx",a).call(Q,"ry",f).call(dt,this,r))).node()}_x(e,{x:n},{marginLeft:r}){let{insetLeft:o}=this;return n?i=>n[i]+o:r+o}_y(e,{y:n},{marginTop:r}){let{insetTop:o}=this;return n?i=>n[i]+o:r+o}_width({x:e},{x:n},{marginRight:r,marginLeft:o,width:i}){let{insetLeft:a,insetRight:f}=this,s=n&&e?e.bandwidth():i-r-o;return Math.max(0,s-a-f)}_height({y:e},{y:n},{marginTop:r,marginBottom:o,height:i}){let{insetTop:a,insetBottom:f}=this,s=n&&e?e.bandwidth():i-r-o;return Math.max(0,s-a-f)}};function S6(t,e){return typeof t=="function"&&typeof e=="function"?n=>t(n)+e(n):typeof t=="function"?n=>t(n)+e:typeof e=="function"?n=>t+e(n):t+e}var ff=class extends af{constructor(e,n={},r){let{x1:o,x2:i,y:a}=n;super(e,{x1:{value:o,scale:"x"},x2:{value:i,scale:"x"},y:{value:a,scale:"y",type:"band",optional:!0}},n,r)}_transform(e,n,{x:r}){e.call(ot,n,{x:r},0,0)}_x({x:e},{x1:n,x2:r},{marginLeft:o}){let{insetLeft:i}=this;return en(e)?o+i:a=>Math.min(n[a],r[a])+i}_width({x:e},{x1:n,x2:r},{marginRight:o,marginLeft:i,width:a}){let{insetLeft:f,insetRight:s}=this;return en(e)?a-o-i-f-s:u=>Math.max(0,Math.abs(r[u]-n[u])-f-s)}},sf=class extends af{constructor(e,n={},r){let{x:o,y1:i,y2:a}=n;super(e,{y1:{value:i,scale:"y"},y2:{value:a,scale:"y"},x:{value:o,scale:"x",type:"band",optional:!0}},n,r)}_transform(e,n,{y:r}){e.call(ot,n,{y:r},0,0)}_y({y:e},{y1:n,y2:r},{marginTop:o}){let{insetTop:i}=this;return en(e)?o+i:a=>Math.min(n[a],r[a])+i}_height({y:e},{y1:n,y2:r},{marginTop:o,marginBottom:i,height:a}){let{insetTop:f,insetBottom:s}=this;return en(e)?a-o-i-f-s:u=>Math.max(0,Math.abs(r[u]-n[u])-f-s)}};function Wr(t,e={}){return Rr(e)||(e={...e,y:Ct,x2:B}),new ff(t,Eo(Ha(Co(e))))}function Gr(t,e={}){return Rr(e)||(e={...e,x:Ct,y2:B}),new sf(t,No(ja($o(e))))}var sC={ariaLabel:"cell"},uf=class extends af{constructor(e,{x:n,y:r,...o}={}){super(e,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},o,sC)}_transform(e,n){e.call(ot,n,{},0,0)}};function Ai(t,{x:e,y:n,...r}={}){return[e,n]=Vt(e,n),new uf(t,{...r,x:e,y:n})}function uC(t,{x:e=Ct,fill:n,stroke:r,...o}={}){return n===void 0&&Bt(r)[0]===void 0&&(n=B),new uf(t,{...o,x:e,fill:n,stroke:r})}function cC(t,{y:e=Ct,fill:n,stroke:r,...o}={}){return n===void 0&&Bt(r)[0]===void 0&&(n=B),new uf(t,{...o,y:e,fill:n,stroke:r})}var lC={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function Tu(t){return t.sort===void 0&&t.reverse===void 0?F1({channel:"-r"},t):t}var cf=class extends nt{constructor(e,n={}){let{x:r,y:o,r:i,rotate:a,symbol:f=$r,frameAnchor:s}=n,[u,c]=kt(a,0),[h,l]=Yv(f),[d,p]=kt(i,h==null?3:4.5);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:o,scale:"y",optional:!0},r:{value:d,scale:"r",filter:Ue,optional:!0},rotate:{value:u,optional:!0},symbol:{value:h,scale:"auto",optional:!0}},Tu(n),lC),this.r=p,this.rotate=c,this.symbol=l,this.frameAnchor=er(s);let{channels:m}=this,{symbol:x}=m;if(x){let{fill:y,stroke:g}=m;x.hint={fill:y?y.value===x.value?"color":"currentColor":this.fill??"currentColor",stroke:g?g.value===x.value?"color":"currentColor":this.stroke??"none"}}}render(e,n,r,o,i){let{x:a,y:f}=n,{x:s,y:u,r:c,rotate:h,symbol:l}=r,{r:d,rotate:p,symbol:m}=this,[x,y]=pe(this,o),g=m===$r,w=c?void 0:d*d*Math.PI;return lo(d)&&(e=[]),K("svg:g",i).call(ct,this,o,i).call(ot,this,{x:s&&a,y:u&&f}).call(b=>b.selectAll().data(e).enter().append(g?"circle":"path").call(rt,this).call(g?_=>{_.attr("cx",s?v=>s[v]:x).attr("cy",u?v=>u[v]:y).attr("r",c?v=>c[v]:d)}:_=>{_.attr("transform",fr`translate(${s?v=>s[v]:x},${u?v=>u[v]:y})${h?v=>` rotate(${h[v]})`:p?` rotate(${p})`:""}`).attr("d",c&&l?v=>{let M=Fe();return l[v].draw(M,c[v]*c[v]*Math.PI),M}:c?v=>{let M=Fe();return m.draw(M,c[v]*c[v]*Math.PI),M}:l?v=>{let M=Fe();return l[v].draw(M,w),M}:(()=>{let v=Fe();return m.draw(v,w),v})())}).call(dt,this,r)).node()}};function En(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=Vt(e,n)),new cf(t,{...r,x:e,y:n})}function hC(t,{x:e=B,...n}={}){return new cf(t,Td({...n,x:e}))}function dC(t,{y:e=B,...n}={}){return new cf(t,Sd({...n,y:e}))}function pC(t,e){return En(t,{...e,symbol:"circle"})}function mC(t,e){return En(t,{...e,symbol:"hexagon"})}var gC={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1},lf=class extends nt{constructor(e,n={}){let{x:r,y:o,z:i,curve:a,tension:f}=n;super(e,{x:{value:r,scale:"x"},y:{value:o,scale:"y"},z:{value:$e(n),optional:!0}},n,gC),this.z=i,this.curve=Wd(a,f),$n(this,n)}filter(e){return e}project(e,n,r){this.curve!==Io&&super.project(e,n,r)}render(e,n,r,o,i){let{x:a,y:f}=r,{curve:s}=this;return K("svg:g",i).call(ct,this,o,i).call(ot,this,n).call(u=>u.selectAll().data(vd(e,[a,f],this,r)).enter().append("path").call(rt,this).call(vi,this,r).call(c3,this,r,i).attr("d",s===Io&&i.projection?yC(i.projection,a,f):zs().curve(s).defined(c=>c>=0).x(c=>a[c]).y(c=>f[c]))).node()}};function yC(t,e,n){let r=ke(t);return e=ne(e),n=ne(n),o=>{let i=[],a=[i];for(let f of o)f===-1?(i=[],a.push(i)):i.push([e[f],n[f]]);return r({type:"MultiLineString",coordinates:a})}}function hf(t,{x:e,y:n,...r}={}){return[e,n]=Vt(e,n),new lf(t,{...r,x:e,y:n})}function Ci(t,{x:e=B,y:n=Ct,...r}={}){return new lf(t,rf({...r,x:e,y:n}))}function $i(t,{x:e=Ct,y:n=B,...r}={}){return new lf(t,nf({...r,x:e,y:n}))}function C6(t,e){e=bC(e);let{x:n,y:r,color:o,size:i}=e,a=Zd(t,n),f=Zd(t,r),s=Zd(t,o),u=Zd(t,i),{fx:c,fy:h,x:{value:l,reduce:d,zero:p,...m},y:{value:x,reduce:y,zero:g,...w},color:{value:b,color:_,reduce:v},size:{value:M,reduce:k},mark:S}=e;if(d===void 0&&(d=y==null&&l==null&&M==null&&x!=null?"count":null),y===void 0&&(y=d==null&&x==null&&M==null&&l!=null?"count":null),k===void 0&&M==null&&v==null&&d==null&&y==null&&(l==null||qt(a))&&(x==null||qt(f))&&(k="count"),p===void 0&&(p=Kd(d)?!0:void 0),g===void 0&&(g=Kd(y)?!0:void 0),l==null&&x==null)throw new Error("must specify x or y");if(d!=null&&x==null)throw new Error("reducing x requires y");if(y!=null&&l==null)throw new Error("reducing y requires x");S===void 0&&(S=M!=null||k!=null?"dot":Kd(d)||Kd(y)||v!=null?"bar":l!=null&&x!=null?qt(a)||qt(f)||d==null&&y==null&&!ku(a)&&!ku(f)?"dot":"line":l!=null||x!=null?"rule":null);let A,T,$;switch(S){case"dot":$=En,T="stroke";break;case"line":$=a&&f||d!=null||y!=null?g||y!=null||a&&ku(a)?$i:p||d!=null||f&&ku(f)?Ci:hf:a?Ci:$i,T="stroke",k6(s)&&(A=null);break;case"area":$=!(g||y!=null)&&(p||d!=null||f&&ku(f))?ki:Do,T="fill",k6(s)&&(A=null);break;case"rule":$=a?xn:bn,T="stroke";break;case"bar":$=d!=null?qt(f)?T6(d)&&a&&qt(a)?Ai:Wr:bu:y!=null?qt(a)?T6(y)&&f&&qt(f)?Ai:Gr:wu:v!=null||k!=null?a&&qt(a)&&f&&qt(f)?Ai:a&&qt(a)?Gr:f&&qt(f)?Wr:zd:a&&Pr(a)&&!(f&&Pr(f))?Wr:f&&Pr(f)&&!(a&&Pr(a))?Gr:Ai,T="fill";break;default:throw new Error(`invalid mark: ${S}`)}let I={fx:c,fy:h,x:a??void 0,y:f??void 0,[T]:s??_,z:A,r:u??void 0,tip:!0},E,C={[T]:v??void 0,r:k??void 0};if(d!=null&&y!=null)throw new Error("cannot reduce both x and y");return y!=null?(C.y=y,E=qt(a)?bi:Xr):d!=null?(C.x=d,E=qt(f)?wi:Ur):(v!=null||k!=null)&&(a&&f?E=qt(a)&&qt(f)?td:qt(a)?Ur:qt(f)?Xr:Ro:a?E=qt(a)?bi:Xr:f&&(E=qt(f)?wi:Ur)),(E===Ro||E===Xr)&&(I.x={value:a,...m}),(E===Ro||E===Ur)&&(I.y={value:f,...w}),p===void 0&&(p=a&&!(E===Ro||E===Xr)&&($===Wr||$===ki||$===bu||$===bn)),g===void 0&&(g=f&&!(E===Ro||E===Ur)&&($===Gr||$===Do||$===wu||$===xn)),{fx:c??null,fy:h??null,x:{value:l??null,reduce:d??null,zero:!!p,...m},y:{value:x??null,reduce:y??null,zero:!!g,...w},color:{value:b??null,reduce:v??null,..._!==void 0&&{color:_}},size:{value:M??null,reduce:k??null},mark:S,markImpl:A6[$],markOptions:I,transformImpl:A6[E],transformOptions:C,colorMode:T}}function xC(t,e){let n=C6(t,e),{fx:r,fy:o,x:{zero:i},y:{zero:a},markOptions:f,transformOptions:s,colorMode:u}=n,c=Vg[n.markImpl],h=Vg[n.transformImpl],l=r!=null||o!=null?vu({strokeOpacity:.1}):null,d=[i?xn([0]):null,a?bn([0]):null],p=c(t,h?h(s,f):f);return u==="stroke"?se(l,d,p):se(l,p,d)}function ku(t){let e,n;for(let r of t){if(r==null)continue;if(e===void 0){e=r;continue}let o=Math.sign(yt(e,r));if(o){if(n!==void 0&&o!==n)return!1;e=r,n=o}}return!0}function bC({x:t,y:e,color:n,size:r,fx:o,fy:i,mark:a}={}){return Je(t)||(t=df(t)),Je(e)||(e=df(e)),Je(n)||(n=vo(n)?{color:n}:df(n)),Je(r)||(r=df(r)),Je(o)&&({value:o}=df(o)),Je(i)&&({value:i}=df(i)),a!=null&&(a=`${a}`.toLowerCase()),{x:t,y:e,color:n,size:r,fx:o,fy:i,mark:a}}function Zd(t,e){let n=tt(t,e.value);return n&&(n.label=Me(e.value)),n}function df(t){return wC(t)?{reduce:t}:{value:t}}function Kd(t){return/^(?:distinct|count|sum|proportion)$/i.test(t)}function T6(t){return/^(?:first|last|mode)$/i.test(t)}function wC(t){if(t==null)return!1;if(typeof t.reduceIndex=="function"||typeof t.reduce=="function"&&re(t)||/^p\d{2}$/i.test(t))return!0;switch(`${t}`.toLowerCase()){case"first":case"last":case"count":case"distinct":case"sum":case"proportion":case"proportion-facet":case"deviation":case"min":case"min-index":case"max":case"max-index":case"mean":case"median":case"variance":case"mode":return!0}return!1}function k6(t){return t?new Ve(t).size>t.length>>1:!1}var Vg={dot:En,line:hf,lineX:Ci,lineY:$i,areaX:ki,areaY:Do,ruleX:xn,ruleY:bn,barX:Wr,barY:Gr,rect:zd,rectX:bu,rectY:wu,cell:Ai,bin:Ro,binX:Xr,binY:Ur,group:td,groupX:bi,groupY:wi},A6=Object.fromEntries(Object.entries(Vg).map(([t,e])=>[e,t]));function Au(t,e={}){let{x:n,x1:r,x2:o}=e;n===void 0&&r===void 0&&o===void 0&&(e={...e,x:n=B});let i={};return n!=null&&(i.x=t),r!=null&&(i.x1=t),o!=null&&(i.x2=t),nn(i,e)}function Cu(t,e={}){let{y:n,y1:r,y2:o}=e;n===void 0&&r===void 0&&o===void 0&&(e={...e,y:n=B});let i={};return n!=null&&(i.y=t),r!=null&&(i.y1=t),o!=null&&(i.y2=t),nn(i,e)}function nn(t={},e={}){let n=$e(e),r=Object.entries(t).map(([o,i])=>{let a=Hh(o,e);if(a==null)throw new Error(`missing channel: ${o}`);let[f,s]=ve(a);return{key:o,input:a,output:f,setOutput:s,map:vC(i)}});return{...fe(e,(o,i)=>{let a=tt(o,n),f=r.map(({input:u})=>tt(o,u)),s=r.map(({setOutput:u})=>u(new Array(o.length)));for(let u of i)for(let c of a?ge(u,h=>a[h]).values():[u])r.forEach(({map:h},l)=>h.mapIndex(c,f[l],s[l]));return{data:o,facets:i}}),...Object.fromEntries(r.map(({key:o,output:i})=>[o,i]))}}function vC(t){if(t==null)throw new Error("missing map");if(typeof t.mapIndex=="function")return t;if(typeof t.map=="function"&&re(t))return _C(t);if(typeof t=="function")return Zg(Na(t));switch(`${t}`.toLowerCase()){case"cumsum":return SC;case"rank":return Zg((e,n)=>Cf(e,r=>n[r]));case"quantile":return Zg((e,n)=>MC(e,r=>n[r]))}throw new Error(`invalid map: ${t}`)}function _C(t){return console.warn("deprecated map interface; implement mapIndex instead."),{mapIndex:t.map.bind(t)}}function MC(t,e){let n=Rn(t,e)-1;return Cf(t,e).map(r=>r/n)}function Zg(t){return{mapIndex(e,n,r){let o=t(e,n);if(o.length!==e.length)throw new Error("map function returned a mismatched length");for(let i=0,a=e.length;i<a;++i)r[e[i]]=o[i]}}}var SC={mapIndex(t,e,n){let r=0;for(let o of t)n[o]=r+=e[o]}};function TC(t={},e){return arguments.length===1&&(e=t),Au($u(t),e)}function kC(t={},e){return arguments.length===1&&(e=t),Cu($u(t),e)}function $u(t={}){typeof t=="number"&&(t={k:t});let{k:e,reduce:n,shift:r,anchor:o,strict:i}=t;if(o===void 0&&r!==void 0&&(o=CC(r),Ee(`Warning: the shift option is deprecated; please use anchor "${o}" instead.`)),!((e=Math.floor(e))>0))throw new Error(`invalid k: ${e}`);return $C(n)(e,AC(o,e),i)}function AC(t="middle",e){switch(`${t}`.toLowerCase()){case"middle":return e-1>>1;case"start":return 0;case"end":return e-1}throw new Error(`invalid anchor: ${t}`)}function CC(t){switch(`${t}`.toLowerCase()){case"centered":return"middle";case"leading":return"start";case"trailing":return"end"}throw new Error(`invalid shift: ${t}`)}function $C(t="mean"){if(typeof t=="string"){if(/^p\d{2}$/i.test(t))return Qd(Ea(t));switch(t.toLowerCase()){case"deviation":return Qd(rn);case"max":return Jd((e,n)=>At(e,r=>n[r]));case"mean":return EC;case"median":return Qd(vn);case"min":return Jd((e,n)=>zt(e,r=>n[r]));case"mode":return Jd((e,n)=>Yi(e,r=>n[r]));case"sum":return $6;case"variance":return Qd(Vr);case"difference":return RC;case"ratio":return DC;case"first":return PC;case"last":return LC}}if(typeof t!="function")throw new Error(`invalid reduce: ${t}`);return Jd(Na(t))}function Qd(t){return(e,n,r)=>r?{mapIndex(o,i,a){let f=u=>i[u]==null?NaN:+i[u],s=0;for(let u=0;u<e-1;++u)isNaN(f(u))&&++s;for(let u=0,c=o.length-e+1;u<c;++u)isNaN(f(u+e-1))&&++s,a[o[u+n]]=s===0?t(Dr(o,u,u+e),f):NaN,isNaN(f(u))&&--s}}:{mapIndex(o,i,a){let f=s=>i[s]==null?NaN:+i[s];for(let s=-n;s<0;++s)a[o[s+n]]=t(Dr(o,0,s+e),f);for(let s=0,u=o.length-n;s<u;++s)a[o[s+n]]=t(Dr(o,s,s+e),f)}}}function Jd(t){return(e,n,r)=>r?{mapIndex(o,i,a){let f=0;for(let s=0;s<e-1;++s)f+=Yt(i[o[s]]);for(let s=0,u=o.length-e+1;s<u;++s)f+=Yt(i[o[s+e-1]]),f===e&&(a[o[s+n]]=t(Dr(o,s,s+e),i)),f-=Yt(i[o[s]])}}:{mapIndex(o,i,a){for(let f=-n;f<0;++f)a[o[f+n]]=t(Dr(o,0,f+e),i);for(let f=0,s=o.length-n;f<s;++f)a[o[f+n]]=t(Dr(o,f,f+e),i)}}}function $6(t,e,n){return n?{mapIndex(r,o,i){let a=0,f=0;for(let s=0;s<t-1;++s){let u=o[r[s]];u===null||isNaN(u)?++a:f+=+u}for(let s=0,u=r.length-t+1;s<u;++s){let c=o[r[s]],h=o[r[s+t-1]];h===null||isNaN(h)?++a:f+=+h,i[r[s+e]]=a===0?f:NaN,c===null||isNaN(c)?--a:f-=+c}}}:{mapIndex(r,o,i){let a=0,f=r.length;for(let s=0,u=Math.min(f,t-e-1);s<u;++s)a+=+o[r[s]]||0;for(let s=-e,u=f-e;s<u;++s)a+=+o[r[s+t-1]]||0,i[r[s+e]]=a,a-=+o[r[s]]||0}}}function EC(t,e,n){if(n){let r=$6(t,e,n);return{mapIndex(o,i,a){r.mapIndex(o,i,a);for(let f=0,s=o.length-t+1;f<s;++f)a[o[f+e]]/=t}}}else return{mapIndex(r,o,i){let a=0,f=0,s=r.length;for(let u=0,c=Math.min(s,t-e-1);u<c;++u){let h=o[r[u]];h!==null&&!isNaN(h=+h)&&(a+=h,++f)}for(let u=-e,c=s-e;u<c;++u){let h=o[r[u+t-1]],l=o[r[u]];h!==null&&!isNaN(h=+h)&&(a+=h,++f),i[r[u+e]]=a/f,l!==null&&!isNaN(l=+l)&&(a-=l,--f)}}}}function NC(t,e,n,r){for(let o=n+r;n<o;++n){let i=t[e[n]];if(Yt(i))return i}}function IC(t,e,n,r){for(let o=n+r-1;o>=n;--o){let i=t[e[o]];if(Yt(i))return i}}function E6(t,e,n,r){for(let o=n+r;n<o;++n){let i=t[e[n]];if(i!==null&&!isNaN(i=+i))return i}}function N6(t,e,n,r){for(let o=n+r-1;o>=n;--o){let i=t[e[o]];if(i!==null&&!isNaN(i=+i))return i}}function RC(t,e,n){return n?{mapIndex(r,o,i){for(let a=0,f=r.length-t;a<f;++a){let s=o[r[a]],u=o[r[a+t-1]];i[r[a+e]]=s===null||u===null?NaN:u-s}}}:{mapIndex(r,o,i){for(let a=-e,f=r.length-t+e+1;a<f;++a)i[r[a+e]]=N6(o,r,a,t)-E6(o,r,a,t)}}}function DC(t,e,n){return n?{mapIndex(r,o,i){for(let a=0,f=r.length-t;a<f;++a){let s=o[r[a]],u=o[r[a+t-1]];i[r[a+e]]=s===null||u===null?NaN:u/s}}}:{mapIndex(r,o,i){for(let a=-e,f=r.length-t+e+1;a<f;++a)i[r[a+e]]=N6(o,r,a,t)/E6(o,r,a,t)}}}function PC(t,e,n){return n?{mapIndex(r,o,i){for(let a=0,f=r.length-t;a<f;++a)i[r[a+e]]=o[r[a]]}}:{mapIndex(r,o,i){for(let a=-e,f=r.length-t+e+1;a<f;++a)i[r[a+e]]=NC(o,r,a,t)}}}function LC(t,e,n){return n?{mapIndex(r,o,i){for(let a=0,f=r.length-t;a<f;++a)i[r[a+e]]=o[r[a+t-1]]}}:{mapIndex(r,o,i){for(let a=-e,f=r.length-t+e+1;a<f;++a)i[r[a+e]]=IC(o,r,a,t)}}}var Hr={n:20,k:2,color:"currentColor",opacity:.2,strict:!0,anchor:"end"};function OC(t,{x:e=B,y:n,k:r=Hr.k,color:o=Hr.color,opacity:i=Hr.opacity,fill:a=o,fillOpacity:f=i,stroke:s=o,strokeOpacity:u,strokeWidth:c,...h}={}){return se(Tt(a)?null:ki(t,nn({x1:Ei({k:-r,...h}),x2:Ei({k:r,...h})},{x1:e,x2:e,y:n,fill:a,fillOpacity:f,...h})),Tt(s)?null:Ci(t,nn({x:Ei(h)},{x:e,y:n,stroke:s,strokeOpacity:u,strokeWidth:c,...h})))}function zC(t,{x:e,y:n=B,k:r=Hr.k,color:o=Hr.color,opacity:i=Hr.opacity,fill:a=o,fillOpacity:f=i,stroke:s=o,strokeOpacity:u,strokeWidth:c,...h}={}){return se(Tt(a)?null:Do(t,nn({y1:Ei({k:-r,...h}),y2:Ei({k:r,...h})},{x:e,y1:n,y2:n,fill:a,fillOpacity:f,...h})),Tt(s)?null:$i(t,nn({y:Ei(h)},{x:e,y:n,stroke:s,strokeOpacity:u,strokeWidth:c,...h})))}function Ei({n:t=Hr.n,k:e=0,strict:n=Hr.strict,anchor:r=Hr.anchor}={}){return $u({k:t,reduce:o=>dr(o)+e*(rn(o)||0),strict:n,anchor:r})}var FC={ariaLabel:"tick",fill:null,stroke:"currentColor"},tp=class extends nt{constructor(e,n,r){super(e,n,r,FC),$n(this,r)}render(e,n,r,o,i){return K("svg:g",i).call(ct,this,o,i).call(this._transform,this,n).call(a=>a.selectAll().data(e).enter().append("line").call(rt,this).attr("x1",this._x1(n,r,o)).attr("x2",this._x2(n,r,o)).attr("y1",this._y1(n,r,o)).attr("y2",this._y2(n,r,o)).call(dt,this,r).call(qr,this,r,i)).node()}},ep=class extends tp{constructor(e,n={}){let{x:r,y:o,inset:i=0,insetTop:a=i,insetBottom:f=i}=n;super(e,{x:{value:r,scale:"x"},y:{value:o,scale:"y",type:"band",optional:!0}},n),this.insetTop=wt(a),this.insetBottom=wt(f)}_transform(e,n,{x:r}){e.call(ot,n,{x:r},Gt,0)}_x1(e,{x:n}){return r=>n[r]}_x2(e,{x:n}){return r=>n[r]}_y1({y:e},{y:n},{marginTop:r}){let{insetTop:o}=this;return n&&e?i=>n[i]+o:r+o}_y2({y:e},{y:n},{height:r,marginBottom:o}){let{insetBottom:i}=this;return n&&e?a=>n[a]+e.bandwidth()-i:r-o-i}},np=class extends tp{constructor(e,n={}){let{x:r,y:o,inset:i=0,insetRight:a=i,insetLeft:f=i}=n;super(e,{y:{value:o,scale:"y"},x:{value:r,scale:"x",type:"band",optional:!0}},n),this.insetRight=wt(a),this.insetLeft=wt(f)}_transform(e,n,{y:r}){e.call(ot,n,{y:r},0,Gt)}_x1({x:e},{x:n},{marginLeft:r}){let{insetLeft:o}=this;return n&&e?i=>n[i]+o:r+o}_x2({x:e},{x:n},{width:r,marginRight:o}){let{insetRight:i}=this;return n&&e?a=>n[a]+e.bandwidth()-i:r-o-i}_y1(e,{y:n}){return r=>n[r]}_y2(e,{y:n}){return r=>n[r]}};function Kg(t,{x:e=B,...n}={}){return new ep(t,{...n,x:e})}function Qg(t,{y:e=B,...n}={}){return new np(t,{...n,y:e})}function YC(t,{x:e=B,y:n=null,r,fill:o="#ccc",fillOpacity:i,stroke:a="currentColor",strokeOpacity:f,strokeWidth:s=2,sort:u,...c}={}){let h=n!=null?wi:Jh;return se(bn(t,h({x1:Jg,x2:ty},{x:e,y:n,stroke:a,strokeOpacity:f,...c})),Wr(t,h({x1:"p25",x2:"p75"},{x:e,y:n,fill:o,fillOpacity:i,...c})),Kg(t,h({x:"p50"},{x:e,y:n,stroke:a,strokeOpacity:f,strokeWidth:s,sort:u,...c})),En(t,nn({x:I6},{x:e,y:n,z:n,r,stroke:a,strokeOpacity:f,...c})))}function qC(t,{y:e=B,x:n=null,r,fill:o="#ccc",fillOpacity:i,stroke:a="currentColor",strokeOpacity:f,strokeWidth:s=2,sort:u,...c}={}){let h=n!=null?bi:Jh;return se(xn(t,h({y1:Jg,y2:ty},{x:n,y:e,stroke:a,strokeOpacity:f,...c})),Gr(t,h({y1:"p25",y2:"p75"},{x:n,y:e,fill:o,fillOpacity:i,...c})),Qg(t,h({y:"p50"},{x:n,y:e,stroke:a,strokeOpacity:f,strokeWidth:s,sort:u,...c})),En(t,nn({y:I6},{x:n,y:e,z:n,r,stroke:a,strokeOpacity:f,...c})))}function I6(t){let e=Jg(t),n=ty(t);return t.map(r=>r<e||r>n?r:NaN)}function Jg(t){let e=R6(t)*2.5-D6(t)*1.5;return zt(t,n=>n>=e?n:NaN)}function ty(t){let e=D6(t)*2.5-R6(t)*1.5;return At(t,n=>n<=e?n:NaN)}function R6(t){return Re(t,.25)}function D6(t){return Re(t,.75)}var BC={ariaLabel:"raster",stroke:null,pixelSize:1};function pf(t,e){let n=+t;if(isNaN(n))throw new Error(`invalid ${e}: ${t}`);return n}function P6(t,e){let n=Math.floor(t);if(isNaN(n))throw new Error(`invalid ${e}: ${t}`);return n}var Nu=class extends nt{constructor(e,n,r={},o){let{width:i,height:a,x:f,y:s,x1:u=f==null?0:void 0,y1:c=s==null?0:void 0,x2:h=f==null?i:void 0,y2:l=s==null?a:void 0,pixelSize:d=o.pixelSize,blur:p=0,interpolate:m}=r;if(i!=null&&(i=P6(i,"width")),a!=null&&(a=P6(a,"height")),u!=null&&(u=pf(u,"x1")),c!=null&&(c=pf(c,"y1")),h!=null&&(h=pf(h,"x2")),l!=null&&(l=pf(l,"y2")),f==null&&(u==null||h==null))throw new Error("missing x");if(s==null&&(c==null||l==null))throw new Error("missing y");e!=null&&i!=null&&a!=null&&(f===void 0&&u!=null&&h!=null&&(f=KC(u,h,i,a)),s===void 0&&c!=null&&l!=null&&(s=QC(c,l,i,a))),super(e,{x:{value:f,scale:"x",optional:!0},y:{value:s,scale:"y",optional:!0},x1:{value:u==null?null:[u],scale:"x",optional:!0,filter:null},y1:{value:c==null?null:[c],scale:"y",optional:!0,filter:null},x2:{value:h==null?null:[h],scale:"x",optional:!0,filter:null},y2:{value:l==null?null:[l],scale:"y",optional:!0,filter:null},...n},r,o),this.width=i,this.height=a,this.pixelSize=pf(d,"pixelSize"),this.blur=pf(p,"blur"),this.interpolate=f==null||s==null?null:UC(m)}},rp=class extends Nu{constructor(e,n={}){let{imageRendering:r}=n;if(e==null){let{fill:o,fillOpacity:i}=n;kt(i)[0]!==void 0&&(n=op("fillOpacity",n)),Bt(o)[0]!==void 0&&(n=op("fill",n))}super(e,void 0,n,BC),this.imageRendering=Dt(r,"auto")}scale(e,{color:n,...r},o){return super.scale(e,r,o)}render(e,n,r,o,i){let a=n[r.channels.fill?.scale]??(C=>C),{x:f,y:s}=r,{document:u}=i,[c,h,l,d]=L6(r,o,i),p=l-c,m=d-h,{pixelSize:x,width:y=Math.round(Math.abs(p)/x),height:g=Math.round(Math.abs(m)/x)}=this,w=y*g,{fill:b,fillOpacity:_}=r,v=0;if(this.interpolate){let C=y/p,N=g/m,R=mt(f,D=>(D-c)*C,Float64Array),z=mt(s,D=>(D-h)*N,Float64Array);b&&(b=this.interpolate(e,y,g,R,z,b)),_&&(_=this.interpolate(e,y,g,R,z,_))}else this.data==null&&e&&(v=e.fi*w);let M=u.createElement("canvas");M.width=y,M.height=g;let k=M.getContext("2d"),S=k.createImageData(y,g),A=S.data,{r:T,g:$,b:I}=Le(this.fill)??{r:0,g:0,b:0},E=(this.fillOpacity??1)*255;for(let C=0;C<w;++C){let N=C<<2;if(b){let R=a(b[C+v]);if(R==null){A[N+3]=0;continue}({r:T,g:$,b:I}=Le(R))}_&&(E=_[C+v]*255),A[N+0]=T,A[N+1]=$,A[N+2]=I,A[N+3]=E}return this.blur>0&&vp(S,this.blur),k.putImageData(S,0,0),K("svg:g",i).call(ct,this,o,i).call(ot,this,n).call(C=>C.append("image").attr("transform",`translate(${c},${h}) scale(${Math.sign(l-c)},${Math.sign(d-h)})`).attr("width",Math.abs(p)).attr("height",Math.abs(m)).attr("preserveAspectRatio","none").call(Q,"image-rendering",this.imageRendering).call(rt,this).attr("xlink:href",M.toDataURL())).node()}};function ny(t,e,n){arguments.length<3&&(n=e,e=null);let{x:r,y:o,[t]:i,...a}=n;return r===void 0&&o===void 0&&Cv(e)&&(r=pi,o=yo,i===void 0&&(i=_v)),[e,{...a,x:r,y:o,[t]:i}]}function XC(){let[t,e]=ny("fill",...arguments);return new rp(t,t==null||e.fill!==void 0||e.fillOpacity!==void 0?e:{...e,fill:B})}function L6({x1:t,y1:e,x2:n,y2:r},o,{projection:i}){let{width:a,height:f,marginTop:s,marginRight:u,marginBottom:c,marginLeft:h}=o;return[t&&i==null?t[0]:h,e&&i==null?e[0]:s,n&&i==null?n[0]:a-u,r&&i==null?r[0]:f-c]}function ry({x1:t,y1:e,x2:n,y2:r},o,i,a){let f={};return t&&(f.x1=t),e&&(f.y1=e),n&&(f.x2=n),r&&(f.y2=r),L6(_o(f,o),i,a)}function op(t,e={}){let{[t]:n}=e;if(typeof n!="function")throw new Error(`invalid ${t}: not a function`);return It({...e,[t]:void 0},function(r,o,i,a,f,s){let{x:u,y:c}=a;if(!u)throw new Error("missing scale: x");if(!c)throw new Error("missing scale: y");let[h,l,d,p]=ry(i,a,f,s),m=d-h,x=p-l,{pixelSize:y}=this,{width:g=Math.round(Math.abs(m)/y),height:w=Math.round(Math.abs(x)/y)}=e,b=new Array(g*w*(o?o.length:1)),_=m/g,v=x/w,M=0;for(let k of o??[void 0])for(let S=.5;S<w;++S)for(let A=.5;A<g;++A,++M)b[M]=n(u.invert(h+A*_),c.invert(l+S*v),k);return{data:b,facets:o,channels:{[t]:{value:b,scale:"auto"}}}})}function UC(t){if(typeof t=="function")return t;if(t==null)return ey;switch(`${t}`.toLowerCase()){case"none":return ey;case"nearest":return z6;case"barycentric":return O6();case"random-walk":return F6()}throw new Error(`invalid interpolate: ${t}`)}function ey(t,e,n,r,o,i){let a=new Array(e*n);for(let f of t)r[f]<0||r[f]>=e||o[f]<0||o[f]>=n||(a[Math.floor(o[f])*e+Math.floor(r[f])]=i[f]);return a}function O6({random:t=ei(42)}={}){return(e,n,r,o,i,a)=>{let{points:f,triangles:s,hull:u}=fn.from(e,d=>o[d],d=>i[d]),c=new a.constructor(n*r).fill(NaN),h=new Uint8Array(n*r),l=ZC(a,t);for(let d=0;d<s.length;d+=3){let p=s[d],m=s[d+1],x=s[d+2],y=f[2*p],g=f[2*m],w=f[2*x],b=f[2*p+1],_=f[2*m+1],v=f[2*x+1],M=Math.min(y,g,w),k=Math.max(y,g,w),S=Math.min(b,_,v),A=Math.max(b,_,v),T=(_-v)*(y-w)+(b-v)*(w-g);if(!T)continue;let $=a[e[p]],I=a[e[m]],E=a[e[x]];for(let C=Math.floor(M);C<k;++C)for(let N=Math.floor(S);N<A;++N){if(C<0||C>=n||N<0||N>=r)continue;let R=C+.5,z=N+.5,D=Math.sign(T),Y=(_-v)*(R-w)+(z-v)*(w-g);if(Y*D<0)continue;let q=(v-b)*(R-w)+(z-v)*(y-w);if(q*D<0)continue;let W=T-(Y+q);if(W*D<0)continue;let X=C+n*N;c[X]=l($,Y/T,I,q/T,E,W/T,C,N),h[X]=1}}return WC(c,h,o,i,a,n,r,u,e,l),c}}function WC(t,e,n,r,o,i,a,f,s,u){n=Float64Array.from(f,d=>n[s[d]]),r=Float64Array.from(f,d=>r[s[d]]),o=Array.from(f,d=>o[s[d]]);let c=n.length,h=Array.from({length:c},(d,p)=>HC(p,n,r)),l=0;for(let d=0;d<a;++d){let p=d+.5;for(let m=0;m<i;++m){let x=m+i*d;if(!e[x]){let y=m+.5;for(let g=0;g<c;++g){let w=(c+l+(g%2?(g+1)/2:-g/2))%c;if(h[w](y,p)){let b=GC(n.at(w-1),r.at(w-1),n[w],r[w],y,p);t[x]=u(o.at(w-1),b,o[w],1-b,o[w],0,m,d),l=w;break}}}}}}function GC(t,e,n,r,o,i){let a=n-t,f=r-e,s=a*(n-o)+f*(r-i),u=a*(o-t)+f*(i-e);return s>0&&u>0?s/(s+u):+(s>u)}function Eu(t,e,n,r){return t*r-n*e}function HC(t,e,n){let r=e.length,o=e.at(t-2),i=n.at(t-2),a=e.at(t-1),f=n.at(t-1),s=e[t],u=n[t],c=e.at(t+1-r),h=n.at(t+1-r),l=a-s,d=f-u,p=o-a,m=i-f,x=s-c,y=u-h,g=Math.hypot(l,d),w=Math.hypot(p,m),b=Math.hypot(x,y);return(_,v)=>{let M=_-a,k=v-f,S=_-s,A=v-u;return Eu(M,k,S,A)>-1e-6&&Eu(M,k,l,d)*w-Eu(M,k,p,m)*g>-1e-6&&Eu(S,A,x,y)*g-Eu(S,A,l,d)*b<=0}}function z6(t,e,n,r,o,i){let a=new i.constructor(e*n),f=fn.from(t,c=>r[c],c=>o[c]),s,u;for(let c=.5,h=0;c<n;++c){u=s;for(let l=.5;l<e;++l,++h)u=f.find(l,c,u),l===.5&&(s=u),a[h]=i[t[u]]}return a}function F6({random:t=ei(42),minDistance:e=.5,maxSteps:n=2}={}){return(r,o,i,a,f,s)=>{let u=new s.constructor(o*i),c=fn.from(r,p=>a[p],p=>f[p]),h,l,d;for(let p=.5,m=0;p<i;++p){l=h;for(let x=.5;x<o;++x,++m){let y=x,g=p;d=l=c.find(y,g,l),x===.5&&(h=l);let w,b=0;for(;(w=Math.hypot(a[r[d]]-y,f[r[d]]-g))>e&&b<n;){let _=t(x,p,b)*2*Math.PI;y+=Math.cos(_)*w,g+=Math.sin(_)*w,d=c.find(y,g,d),++b}u[m]=s[r[d]]}}return u}}function jC(t,e,n,r,o,i){return e*t+r*n+i*o}function VC(t){return(e,n,r,o,i,a,f,s)=>{let u=t(f,s);return u<n?e:u<n+o?r:i}}function ZC(t,e){return Pr(t)||Xt(t)?jC:VC(e)}function KC(t,e,n){return{transform(r){let o=r.length,i=new Float64Array(o),a=(e-t)/n,f=t+a/2;for(let s=0;s<o;++s)i[s]=s%n*a+f;return i}}}function QC(t,e,n,r){return{transform(o){let i=o.length,a=new Float64Array(i),f=(e-t)/r,s=t+f/2;for(let u=0;u<i;++u)a[u]=Math.floor(u/n)%r*f+s;return a}}}var Y6={ariaLabel:"contour",fill:"none",stroke:"currentColor",strokeMiterlimit:1,pixelSize:2},ip=class extends Nu{constructor(e,{smooth:n=!0,value:r,...o}={}){let i=wd({},o,Y6);if(r===void 0){for(let f in i)if(i[f].value!=null){if(r!==void 0)throw new Error("ambiguous contour value");r=o[f],o[f]="value"}}if(r!=null){let f={transform:s=>s.map(u=>u.value),label:Me(r)};for(let s in i)o[s]==="value"&&(o[s]=f)}if(e==null){if(r==null)throw new Error("missing contour value");o=op("value",{value:r,...o}),r=null}else{let{interpolate:f}=o;r===void 0&&(r=B),f===void 0&&(o.interpolate="nearest")}super(e,{value:{value:r,optional:!0}},JC(o),Y6);let a={geometry:{value:B}};for(let f in this.channels){let s=this.channels[f],{scale:u}=s;u==="x"||u==="y"||f==="value"||(a[f]=s,delete this.channels[f])}this.contourChannels=a,this.smooth=!!n}filter(e,{x:n,y:r,value:o,...i},a){return super.filter(e,i,a)}render(e,n,r,o,i){let{geometry:a}=r,f=ke();return K("svg:g",i).call(ct,this,o,i).call(ot,this,n).call(s=>{s.selectAll().data(e).enter().append("path").call(rt,this).attr("d",u=>f(a[u])).call(dt,this,r)}).node()}};function JC({thresholds:t,interval:e,...n}){return t=Gg(t,e,Zr),It(n,function(r,o,i,a,f,s){let[u,c,h,l]=ry(i,a,f,s),d=h-u,p=l-c,{pixelSize:m,width:x=Math.round(Math.abs(d)/m),height:y=Math.round(Math.abs(p)/m)}=this,g=x/d,w=y/p,b=i.value.value,_=[];if(this.interpolate){let{x:A,y:T}=ir(i,a,s),$=mt(A,N=>(N-u)*g,Float64Array),I=mt(T,N=>(N-c)*w,Float64Array),E=[i.x,i.y,i.value],C=[$,I,b];for(let N of o){let R=this.filter(N,E,C);_.push(this.interpolate(R,x,y,$,I,b))}}else if(o){let A=x*y,T=o.length;for(let $=0;$<T;++$)_.push(b.slice($*A,$*A+A))}else _.push(b);if(this.blur>0)for(let A of _)Mf({data:A,width:x,height:y},this.blur);let v=t$(t,b,...n$(_));if(v===null)throw new Error(`unsupported thresholds: ${t}`);let{contour:M}=Vi().size([x,y]).smooth(this.smooth),k=[],S=[];for(let A of _)S.push(oe(k.length,k.push(...mt(v,T=>M(A,T)))));for(let{coordinates:A}of k)for(let T of A)for(let $ of T)for(let I of $)I[0]=I[0]/g+u,I[1]=I[1]/w+c;return{data:k,facets:S,channels:ad(this.contourChannels,k)}})}function t$(t,e,n,r){if(typeof t?.range=="function")return t.range(t.floor(n),r);if(typeof t=="function"&&(t=t(e,n,r)),typeof t!="number")return pn(t);let o=ye(...zi(n,r,t),t);for(;o[o.length-1]>=r;)o.pop();for(;o[1]<n;)o.shift();return o}function e$(){return new ip(...ny("value",...arguments))}function n$(t){return[zt(t,e=>zt(e,q6)),At(t,e=>At(e,q6))]}function q6(t){return isFinite(t)?t:NaN}function r$(t,e){return oy(du,t,e)}function o$(t,e={}){return oy(pu,t,e)}function i$(t,e={}){return oy(Wa,t,e)}function oy(t,e,n={}){let{x:r,y:o,maxRadius:i}=n,a=t({px:r,py:o,maxRadius:i}),f=[];r!=null&&f.push(xn(e,B6("x",{...a,inset:-6},n))),o!=null&&f.push(bn(e,B6("y",{...a,inset:-6},n))),r!=null&&f.push(Br(e,X6("x",{...a,dy:9,frameAnchor:"bottom",lineAnchor:"top"},n))),o!=null&&f.push(Br(e,X6("y",{...a,dx:-9,frameAnchor:"left",textAnchor:"end"},n)));for(let s of f)s.ariaLabel=`crosshair ${s.ariaLabel}`;return se(...f)}function U6(t,{channels:e,...n},{facet:r,facetAnchor:o,fx:i,fy:a,[t]:f,channels:s,transform:u,initializer:c}){return{...n,facet:r,facetAnchor:o,fx:i,fy:a,[t]:f,channels:{...e,...s},transform:u,initializer:a$(t,c)}}function a$(t,e){return e==null?e:function(n,r,{x:o,y:i,px:a,py:f,...s},...u){let{channels:{x:c,y:h,...l}={},...d}=e.call(this,n,r,{...s,x:a,y:f},...u);return{channels:{...l,...c&&{px:c,...t==="x"&&{x:c}},...h&&{py:h,...t==="y"&&{y:h}}},...d}}}function B6(t,e,n){let{color:r="currentColor",opacity:o=.2,ruleStroke:i=r,ruleStrokeOpacity:a=o,ruleStrokeWidth:f}=n;return{...U6(t,e,n),stroke:i,strokeOpacity:a,strokeWidth:f}}function X6(t,e,n){let{color:r="currentColor",textFill:o=r,textFillOpacity:i,textStroke:a="var(--plot-background)",textStrokeOpacity:f,textStrokeWidth:s=5}=n;return{...U6(t,e,f$(t,n)),fill:o,fillOpacity:i,stroke:a,strokeOpacity:f,strokeWidth:s}}function f$(t,e){return It(e,(n,r,o)=>({channels:{text:{value:fu(o,t)?.value}}}))}var s$={ariaLabel:"delaunay link",fill:"none",stroke:"currentColor",strokeMiterlimit:1},u$={ariaLabel:"delaunay mesh",fill:null,stroke:"currentColor",strokeOpacity:.2},c$={ariaLabel:"hull",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeMiterlimit:1},l$={ariaLabel:"voronoi",fill:"none",stroke:"currentColor",strokeMiterlimit:1},h$={ariaLabel:"voronoi mesh",fill:null,stroke:"currentColor",strokeOpacity:.2},iy=class extends nt{constructor(e,n={}){let{x:r,y:o,z:i,curve:a,tension:f}=n;super(e,{x:{value:r,scale:"x",optional:!0},y:{value:o,scale:"y",optional:!0},z:{value:i,optional:!0}},n,s$),this.curve=Mu(a,f),$n(this,n)}render(e,n,r,o,i){let{x:a,y:f}=n,{x:s,y:u,z:c}=r,{curve:h}=this,[l,d]=pe(this,o),p=s?g=>s[g]:Wt(l),m=u?g=>u[g]:Wt(d),x=this;function y(g){let w=-1,b=[],_={};for(let E in r)_[E]=[];let v=[],M=[],k=[],S=[];function A(E,C){E=g[E],C=g[C],b.push(++w),v[w]=p(E),k[w]=m(E),M[w]=p(C),S[w]=m(C);for(let N in r)_[N].push(r[N][C])}let{halfedges:T,hull:$,triangles:I}=fn.from(g,p,m);for(let E=0;E<T.length;++E){let C=T[E];C>E&&A(I[E],I[C])}for(let E=0;E<$.length;++E)A($[E],$[(E+1)%$.length]);Pe(this).selectAll().data(b).enter().append("path").call(rt,x).attr("d",E=>{let C=Fe(),N=h(C);return N.lineStart(),N.point(v[E],k[E]),N.point(M[E],S[E]),N.lineEnd(),C}).call(dt,x,_).call(qr,x,_,i)}return K("svg:g",i).call(ct,this,o,i).call(ot,this,{x:s&&a,y:u&&f}).call(c?g=>g.selectAll().data(ge(e,w=>c[w]).values()).enter().append("g").each(y):g=>g.datum(e).each(y)).node()}},Iu=class extends nt{constructor(e,n={},r,o=({z:i})=>i){let{x:i,y:a}=n;super(e,{x:{value:i,scale:"x",optional:!0},y:{value:a,scale:"y",optional:!0},z:{value:o(n),optional:!0}},n,r)}render(e,n,r,o,i){let{x:a,y:f}=n,{x:s,y:u,z:c}=r,[h,l]=pe(this,o),d=s?y=>s[y]:Wt(h),p=u?y=>u[y]:Wt(l),m=this;function x(y){let g=fn.from(y,d,p);Pe(this).append("path").datum(y[0]).call(rt,m).attr("d",m._render(g,o)).call(dt,m,r)}return K("svg:g",i).call(ct,this,o,i).call(ot,this,{x:s&&a,y:u&&f}).call(c?y=>y.selectAll().data(ge(e,g=>c[g]).values()).enter().append("g").each(x):y=>y.datum(e).each(x)).node()}},ay=class extends Iu{constructor(e,n={}){super(e,n,u$),this.fill="none"}_render(e){return e.render()}},fy=class extends Iu{constructor(e,n={}){super(e,n,c$,$e)}_render(e){return e.renderHull()}},sy=class extends nt{constructor(e,n={}){let{x:r,y:o,z:i}=n;super(e,{x:{value:r,scale:"x",optional:!0},y:{value:o,scale:"y",optional:!0},z:{value:i,optional:!0}},It(n,function(a,f,s,u,c,h){let{x:l,y:d,z:p}=s;({x:l,y:d}=ir(s,u,h)),p=p?.value;let m=new Array((l??d).length).fill(null),[x,y]=pe(this,c),g=l?b=>l[b]:Wt(x),w=d?b=>d[b]:Wt(y);for(let b of f){l&&(b=b.filter(_=>Yt(g(_)))),d&&(b=b.filter(_=>Yt(w(_))));for(let[,_]of nr(b,p)){let v=fn.from(_,g,w),M=W6(v,c);for(let k=0,S=_.length;k<S;++k)m[_[k]]=M.renderCell(k)}}return{data:a,facets:f,channels:{cells:{value:m}}}}),l$)}render(e,n,r,o,i){let{x:a,y:f}=n,{x:s,y:u,cells:c}=r;return K("svg:g",i).call(ct,this,o,i).call(ot,this,{x:s&&a,y:u&&f}).call(h=>{h.selectAll().data(e).enter().append("path").call(rt,this).attr("d",l=>c[l]).call(dt,this,r)}).node()}},uy=class extends Iu{constructor(e,n){super(e,n,h$),this.fill="none"}_render(e,n){return W6(e,n).render()}};function W6(t,e){let{width:n,height:r,marginTop:o,marginRight:i,marginBottom:a,marginLeft:f}=e;return t.voronoi([f,o,n-i,r-a])}function Ru(t,e,{x:n,y:r,...o}={}){return[n,r]=Vt(n,r),new t(e,{...o,x:n,y:r})}function d$(t,e){return Ru(iy,t,e)}function p$(t,e){return Ru(ay,t,e)}function m$(t,e){return Ru(fy,t,e)}function g$(t,{x:e,y:n,initializer:r,...o}={}){return Ru(sy,t,{...fe({...o,x:e,y:n},Dd),initializer:r})}function y$(t,e){return Ru(uy,t,e)}var x$={ariaLabel:"density",fill:"none",stroke:"currentColor",strokeMiterlimit:1},ap=class extends nt{constructor(e,{x:n,y:r,z:o,weight:i,fill:a,stroke:f,...s}={}){let u=G6(a)&&(a="currentColor",!0),c=G6(f)&&(f="currentColor",!0);super(e,{x:{value:n,scale:"x",optional:!0},y:{value:r,scale:"y",optional:!0},z:{value:$e({z:o,fill:a,stroke:f}),optional:!0},weight:{value:i,optional:!0}},v$({...s,fill:a,stroke:f},u,c),x$),u&&(this.fill=void 0),c&&(this.stroke=void 0),this.z=o}filter(e){return e}render(e,n,r,o,i){let{contours:a}=r,f=ke();return K("svg:g",i).call(ct,this,o,i).call(ot,this,{}).call(s=>s.selectAll().data(e).enter().append("path").call(rt,this).call(dt,this,r).attr("d",u=>f(a[u]))).node()}};function b$(t,{x:e,y:n,...r}={}){return[e,n]=Vt(e,n),new ap(t,{...r,x:e,y:n})}var w$=new Set(["x","y","z","weight"]);function v$(t,e,n){let{bandwidth:o,thresholds:i}=t;return o=o===void 0?20:+o,i=i===void 0?20:typeof i?.[Symbol.iterator]=="function"?ne(i):+i,It(t,function(a,f,s,u,c,h){let l=s.weight?ne(s.weight.value):null,d=s.z?.value,{z:p}=this,[m,x]=pe(this,c),{width:y,height:g}=c,{x:w,y:b}=ir(s,u,h),_=Object.fromEntries(Object.entries(s).filter(([I])=>!w$.has(I)).map(([I,E])=>[I,{...E,value:[]}])),v=e&&[],M=n&&[],k=rm().x(w?I=>w[I]:m).y(b?I=>b[I]:x).weight(l?I=>l[I]:1).size([y,g]).bandwidth(o),S=[];for(let I of f){let E=[];S.push(E);for(let C of d?hu(I,d,p):[I]){let N=k.contours(C);E.push([C,N])}}let A=i;if(!(A instanceof eu)){let I=0;for(let E of S)for(let[,C]of E){let N=C.max;N>I&&(I=N)}A=Float64Array.from({length:i-1},(E,C)=>I*100*(C+1)/i)}let T=[],$=[];for(let I of S){let E=[];T.push(E);for(let[C,N]of I)for(let R of A){E.push($.length),$.push(N(R/100)),v&&v.push(R),M&&M.push(R);for(let z in _)_[z].value.push(s[z].value[C[0]])}}return v&&v.push(0),M&&M.push(0),{data:a,facets:T,channels:{..._,...v&&{fill:{value:v,scale:"color"}},...M&&{stroke:{value:M,scale:"color"}},contours:{value:$}}}})}function G6(t){return/^density$/i.test(t)}function _$(t,e){return V6("x",t,e)}function M$(t,e){return V6("y",t,e)}function V6(t,e,{x1:n,x2:r,y1:o,y2:i,x:a=n===void 0&&r===void 0?t==="y"?Ct:B:void 0,y:f=o===void 0&&i===void 0?t==="x"?Ct:B:void 0,fill:s,positiveFill:u="#3ca951",negativeFill:c="#4269d0",fillOpacity:h=1,positiveFillOpacity:l=h,negativeFillOpacity:d=h,stroke:p,strokeOpacity:m,z:x=Bt(p)[0],clip:y,tip:g,render:w,...b}={}){return[n,r]=H6(a,n,r),[o,i]=H6(f,o,i),n===r&&o===i&&(t==="y"?o=jr(0):n=jr(0)),{tip:g}=Cn({tip:g},t==="y"?"x":"y"),se(Tt(u)?null:Object.assign(Hd(e,{x1:n,x2:r,y1:o,y2:i,z:x,fill:u,fillOpacity:l,render:ko(w,j6(t,!0)),clip:y,...b}),{ariaLabel:"positive difference"}),Tt(c)?null:Object.assign(Hd(e,{x1:n,x2:r,y1:o,y2:i,z:x,fill:c,fillOpacity:d,render:ko(w,j6(t,!1)),clip:y,...b}),{ariaLabel:"negative difference"}),hf(e,{x:r,y:i,z:x,stroke:p,strokeOpacity:m,tip:g,clip:!0,...b}))}function H6(t,e,n){return e===void 0&&n===void 0?e=n=jr(t):e===void 0?(n=jr(n),e=t===void 0?n:jr(t)):n===void 0?(e=jr(e),n=t===void 0?e:jr(t)):(e=jr(e),n=jr(n)),[e,n]}function jr(t){let e,{value:n,label:r=Me(n)}=gn(t);return{transform:o=>e||(e=tt(o,n)),label:r}}function j6(t,e){let n=t==="x"?"y":"x",r=`${n}1`,o=`${n}2`,i=`${t}1`,a=`${t}2`;return(f,s,u,c,h,l)=>{let{[r]:d,[o]:p}=u,m=new Float32Array(d.length),x=new Float32Array(p.length),y=c[t==="y"?"height":"width"];(e===cd(s[t])<0?m:x).fill(y);let g=l(f,s,{...u,[o]:d,[a]:x},c,h),w=l(f,s,{...u,[r]:p,[i]:m},c,h),b=g.querySelector("g")??g,_=w.querySelector("g")??w;for(let v=0;b.firstChild;v+=2){let M=bd(),k=K("svg:clipPath",h).attr("id",M).node();k.appendChild(b.firstChild),_.childNodes[v].setAttribute("clip-path",`url(#${M})`),_.insertBefore(k,_.childNodes[v])}return w}}function cy({geometry:t=B,...e}={}){let n=To(r=>tt(r,t));return It({...e,x:null,y:null,geometry:{transform:n}},(r,o,i,a,f,{projection:s})=>{let u=n(r),c=u.length,h=new Float64Array(c),l=new Float64Array(c),d=ke(s);for(let p=0;p<c;++p)[h[p],l[p]]=d.centroid(u[p]);return{data:r,facets:o,channels:{x:{value:h,scale:s==null?"x":null,source:null},y:{value:l,scale:s==null?"y":null,source:null}}}})}function S$({geometry:t=B,...e}={}){let n=To(o=>tt(o,t)),r=To(o=>tt(n(o),bm));return{...e,x:{transform:o=>Float64Array.from(r(o),([i])=>i)},y:{transform:o=>Float64Array.from(r(o),([,i])=>i)},geometry:{transform:n}}}var T$={ariaLabel:"geo",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1},fp=class extends nt{constructor(e,n={}){let[r,o]=kt(n.r,3);super(e,{x:{value:n.tip?n.x:null,scale:"x",optional:!0},y:{value:n.tip?n.y:null,scale:"y",optional:!0},r:{value:r,scale:"r",filter:Ue,optional:!0},geometry:{value:n.geometry,scale:"projection"}},Tu(n),T$),this.r=o}render(e,n,r,o,i){let{geometry:a,r:f}=r,s=i.path(),{r:u}=this;return lo(u)?e=[]:u!==void 0&&s.pointRadius(u),K("svg:g",i).call(ct,this,o,i).call(ot,this,n).call(c=>{c.selectAll().data(e).enter().append("path").call(rt,this).attr("d",f?h=>s.pointRadius(f[h])(a[h]):h=>s(a[h])).call(dt,this,r)}).node()}};function ly(t,e={}){return e.tip&&e.x===void 0&&e.y===void 0?e=cy(e):e.geometry===void 0&&(e={...e,geometry:B}),new fp(t,e)}function k$({strokeWidth:t=1.5,...e}={}){return ly({type:"Sphere"},{strokeWidth:t,...e})}function A$({strokeOpacity:t=.1,...e}={}){return ly(Tm(),{strokeOpacity:t,...e})}var mf=.5,gf=0;function C$(t={fill:"count"},{binWidth:e,...n}={}){let{z:r}=n;return e=e===void 0?20:wt(e),t=B1(t,n),rr(t,"fill")&&(n.channels={...n.channels,fill:{value:[]}}),n.symbol===void 0&&(n.symbol="hexagon"),n.r===void 0&&!rr(t,"r")&&(n.r=e/2),It(n,(o,i,a,f,s,u)=>{let{x:c,y:h,z:l,fill:d,stroke:p,symbol:m}=a;if(c===void 0)throw new Error("missing channel: x");if(h===void 0)throw new Error("missing channel: y");({x:c,y:h}=ir(a,f,u)),l=l?l.value:tt(o,r),d=d?.value,p=p?.value,m=m?.value;let x=au(t,{z:l,fill:d,stroke:p,symbol:m}),y=l&&[],g=d&&[],w=p&&[],b=m&&[],_=[],v=[],M=[],k=-1;for(let $ of t)$.initialize(o);for(let $ of i){let I=[];for(let E of t)E.scope("facet",$);for(let[E,C]of nr($,x))for(let{index:N,extent:R}of $$(o,C,c,h,e)){I.push(++k),v.push(R.x),M.push(R.y),l&&y.push(x===l?E:l[N[0]]),d&&g.push(x===d?E:d[N[0]]),p&&w.push(x===p?E:p[N[0]]),m&&b.push(x===m?E:m[N[0]]);for(let z of t)z.reduce(N,R)}_.push(I)}let S=a.x.scale,A=a.y.scale,T={x:{value:v,source:f[S]?{value:mt(v,f[S].invert),scale:S}:null},y:{value:M,source:f[A]?{value:mt(M,f[A].invert),scale:A}:null},...l&&{z:{value:y}},...d&&{fill:{value:g,scale:"auto"}},...p&&{stroke:{value:w,scale:"auto"}},...m&&{symbol:{value:b,scale:"auto"}},...Object.fromEntries(t.map(({name:$,output:I})=>[$,{scale:"auto",label:I.label,radius:$==="r"?e/2:void 0,value:I.transform()}]))};return{data:o,facets:_,channels:T}})}function $$(t,e,n,r,o){let i=o*(1.5/N1),a=new Map;for(let f of e){let s=n[f],u=r[f];if(isNaN(s)||isNaN(u))continue;let c=Math.round(u=(u-gf)/i),h=Math.round(s=(s-mf)/o-(c&1)/2),l=u-c;if(Math.abs(l)*3>1){let m=s-h,x=h+(s<h?-1:1)/2,y=c+(u<c?-1:1),g=s-x,w=u-y;m*m+l*l>g*g+w*w&&(h=x+(c&1?1:-1)/2,c=y)}let d=`${h},${c}`,p=a.get(d);p===void 0&&(p={index:[],extent:{data:t,x:(h+(c&1)/2)*o+mf,y:c*i+gf}},a.set(d,p)),p.index.push(f)}return a.values()}var E$={ariaLabel:"hexgrid",fill:"none",stroke:"currentColor",strokeOpacity:.1};function N$(t){return new sp(t)}var sp=class extends nt{constructor({binWidth:e=20,clip:n=!0,...r}={}){super(go,void 0,{clip:n,...r},E$),this.binWidth=wt(e)}render(e,n,r,o,i){let{binWidth:a}=this,{marginTop:f,marginRight:s,marginBottom:u,marginLeft:c,width:h,height:l}=o,d=c-mf,p=h-s-mf,m=f-gf,x=l-u-gf,y=a/2,g=y*I1,w=g/2,b=y*2,_=g*1.5,v=Math.floor(d/b),M=Math.ceil(p/b),k=Math.floor((m+w)/_),S=Math.ceil((x-w)/_)+1,A=`m0,${Po(-g)}l${Po(y)},${Po(w)}v${Po(g)}l${Po(-y)},${Po(w)}`,T=A;for(let $=k;$<S;++$)for(let I=v;I<M;++I)T+=`M${Po(I*b+($&1)*y)},${Po($*_)}${A}`;return K("svg:g",i).datum(0).call(ct,this,o,i).call(ot,this,{},Gt+mf,Gt+gf).call($=>$.append("path").call(rt,this).call(dt,this,r).attr("d",T)).node()}};function Po(t){return Math.round(t*1e3)/1e3}var I$={ariaLabel:"image",fill:null,stroke:null};function R$(t){return/^\.*\//.test(t)}function D$(t){return/^(blob|data|file|http|https):/i.test(t)}function P$(t){return typeof t=="string"&&(R$(t)||D$(t))?[void 0,t]:[t,void 0]}var up=class extends nt{constructor(e,n={}){let{x:r,y:o,r:i,width:a,height:f,rotate:s,src:u,preserveAspectRatio:c,crossOrigin:h,frameAnchor:l,imageRendering:d}=n;i==null&&(i=void 0),i===void 0&&a===void 0&&f===void 0?a=f=16:a===void 0&&f!==void 0?a=f:f===void 0&&a!==void 0&&(f=a);let[p,m]=P$(u),[x,y]=kt(i),[g,w]=kt(a,y!==void 0?y*2:void 0),[b,_]=kt(f,y!==void 0?y*2:void 0),[v,M]=kt(s,0);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:o,scale:"y",optional:!0},r:{value:x,scale:"r",filter:Ue,optional:!0},width:{value:g,filter:Ue,optional:!0},height:{value:b,filter:Ue,optional:!0},rotate:{value:v,optional:!0},src:{value:p,optional:!0}},Tu(n),I$),this.src=m,this.width=w,this.rotate=M,this.height=_,this.r=y,this.preserveAspectRatio=Dt(c,"xMidYMid"),this.crossOrigin=Ut(h),this.frameAnchor=er(l),this.imageRendering=Dt(d,"auto")}render(e,n,r,o,i){let{x:a,y:f}=n,{x:s,y:u,width:c,height:h,r:l,rotate:d,src:p}=r,{r:m,width:x,height:y,rotate:g}=this,[w,b]=pe(this,o);return K("svg:g",i).call(ct,this,o,i).call(ot,this,{x:s&&a,y:u&&f}).call(_=>_.selectAll().data(e).enter().append("image").call(rt,this).attr("x",Z6(s,c,l,w,x,m)).attr("y",Z6(u,h,l,b,y,m)).attr("width",c?v=>c[v]:x!==void 0?x:l?v=>l[v]*2:m*2).attr("height",h?v=>h[v]:y!==void 0?y:l?v=>l[v]*2:m*2).attr("transform",d?v=>`rotate(${d[v]})`:g?`rotate(${g})`:null).attr("transform-origin",d||g?fr`${s?v=>s[v]:w}px ${u?v=>u[v]:b}px`:null).call(Q,"href",p?v=>p[v]:this.src).call(Q,"preserveAspectRatio",this.preserveAspectRatio).call(Q,"crossorigin",this.crossOrigin).call(Q,"image-rendering",this.imageRendering).call(Q,"clip-path",l?v=>`circle(${l[v]}px)`:m!==void 0?`circle(${m}px)`:null).call(dt,this,r)).node()}};function Z6(t,e,n,r,o,i){return e&&t?a=>t[a]-e[a]/2:e?a=>r-e[a]/2:t&&o!==void 0?a=>t[a]-o/2:o!==void 0?r-o/2:n&&t?a=>t[a]-n[a]:n?a=>r-n[a]:t?a=>t[a]-i:r-i}function L$(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=Vt(e,n)),new up(t,{...r,x:e,y:n})}function O$(t,e,n){var r=1e-8,o=e-1,i=n-1,a=0,f,s,u,c,h,l,d,p,m,x,y;if(t<=0)return 0;if(t>=1)return 1;for(e>=1&&n>=1?(u=t<.5?t:1-t,c=Math.sqrt(-2*Math.log(u)),d=(2.30753+c*.27061)/(1+c*(.99229+c*.04481))-c,t<.5&&(d=-d),p=(d*d-3)/6,m=2/(1/(2*e-1)+1/(2*n-1)),x=d*Math.sqrt(p+m)/m-(1/(2*n-1)-1/(2*e-1))*(p+5/6-2/(3*m)),d=e/(e+n*Math.exp(2*x))):(f=Math.log(e/(e+n)),s=Math.log(n/(e+n)),c=Math.exp(e*f)/e,h=Math.exp(n*s)/n,x=c+h,t<c/x?d=Math.pow(e*x*t,1/e):d=1-Math.pow(n*x*(1-t),1/n)),y=-yf(e)-yf(n)+yf(e+n);a<10;a++){if(d===0||d===1)return d;if(l=z$(d,e,n)-t,c=Math.exp(o*Math.log(d)+i*Math.log(1-d)+y),h=l/c,d-=c=h/(1-.5*Math.min(1,h*(o/d-i/(1-d)))),d<=0&&(d=.5*(d+c)),d>=1&&(d=.5*(d+c+1)),Math.abs(c)<r*d&&a>0)break}return d}function z$(t,e,n){var r=t===0||t===1?0:Math.exp(yf(e+n)-yf(e)-yf(n)+e*Math.log(t)+n*Math.log(1-t));return t<0||t>1?!1:t<(e+1)/(e+n+2)?r*K6(t,e,n)/e:1-r*K6(1-t,n,e)/n}function K6(t,e,n){var r=1e-30,o=1,i=e+n,a=e+1,f=e-1,s=1,u=1-i*t/a,c,h,l,d;for(Math.abs(u)<r&&(u=r),u=1/u,d=u;o<=100&&(c=2*o,h=o*(n-o)*t/((f+c)*(e+c)),u=1+h*u,Math.abs(u)<r&&(u=r),s=1+h/s,Math.abs(s)<r&&(s=r),u=1/u,d*=u*s,h=-(e+o)*(i+o)*t/((e+c)*(a+c)),u=1+h*u,Math.abs(u)<r&&(u=r),s=1+h/s,Math.abs(s)<r&&(s=r),u=1/u,l=u*s,d*=l,!(Math.abs(l-1)<3e-7));o++);return d}function yf(t){var e=0,n=[76.18009172947146,-86.5053203294167,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],r=1.000000000190015,o,i,a;for(a=(i=o=t)+5.5,a-=(o+.5)*Math.log(a);e<6;e++)r+=n[e]/++i;return Math.log(2.506628274631*r/o)-a}function Q6(t,e){var n=O$(2*Math.min(t,1-t),.5*e,.5);return n=Math.sqrt(e*(1-n)/n),t>.5?n:-n}var F$={ariaLabel:"linear-regression",fill:"currentColor",fillOpacity:.1,stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1},cp=class extends nt{constructor(e,n={}){let{x:r,y:o,z:i,ci:a=.95,precision:f=4}=n;if(super(e,{x:{value:r,scale:"x"},y:{value:o,scale:"y"},z:{value:$e(n),optional:!0}},n,F$),this.z=i,this.ci=+a,this.precision=+f,!(0<=this.ci&&this.ci<1))throw new Error(`invalid ci; not in [0, 1): ${a}`);if(!(this.precision>0))throw new Error(`invalid precision: ${f}`)}render(e,n,r,o,i){let{x:a,y:f,z:s}=r,{ci:u}=this;return K("svg:g",i).call(ct,this,o,i).call(ot,this,n).call(c=>c.selectAll().data(s?hu(e,s,this.z):[e]).enter().call(h=>h.append("path").attr("fill","none").call(rt,this).call(vi,this,{...r,fill:null,fillOpacity:null}).attr("d",l=>this._renderLine(l,a,f)).call(u&&!Lr(this.fill)?l=>l.select(Y$).attr("stroke","none").call(rt,this).call(vi,this,{...r,stroke:null,strokeOpacity:null,strokeWidth:null}).attr("d",d=>this._renderBand(d,a,f)):()=>{}))).node()}};function Y$(){return this.parentNode.insertBefore(this.ownerDocument.createElementNS(De.svg,"path"),this)}var hy=class extends cp{constructor(e,n){super(e,n)}_renderBand(e,n,r){let{ci:o,precision:i}=this,[a,f]=_t(e,c=>r[c]),s=lp(e,r,n),u=J6(e,r,n,(1-o)/2,s);return va().y(c=>c).x0(c=>u(c,-1)).x1(c=>u(c,1))(oe(a,f-i/2,i).concat(f))}_renderLine(e,n,r){let[o,i]=_t(e,f=>r[f]),a=lp(e,r,n);return`M${a(o)},${o}L${a(i)},${i}`}},dy=class extends cp{constructor(e,n){super(e,n)}_renderBand(e,n,r){let{ci:o,precision:i}=this,[a,f]=_t(e,c=>n[c]),s=lp(e,n,r),u=J6(e,n,r,(1-o)/2,s);return va().x(c=>c).y0(c=>u(c,-1)).y1(c=>u(c,1))(oe(a,f-i/2,i).concat(f))}_renderLine(e,n,r){let[o,i]=_t(e,f=>n[f]),a=lp(e,n,r);return`M${o},${a(o)}L${i},${a(i)}`}};function q$(t,{y:e=Ct,x:n=B,stroke:r,fill:o=Tt(r)?"currentColor":r,...i}={}){return new hy(t,rf({...i,x:n,y:e,fill:o,stroke:r}))}function B$(t,{x:e=Ct,y:n=B,stroke:r,fill:o=Tt(r)?"currentColor":r,...i}={}){return new dy(t,nf({...i,x:e,y:n,fill:o,stroke:r}))}function lp(t,e,n){let r=0,o=0,i=0,a=0;for(let c of t){let h=e[c],l=n[c];r+=h,o+=l,i+=h*l,a+=h*h}let f=t.length,s=(f*i-r*o)/(f*a-r*r),u=(o-s*r)/f;return c=>s*c+u}function J6(t,e,n,r,o){let i=xe(t,c=>e[c])/t.length,a=0,f=0;for(let c of t)a+=(e[c]-i)**2,f+=(n[c]-o(e[c]))**2;let s=Math.sqrt(f/(t.length-2)),u=Q6(r,t.length-2);return(c,h)=>{let l=o(c),d=s*Math.sqrt(1/t.length+(c-i)**2/a);return l+h*u*d}}function pp({path:t=B,delimiter:e,frameAnchor:n,treeLayout:r=ti,treeSort:o,treeSeparation:i,treeAnchor:a,treeFilter:f,...s}={}){a=mp(a),o=n5(o),f!=null&&(f=my(f)),n===void 0&&(n=a.frameAnchor);let u=r5(e),c=c5(s,my),[h,l]=ve(),[d,p]=ve();return{x:h,y:d,frameAnchor:n,...fe(s,(m,x)=>{let y=u(tt(m,t)),g=l([]),w=p([]),b=-1,_=[],v=[],M=ol().path(A=>y[A]),k=je(m)?A=>A.data=m[A.data]:A=>A.data=m.get(A.data),S=r();S.nodeSize&&S.nodeSize([1,1]),S.separation&&i!==void 0&&S.separation(i??nu);for(let A of c)A[dp]=A[s5]([]);for(let A of x){let T=[],$=M(A.filter(I=>y[I]!=null)).each(k);o!=null&&$.sort(o),S($);for(let I of $.descendants())if(!(f!=null&&!f(I))){T.push(++b),_[b]=I.data,a.position(I,b,g,w);for(let E of c)E[dp][b]=E[u5](I)}v.push(T)}return{data:_,facets:v}}),...Object.fromEntries(c)}}function wy({path:t=B,delimiter:e,curve:n="bump-x",stroke:r="#555",strokeWidth:o=1.5,strokeOpacity:i=.5,treeLayout:a=ti,treeSort:f,treeSeparation:s,treeAnchor:u,treeFilter:c,...h}={}){u=mp(u),f=n5(f),c!=null&&(c=e5(c)),h={curve:n,stroke:r,strokeWidth:o,strokeOpacity:i,...h};let l=r5(e),d=c5(h,e5),[p,m]=ve(),[x,y]=ve(),[g,w]=ve(),[b,_]=ve();return{x1:p,x2:x,y1:g,y2:b,...fe(h,(v,M)=>{let k=l(tt(v,t)),S=m([]),A=y([]),T=w([]),$=_([]),I=-1,E=[],C=[],N=ol().path(z=>k[z]),R=a();R.nodeSize&&R.nodeSize([1,1]),R.separation&&s!==void 0&&R.separation(s??nu);for(let z of d)z[dp]=z[s5]([]);for(let z of M){let D=[],Y=N(z.filter(q=>k[q]!=null)).each(q=>q.data=v[q.data]);f!=null&&Y.sort(f),R(Y);for(let{source:q,target:W}of Y.links())if(!(c!=null&&!c(W,q))){D.push(++I),E[I]=W.data,u.position(q,I,S,T),u.position(W,I,A,$);for(let X of d)X[dp][I]=X[u5](W,q)}C.push(D)}return{data:E,facets:C}}),...Object.fromEntries(d)}}function mp(t="left"){switch(`${t}`.trim().toLowerCase()){case"left":return X$;case"right":return U$}throw new Error(`invalid tree anchor: ${t}`)}var X$={frameAnchor:"left",dx:6,position({x:t,y:e},n,r,o){r[n]=e,o[n]=-t}},U$={frameAnchor:"right",dx:-6,position({x:t,y:e},n,r,o){r[n]=-e,o[n]=-t}};function n5(t){return t==null||typeof t=="function"?t:`${t}`.trim().toLowerCase().startsWith("node:")?t5(my(t)):t5(W$(t))}function t5(t){return(e,n)=>he(t(e),t(n))}function W$(t){return e=>e.data?.[t]}function r5(t="/"){if(t=`${t}`,t==="/")return n=>n;if(t.length!==1)throw new Error("delimiter must be exactly one character");let e=t.charCodeAt(0);return n=>n.map(r=>G$(r,e))}var py=92,o5=47;function G$(t,e){if(e===py)throw new Error("delimiter cannot be backslash");let n=!1;for(let r=0,o=t.length;r<o;++r){switch(t.charCodeAt(r)){case py:if(!n){n=!0;continue}break;case e:n?(t=t.slice(0,r-1)+t.slice(r),--r,--o):t=t.slice(0,r)+"/"+t.slice(r+1);break;case o5:n?(t=t.slice(0,r)+"\\\\"+t.slice(r),r+=2,o+=2):(t=t.slice(0,r)+"\\"+t.slice(r),++r,++o);break}n=!1}return t}function H$(t){let e=!1;for(let n=0,r=t.length;n<r;++n){switch(t.charCodeAt(n)){case py:if(!e){e=!0;continue}case o5:e&&(t=t.slice(0,n-1)+t.slice(n),--n,--r);break}e=!1}return t}function i5(t){return re(t)&&typeof t.node=="function"}function j$(t){return re(t)&&typeof t.link=="function"}function my(t){if(i5(t))return t.node;if(t=`${t}`.trim().toLowerCase(),!!t.startsWith("node:")){switch(t){case"node:name":return yy;case"node:path":return gy;case"node:internal":return a5;case"node:external":return f5;case"node:depth":return xy;case"node:height":return by}throw new Error(`invalid node value: ${t}`)}}function e5(t){if(i5(t))return t.node;if(j$(t))return t.link;if(t=`${t}`.trim().toLowerCase(),!(!t.startsWith("node:")&&!t.startsWith("parent:"))){switch(t){case"parent:name":return hp(yy);case"parent:path":return hp(gy);case"parent:depth":return hp(xy);case"parent:height":return hp(by);case"node:name":return yy;case"node:path":return gy;case"node:internal":return a5;case"node:external":return f5;case"node:depth":return xy;case"node:height":return by}throw new Error(`invalid link value: ${t}`)}}function gy(t){return t.id}function yy(t){return V$(t.id)}function xy(t){return t.depth}function by(t){return t.height}function a5(t){return!!t.children}function f5(t){return!t.children}function hp(t){return(e,n)=>n==null?void 0:t(n)}function V$(t){let e=t.length;for(;--e>0&&!Z$(t,e););return H$(t.slice(e+1))}function Z$(t,e){if(t[e]==="/"){let n=0;for(;e>0&&t[--e]==="\\";)++n;if(!(n&1))return!0}return!1}var s5=2,u5=3,dp=4;function c5(t,e){let n=[];for(let r in t){let o=t[r],i=e(o);i!==void 0&&n.push([r,...ve(o),i])}return n}function l5(t,{fill:e,stroke:n,strokeWidth:r,strokeOpacity:o,strokeLinejoin:i,strokeLinecap:a,strokeMiterlimit:f,strokeDasharray:s,strokeDashoffset:u,marker:c,markerStart:h=c,markerEnd:l=c,dot:d=Tt(h)&&Tt(l),text:p="node:name",textStroke:m="var(--plot-background)",title:x="node:path",dx:y,dy:g,textAnchor:w,treeLayout:b=ti,textLayout:_=b===ti||b===nl?"mirrored":"normal",tip:v,...M}={}){if(y===void 0&&(y=mp(M.treeAnchor).dx),w!==void 0)throw new Error("textAnchor is not a configurable tree option");_=ae(_,"textLayout",["mirrored","normal"]);function k(S){return Br(t,pp({treeLayout:b,text:p,fill:e===void 0?"currentColor":e,stroke:m,dx:y,dy:g,title:x,...S,...M}))}return se(jg(t,wy({treeLayout:b,markerStart:h,markerEnd:l,stroke:n!==void 0?n:e===void 0?"node:internal":e,strokeWidth:r,strokeOpacity:o,strokeLinejoin:i,strokeLinecap:a,strokeMiterlimit:f,strokeDasharray:s,strokeDashoffset:u,...M})),d?En(t,pp({treeLayout:b,fill:e===void 0?"node:internal":e,title:x,tip:v,...M})):null,p!=null?_==="mirrored"?[k({textAnchor:"start",treeFilter:"node:external"}),k({textAnchor:"end",treeFilter:"node:internal",dx:-y})]:k():null)}function K$(t,e){return l5(t,{...e,treeLayout:nl})}var d5={ariaLabel:"waffle"},gp=class extends ff{constructor(e,{unit:n=1,gap:r=1,round:o,multiple:i,...a}={}){super(e,p5("x",a),d5),this.unit=Math.max(0,n),this.gap=+r,this.round=m5(o),this.multiple=g5(i)}},yp=class extends sf{constructor(e,{unit:n=1,gap:r=1,round:o,multiple:i,...a}={}){super(e,p5("y",a),d5),this.unit=Math.max(0,n),this.gap=+r,this.round=m5(o),this.multiple=g5(i)}};function p5(t,e){let n=t==="y"?"x":"y",r=`${t}1`,o=`${t}2`;return It(Q$(e),function(i,a,f,s,u){let{round:c,unit:h}=this,l=f[r].value,d=f[o].value,p=_o({...n in f&&{[n]:f[n]},[r]:f[r],[o]:f[o]},s),m=this[t==="y"?"_width":"_height"](s,p,u),x=this[t==="y"?"_x":"_y"](s,p,u),y=h*eE(s.scales[t]),{multiple:g=Math.max(1,Math.floor(Math.sqrt(m/y)))}=this,w=Math.min(m/g,y*g),b=y*g,_=(m-g*w)/2,v=typeof x=="function"?N=>x(N)+_:x+_,M=s[t](0),k=t==="y"?([N,R])=>[N*w,-R*b]:([N,R])=>[R*b,N*w],S=typeof v=="function"?N=>v(N)-m/2:()=>v,[A,T]=t==="y"?[0,1]:[1,0],$=d.length,I=new Array($),E=new Float64Array($),C=new Float64Array($);for(let N=0;N<$;++N){I[N]=_y(c(l[N]/h),c(d[N]/h),g).map(k);let R=I[N].pop();E[N]=R[A]+S(N),C[N]=R[T]+M}return{channels:{polygon:{value:I,source:null,filter:null},[`c${n}`]:{value:[w,v],source:null,filter:null},[`c${t}`]:{value:[b,M],source:null,filter:null},[n]:{value:E,scale:null,source:null},[r]:{value:C,scale:null,source:f[r]},[o]:{value:C,scale:null,source:f[o]}}}})}function Q$({render:t,...e}){return{...e,render:ko(t,function(n,r,o,i,a){let{gap:f,rx:s,ry:u}=this,{channels:c,ariaLabel:h,href:l,title:d,...p}=o,{document:m}=a,x=c.polygon.value,[y,g]=c.cx.value,[w,b]=c.cy.value,_=n3(),v=m.createElementNS(De.svg,"pattern");v.setAttribute("width",y),v.setAttribute("height",w),v.setAttribute("patternUnits","userSpaceOnUse");let M=v.appendChild(m.createElementNS(De.svg,"rect"));return M.setAttribute("x",f/2),M.setAttribute("y",f/2),M.setAttribute("width",y-f),M.setAttribute("height",w-f),s!=null&&M.setAttribute("rx",s),u!=null&&M.setAttribute("ry",u),K("svg:g",a).call(ct,this,i,a).call(this._transform,this,r).call(k=>k.selectAll().data(n).enter().append(()=>v.cloneNode(!0)).attr("id",S=>`${_}-${S}`).select("rect").call(rt,this).call(dt,this,p)).call(k=>k.selectAll().data(n).enter().append("path").attr("transform",fr`translate(${g},${b})`).attr("d",S=>`M${x[S].join("L")}Z`).attr("fill",S=>`url(#${_}-${S})`).attr("stroke",this.stroke==null?null:"none").call(dt,this,{ariaLabel:h,href:l,title:d})).node()})}}function _y(t,e,n){if(e<t)return _y(e,t,n);if(t<0)return J$(t,e,n,Math.ceil(-Math.min(t,e)/n));let r=Math.floor(t%n),o=Math.ceil(t%n),i=Math.floor(e%n),a=Math.ceil(e%n),f=Math.floor(t/n),s=Math.ceil(t/n),u=Math.floor(e/n),c=Math.ceil(e/n),h=[];return c>s&&h.push([0,s]),h.push([r,s],[r,f+t%1],[o,f+t%1]),t%n>n-1||(h.push([o,f]),u>f&&h.push([n,f])),u>f&&h.push([n,u]),h.push([a,u],[a,u+e%1],[i,u+e%1]),e%n<1||(h.push([i,c]),c>s&&h.push([0,c])),h.push(tE(t,e,n)),h}function J$(t,e,n,r){return _y(t+r*n,e+r*n,n).map(([o,i])=>[o,i-r])}function tE(t,e,n){let r=Math.floor(e/n)-Math.floor(t/n);return r===0?vy(t,e,n):r===1?Math.floor(e%n)>Math.ceil(t%n)?[(Math.floor(e%n)+Math.ceil(t%n))/2,Math.floor(e/n)]:e%n>n-t%n?vy(e-e%n,e,n):vy(t,n*Math.ceil(t/n),n):[n/2,(Math.round(t/n)+Math.round(e/n))/2]}function vy(t,e,n){let r=Math.floor(e)-Math.floor(t);return r===0?[Math.floor(t%n)+.5,Math.floor(t/n)+(t+e)/2%1]:r===1?e%1-t%1>.5?[Math.ceil(t%n),Math.floor(e/n)+(t%1+e%1)/2]:e%1>1-t%1?[Math.floor(e%n)+.5,Math.floor(e/n)+e%1/2]:[Math.floor(t%n)+.5,Math.floor(t/n)+(1+t%1)/2]:[Math.ceil(t%n)+Math.ceil(Math.floor(e)-Math.ceil(t))/2,Math.floor(t/n)+(e>=1+t?.5:(t+e)/2%1)]}function m5(t){if(t===void 0||t===!1)return Number;if(t===!0)return Math.round;if(typeof t!="function")throw new Error(`invalid round: ${t}`);return t}function g5(t){return t===void 0?void 0:Math.max(1,Math.floor(t))}function eE({domain:t,range:e}){return h5(e)/h5(t)}function h5(t){let[e,n]=_t(t);return n-e}function nE(t,{tip:e,...n}={}){return Rr(n)||(n={...n,y:Ct,x2:B}),new gp(t,{tip:y5(e),...Eo(Ha(Co(n)))})}function rE(t,{tip:e,...n}={}){return Rr(n)||(n={...n,x:Ct,y2:B}),new yp(t,{tip:y5(e),...No(ja($o(n)))})}function y5(t){return t===!0?{maxRadius:1/0}:re(t)&&t.maxRadius===void 0?{...t,maxRadius:1/0}:void 0}var C5=K5(A5(),1);var lE=({marginLeft:t})=>[1,t],hE=({width:t,marginRight:e})=>[-1,t-e],dE=({width:t,marginLeft:e,marginRight:n})=>[0,(e+t-n)/2],pE=({marginTop:t})=>[1,t],mE=({height:t,marginBottom:e})=>[-1,t-e],gE=({height:t,marginTop:e,marginBottom:n})=>[0,(e+t-n)/2];function $5(t){return typeof t=="string"?{anchor:t}:t}function yE(t={},e={}){arguments.length===1&&([t,e]=E5(t));let{anchor:n="left",padding:r=1,r:o=e.r}=$5(t);switch(`${n}`.toLowerCase()){case"left":n=lE;break;case"right":n=hE;break;case"middle":n=dE;break;default:throw new Error(`unknown dodge anchor: ${n}`)}return N5("x","y",n,wt(r),o,e)}function xE(t={},e={}){arguments.length===1&&([t,e]=E5(t));let{anchor:n="bottom",padding:r=1,r:o=e.r}=$5(t);switch(`${n}`.toLowerCase()){case"top":n=pE;break;case"bottom":n=mE;break;case"middle":n=gE;break;default:throw new Error(`unknown dodge anchor: ${n}`)}return N5("y","x",n,wt(r),o,e)}function E5(t){let{anchor:e,padding:n,...r}=t,{r:o}=r;return[{anchor:e,padding:n,r:o},r]}function N5(t,e,n,r,o,i){if(o!=null&&typeof o!="number"){let{channels:a,sort:f,reverse:s}=i;a=ou(a),a?.r===void 0&&(i={...i,channels:{...a,r:{value:o,scale:"r"}}}),f===void 0&&s===void 0&&(i.sort={channel:"-r"})}return It(i,function(a,f,s,u,c,h){let{[e]:l,r:d}=s;if(!s[e])throw new Error(`missing channel: ${e}`);({[e]:l}=ir(s,u,h));let p=d?void 0:o!==void 0?wt(o):this.r!==void 0?this.r:3;d&&(d=tt(d.value,u[d.scale]||B,Float64Array));let[m,x]=n(c),y=m?wE:bE,g=new Float64Array(l.length),w=d?b=>d[b]:()=>p;for(let b of f){let _=(0,C5.default)();b=b.filter(d?M=>Ta(l[M])&&Ue(d[M]):M=>Ta(l[M]));let v=new Float64Array(2*b.length+2);for(let M of b){let k=w(M),S=m?k+r:0,A=l[M]-k,T=l[M]+k,$=2;_.queryInterval(A-r,T+r,([,,E])=>{let C=g[E]-S,N=l[M]-l[E],R=r+(d?d[M]+d[E]:2*p),z=Math.sqrt(R*R-N*N);v[$++]=C-z,v[$++]=C+z});let I=v.slice(0,$);m&&(I=I.filter(E=>E>=0));t:for(let E of I.sort(y)){for(let C=0;C<$;C+=2)if(v[C]+1e-6<E&&E<v[C+1]-1e-6)continue t;g[M]=E+S;break}_.insert([A,T,M])}}m||(m=1);for(let b of f)for(let _ of b)g[_]=g[_]*m+x;return{data:a,facets:f,channels:{[t]:{value:g,source:null},[e]:{value:l,source:s[e]},...d&&{r:{value:d,source:s.r}}}}})}function bE(t,e){return Math.abs(t)-Math.abs(e)}function wE(t,e){return t-e}function vE(t,e){return arguments.length===1&&({basis:t,...e}=t),Au(Cy(t),e)}function _E(t,e){return arguments.length===1&&({basis:t,...e}=t),Cu(Cy(t),e)}function Cy(t){if(t===void 0)return I5;if(typeof t=="function")return wp(Na(t));if(/^p\d{2}$/i.test(t))return vf(Ea(t));switch(`${t}`.toLowerCase()){case"deviation":return TE;case"first":return I5;case"last":return SE;case"max":return kE;case"mean":return AE;case"median":return CE;case"min":return $E;case"sum":return EE;case"extent":return ME}throw new Error(`invalid basis: ${t}`)}function wp(t){return{mapIndex(e,n,r){let o=+t(e,n);for(let i of e)r[i]=n[i]===null?NaN:n[i]/o}}}function vf(t){return wp((e,n)=>t(e,r=>n[r]))}var ME={mapIndex(t,e,n){let[r,o]=_t(t,a=>e[a]),i=o-r;for(let a of t)n[a]=e[a]===null?NaN:(e[a]-r)/i}},I5=wp((t,e)=>{for(let n=0;n<t.length;++n){let r=e[t[n]];if(Yt(r))return r}}),SE=wp((t,e)=>{for(let n=t.length-1;n>=0;--n){let r=e[t[n]];if(Yt(r))return r}}),TE={mapIndex(t,e,n){let r=dr(t,i=>e[i]),o=rn(t,i=>e[i]);for(let i of t)n[i]=e[i]===null?NaN:o?(e[i]-r)/o:0}},kE=vf(At),AE=vf(dr),CE=vf(vn),$E=vf(zt),EE=vf(xe);function NE(t,e){return R5("x",t,e)}function IE(t,e){return R5("y",t,e)}function R5(t,e,n={}){let r,o=1;if(typeof e=="number")o=e,r=(u,c)=>+u+c;else{if(typeof e=="string"){let u=e.startsWith("-")?-1:1;[e,o]=Wh(e.replace(/^[+-]/,"")),o*=u}e=Ra(e),r=(u,c)=>e.offset(u,c)}let i=`${t}1`,a=`${t}2`,f=nn({[i]:u=>u.map(c=>r(c,o)),[a]:u=>u},n),s=f[a].transform;return f[a].transform=()=>{let u=s(),[c,h]=_t(u);return u.domain=o<0?[c,r(h,o)]:[r(c,o),h],u},f}function RE(t,e={}){if(typeof t=="string")switch(t.toLowerCase()){case"first":return D5(e);case"last":return P5(e)}if(typeof t=="function")return Lo(null,t,e);let n,r;for(n in t){if(r!==void 0)throw new Error("ambiguous selector; multiple inputs");r=DE(t[n])}if(r===void 0)throw new Error(`invalid selector: ${t}`);return Lo(n,r,e)}function DE(t){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"min":return $y;case"max":return Ey}throw new Error(`unknown selector: ${t}`)}function D5(t){return Lo(null,FE,t)}function P5(t){return Lo(null,YE,t)}function PE(t){return Lo("x",$y,t)}function LE(t){return Lo("y",$y,t)}function OE(t){return Lo("x",Ey,t)}function zE(t){return Lo("y",Ey,t)}function*FE(t){yield t[0]}function*YE(t){yield t[t.length-1]}function*$y(t,e){yield Wu(t,n=>e[n])}function*Ey(t,e){yield Fo(t,n=>e[n])}function Lo(t,e,n){if(t!=null){if(n[t]==null)throw new Error(`missing channel: ${t}`);t=n[t]}let r=$e(n);return fe(n,(o,i)=>{let a=tt(o,r),f=tt(o,t),s=[];for(let u of i){let c=[];for(let h of a?ge(u,l=>a[l]).values():[u])for(let l of e(h,f))c.push(l);s.push(c)}return{data:o,facets:s}})}nt.prototype.plot=function({marks:t=[],...e}={}){return Bg({...e,marks:[...t,this]})};export{of as Area,Vd as Arrow,ff as BarX,sf as BarY,uf as Cell,ip as Contour,ap as Density,cf as Dot,Fd as Frame,fp as Geo,sp as Hexgrid,up as Image,lf as Line,jd as Link,nt as Mark,rp as Raster,ef as Rect,kd as RuleX,Ad as RuleY,Va as Text,ep as TickX,np as TickY,Yd as Tip,Ka as Vector,gp as WaffleX,yp as WaffleY,Hd as area,ki as areaX,Do as areaY,aC as arrow,xC as auto,C6 as autoSpec,Ig as axisFx,Ng as axisFy,Id as axisX,Nd as axisY,Wr as barX,Gr as barY,Ro as bin,Xr as binX,Ur as binY,Ei as bollinger,OC as bollingerX,zC as bollingerY,YC as boxX,qC as boxY,Ai as cell,uC as cellX,cC as cellY,cy as centroid,pC as circle,K$ as cluster,ve as column,e$ as contour,r$ as crosshair,o$ as crosshairX,i$ as crosshairY,d$ as delaunayLink,p$ as delaunayMesh,b$ as density,_$ as differenceX,M$ as differenceY,yE as dodgeX,xE as dodgeY,En as dot,hC as dotX,dC as dotY,oT as filter,bT as find,t3 as formatIsoDate,ok as formatMonth,J_ as formatNumber,ik as formatWeekday,vu as frame,ly as geo,S$ as geoCentroid,A$ as graticule,Lg as gridFx,Dg as gridFy,Pg as gridX,Rg as gridY,td as group,bi as groupX,wi as groupY,Jh as groupZ,mC as hexagon,C$ as hexbin,N$ as hexgrid,m$ as hull,B as identity,L$ as image,Ct as indexOf,It as initializer,z6 as interpolateNearest,ey as interpolateNone,O6 as interpolatorBarycentric,F6 as interpolatorRandomWalk,Jk as legend,hf as line,Ci as lineX,$i as lineY,q$ as linearRegressionX,B$ as linearRegressionY,jg as link,nn as map,Au as mapX,Cu as mapY,se as marks,Cy as normalize,vE as normalizeX,_E as normalizeY,Sv as numberInterval,Bg as plot,du as pointer,pu as pointerX,Wa as pointerY,XC as raster,zd as rect,bu as rectX,wu as rectY,iT as reverse,xn as ruleX,bn as ruleY,XT as scale,RE as select,D5 as selectFirst,P5 as selectLast,OE as selectMaxX,zE as selectMaxY,PE as selectMinX,LE as selectMinY,NE as shiftX,IE as shiftY,aT as shuffle,F1 as sort,k$ as sphere,Xk as spike,t6 as stackX,nA as stackX1,rA as stackX2,e6 as stackY,oA as stackY1,iA as stackY2,Br as text,Mg as textX,Sg as textY,Kg as tickX,Qg as tickY,Gh as timeInterval,Fg as tip,fe as transform,l5 as tree,wy as treeLink,pp as treeNode,$a as utcInterval,tt as valueof,$3 as vector,Cg as vectorX,$g as vectorY,g$ as voronoi,y$ as voronoiMesh,nE as waffleX,rE as waffleY,$u as window,TC as windowX,kC as windowY};
//# sourceMappingURL=plot.bundle.mjs.map